(function(t){function e(e){for(var o,r,s=e[0],c=e[1],u=e[2],l=0,m=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&m.push(a[r][0]),a[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);p&&p(e);while(m.length)m.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,r=1;r<n.length;r++){var s=n[r];0!==a[s]&&(o=!1)}o&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},r={app:0},a={app:0},i=[];function s(t){return c.p+"js/"+({Login:"Login",Startup_choices:"Startup_choices",Startup_confirm_initial_position:"Startup_confirm_initial_position",Startup_loading_existing_map:"Startup_loading_existing_map",Startup_remove_dc_cord:"Startup_remove_dc_cord",confirm_position:"confirm_position",startup_map:"startup_map",is_the_robot_charging:"is_the_robot_charging",noConnection:"noConnection",notFound:"notFound",points_manager:"points_manager",startup:"startup",startup_loading:"startup_loading",startup_slam_save:"startup_slam_save",startup_slam_scan:"startup_slam_scan",startup_slam_start_scanning:"startup_slam_start_scanning",startup_wants_to_go_home:"startup_wants_to_go_home"}[t]||t)+"."+{Login:"5deaf40b",Startup_choices:"8881d273",Startup_confirm_initial_position:"494256b8",Startup_loading_existing_map:"4f35e1a4",Startup_remove_dc_cord:"b0274aea","chunk-38056793":"3d626ca1","chunk-68b759ad":"6e7d09e4","chunk-41a6c350":"6cc16c4f","chunk-294d326e":"01f0f673","chunk-8c1a930a":"8562e9eb",confirm_position:"5094ec4f",startup_map:"c3c820c4","chunk-5ebbf51a":"180a9664",is_the_robot_charging:"7f42b035",noConnection:"e1e7a0c9",notFound:"74f1199d",points_manager:"bee60ad6",startup:"f35e797c",startup_loading:"7cf3b9cb",startup_slam_save:"2a5f5555",startup_slam_scan:"4ec50b77",startup_slam_start_scanning:"7fc26359",startup_wants_to_go_home:"48700de7"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={Login:1,Startup_choices:1,Startup_confirm_initial_position:1,Startup_loading_existing_map:1,Startup_remove_dc_cord:1,"chunk-38056793":1,"chunk-68b759ad":1,"chunk-294d326e":1,"chunk-8c1a930a":1,confirm_position:1,startup_map:1,"chunk-5ebbf51a":1,is_the_robot_charging:1,noConnection:1,notFound:1,points_manager:1,startup_loading:1,startup_slam_save:1,startup_slam_scan:1,startup_slam_start_scanning:1,startup_wants_to_go_home:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var o="css/"+({Login:"Login",Startup_choices:"Startup_choices",Startup_confirm_initial_position:"Startup_confirm_initial_position",Startup_loading_existing_map:"Startup_loading_existing_map",Startup_remove_dc_cord:"Startup_remove_dc_cord",confirm_position:"confirm_position",startup_map:"startup_map",is_the_robot_charging:"is_the_robot_charging",noConnection:"noConnection",notFound:"notFound",points_manager:"points_manager",startup:"startup",startup_loading:"startup_loading",startup_slam_save:"startup_slam_save",startup_slam_scan:"startup_slam_scan",startup_slam_start_scanning:"startup_slam_start_scanning",startup_wants_to_go_home:"startup_wants_to_go_home"}[t]||t)+"."+{Login:"75dfe67c",Startup_choices:"6d5a9d4a",Startup_confirm_initial_position:"cca123c2",Startup_loading_existing_map:"59070f9a",Startup_remove_dc_cord:"1bb56d94","chunk-38056793":"1199b3f6","chunk-68b759ad":"489f3631","chunk-41a6c350":"31d6cfe0","chunk-294d326e":"7f460b59","chunk-8c1a930a":"46a4ad92",confirm_position:"0dc7b3cf",startup_map:"57595149","chunk-5ebbf51a":"7fd50c54",is_the_robot_charging:"180dd93d",noConnection:"b0f2cce4",notFound:"ca26f916",points_manager:"e7ec3632",startup:"31d6cfe0",startup_loading:"c23c0c85",startup_slam_save:"bfc2c8fd",startup_slam_scan:"72e057c6",startup_slam_start_scanning:"2db78dec",startup_wants_to_go_home:"e2ecb53c"}[t]+".css",a=c.p+o,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===o||l===a))return e()}var m=document.getElementsByTagName("style");for(s=0;s<m.length;s++){u=m[s],l=u.getAttribute("data-href");if(l===o||l===a)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var o=e&&e.target&&e.target.src||a,i=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete r[t],p.parentNode.removeChild(p),n(i)},p.href=a;var d=document.getElementsByTagName("head")[0];d.appendChild(p)})).then((function(){r[t]=0})));var o=a[t];if(0!==o)if(o)e.push(o[2]);else{var i=new Promise((function(e,n){o=a[t]=[e,n]}));e.push(o[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(t);var m=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(p);var n=a[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;m.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",m.name="ChunkLoadError",m.type=o,m.request=r,n[1](m)}a[t]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var m=0;m<u.length;m++)e(u[m]);var p=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"47e3":function(t,e,n){"use strict";e["a"]={server_addr:"localhost",bridge_address:"localhost",api_port:"8085"}},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"app",transition:"slide-y-transition"}},[n("notifications",{attrs:{group:"main",position:"bottom right",max:5,duration:1e4}}),t.loading?n("div",{staticClass:"loading"},[n("v-progress-circular",{staticStyle:{position:"fixed",top:"50%",left:"50%"},attrs:{size:50,color:"primary",indeterminate:""}})],1):t._e(),t.auth?n("v-app-bar",{attrs:{color:"#706f6f",id:"mainbar",app:"",dense:"","clipped-left":"",dark:""}},[n("v-app-bar-nav-icon",{on:{click:function(e){t.navDrawer=!t.navDrawer}}}),n("div",{},[1==t.breakpoint?n("span",{staticClass:"font-weight-black pl-4"},[n("v-icon",[t._v("mdi-battery")]),t._v(":"+t._s(t.status["power"]["battery"]))],1):t._e(),1==t.breakpoint?n("span",{staticClass:"font-weight-black pl-2"},[t._v("| "),n("v-icon",[t._v("mdi-battery-charging-100")]),t._v(": "+t._s(t.status["power"]["charging_status"]||t.status["power"]["cord"]?"YES":"NO"))],1):t._e(),1==t.breakpoint?n("span",{staticClass:"font-weight-black pl-2"},[t._v("| "),n("v-icon",[t._v("mdi-thermometer")]),t._v(": "+t._s((""+t.status["sensors"]["temp"][0]).slice(0,2)))],1):t._e()]),1==t.breakpoint&&"ato"==t.mode?n("v-spacer"):t._e(),1==t.breakpoint&&"ato"==t.mode?n("div",{},[n("span",{staticClass:"font-weight-black pl-2"},[n("v-icon",[t._v("mdi-book")]),t._v(": "+t._s(t.story_status["default_story"]+"-"+t.story_status["story_current_count"])+" ")],1),n("span",{staticClass:"font-weight-black pl-2"},[n("v-icon",[t._v("mdi-play")]),t._v(": "+t._s(""==t.story_status["running_action"]?"No Action":t.story_status["running_action"])+" ")],1),n("span",{staticClass:"font-weight-black pl-2"},[t._v(t._s(t.paused)+" ")])]):t._e(),n("v-spacer"),"ato"==t.mode?n("v-btn",{attrs:{color:"",icon:""},on:{click:t.restart_ato}},[n("v-icon",[t._v("mdi-replay")])],1):t._e(),"story_ended"!=t.paused&&"ato"==t.mode?n("v-btn",{attrs:{color:"",icon:""},on:{click:t.toggle_pause_ato}},["user paused"==t.paused?n("v-icon",[t._v("mdi-play ")]):n("v-icon",[t._v(" mdi-pause ")])],1):t._e(),""!=t.mode?n("v-btn",{staticClass:"ml-2",attrs:{color:"secondary"},on:{click:t.toggle_mode}},[t._v(" "+t._s("mnl"==t.mode?"Manual":"Auto")+" ")]):t._e(),n("v-btn",{staticClass:"ml-2",attrs:{color:"error"},on:{click:t.toggle_navigation_detach}},[t._v(" "+t._s(t.navigation_detached?"RELEASE":"EMG")+" ")]),n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.attrs,r=e.on;return[n("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",o,!1),r),[n("v-icon",{staticStyle:{"font-size":"40px"}},[t._v("mdi-account")])],1)]}}],null,!1,2429540816)},[n("v-list",{attrs:{dark:t.isDark,dense:"","min-width":"180"}},[n("v-list-item-group",[n("v-list-item",{attrs:{link:""},on:{click:t.logout}},[n("v-icon",{attrs:{left:"",small:""}},[t._v("mdi-key")]),n("v-list-item-content",[n("v-list-item-title",[t._v(" Logout")])],1)],1),n("v-list-item",{attrs:{link:""},on:{click:t.setIsDark}},[n("v-icon",{attrs:{left:"",small:""}},[t._v("mdi-white-balance-sunny")]),n("v-list-item-content",[n("v-list-item-title",[t._v(" Dark Theme")])],1)],1)],1)],1)],1)],1):t._e(),t.auth?n("v-navigation-drawer",{attrs:{app:"",color:"#060633",clipped:"",dark:"","mini-variant":t.navDrawerMini},model:{value:t.navDrawer,callback:function(e){t.navDrawer=e},expression:"navDrawer"}},[n("v-list",{attrs:{rounded:!t.navDrawerMini}},[n("v-list-item",{on:{click:function(e){t.navDrawerMini=!t.navDrawerMini}}},[n("v-list-item-icon",[n("v-icon",[t._v(t._s(t.navDrawerExpansionArrow))])],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"ml-4"},[t._v(" Minimize ")])],1)],1),n("v-divider",{staticClass:"my-2"}),t.restrictions["startup"]?t._e():n("v-list-group",{attrs:{color:"white","prepend-icon":"mdi-robot"},scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-list-item-title",[t._v("Startup")])]},proxy:!0}],null,!1,587852162)},[n("v-list-item",{attrs:{to:{name:"startup"}}},[n("v-list-item-icon",[n("v-icon",{staticClass:"mx-auto",attrs:{small:""}},[t._v("mdi-launch")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Startup")])],1)],1),n("v-list-item",{attrs:{to:{name:"startup_map"}}},[n("v-list-item-icon",[n("v-icon",{staticClass:"mx-auto",attrs:{small:""}},[t._v("mdi-map")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Startup Map")])],1)],1)],1),n("v-list-group",{attrs:{color:"white","prepend-icon":"mdi-robot"},scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-list-item-title",[t._v("Basic")])]},proxy:!0}],null,!1,4269517085)},[n("v-list-item",{attrs:{to:{name:"summary"}}},[n("v-list-item-icon",[n("v-icon",{staticClass:"mx-auto",attrs:{small:""}},[t._v("mdi-information")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Summary")])],1)],1)],1),n("v-list-item",{attrs:{to:{name:"live"}}},[n("v-list-item-icon",[n("v-icon",{staticClass:"mx-auto",attrs:{small:""}},[t._v("mdi-information")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Live")])],1)],1),t.restrictions["points_manager"]?t._e():n("v-list-item",{attrs:{to:{name:"points_manager"}}},[n("v-list-item-icon",[n("v-icon",{staticClass:"mx-auto",attrs:{small:""}},[t._v("mdi-map-marker")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Point Manager")])],1)],1),t.restrictions["act_manager"]?t._e():n("v-list-item",{attrs:{to:{name:"act_manager"}}},[n("v-list-item-icon",[n("v-icon",{staticClass:"mx-auto",attrs:{small:""}},[t._v("mdi-play")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Act Manager")])],1)],1),t.restrictions["story_manager"]?t._e():n("v-list-item",{attrs:{to:{name:"story_manager"}}},[n("v-list-item-icon",[n("v-icon",{staticClass:"mx-auto",attrs:{small:""}},[t._v("mdi-book")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Story Manager")])],1)],1),n("v-list-group",{attrs:{color:"white","prepend-icon":"mdi-access-point-network"},scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-list-item-title",[t._v("Networking")])]},proxy:!0}],null,!1,4282377817)},[n("v-list-item",{attrs:{to:{name:"bluetooth"}}},[n("v-list-item-icon",[n("v-icon",{staticClass:"mx-auto",attrs:{small:""}},[t._v("mdi-bluetooth")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Bluetooth")])],1)],1)],1),n("v-list-group",{attrs:{color:"white","prepend-icon":"mdi-cash-multiple"},scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-list-item-title",[t._v("Voucher")])]},proxy:!0}],null,!1,1329227895)},[n("v-list-item",{attrs:{to:{name:"voucher_loader"}}},[n("v-list-item-icon",[n("v-icon",{staticClass:"mx-auto",attrs:{small:""}},[t._v("mdi-ticket-confirmation")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Voucher Loader")])],1)],1)],1),n("v-list-group",{attrs:{color:"white","prepend-icon":"mdi-volume-high"},scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-list-item-title",[t._v("Speach Controller")])]},proxy:!0}],null,!1,3658225303)},[n("v-list-item",{attrs:{to:{name:"voice"}}},[n("v-list-item-icon",[n("v-icon",{staticClass:"mx-auto",attrs:{small:""}},[t._v("mdi-pencil")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Speach Generater")])],1)],1)],1)],1)],1):t._e(),n("v-main",{class:(t.isDark?"blue-grey darken-4 grey--text text--lighten-4":"grey lighten-4 grey--text text--darken-2")+" "},[n("v-container",{staticClass:"pa-0 ma-0",attrs:{fluid:""}},[n("router-view")],1),n("v-footer",{staticClass:"blue-grey darken-2 text-center hidden-lg-and-down pa-0 ma-0",attrs:{padless:"",fixed:""}},[n("v-card",{staticClass:"pa-0",attrs:{flat:"",tile:"",color:"blue-grey darken-2",width:"100%"}},[n("v-card-text",{staticClass:"white--text pa-0 caption"},[t._v(" "+t._s((new Date).getFullYear())+" - "),n("strong",[t._v("Libyano")])])],1)],1)],1)],1)},a=[],i=n("1da1"),s=(n("96cf"),n("d3b7"),n("b0c0"),n("47e3")),c=n("e86b"),u=n.n(c);function l(t){return new Promise((function(e){return setTimeout(e,t)}))}function m(){return p.apply(this,arguments)}function p(){return p=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=!0;case 1:if(!e){t.next=6;break}return t.next=4,l(1500).then((function(){n=new u.a.Ros({url:"ws://".concat(s["a"].bridge_address,":9090")}),n.on("connection",(function(){e=!1})),n.on("error",(function(){console.error("error connecting to rosbridge")}))}));case 4:t.next=1;break;case 6:return t.abrupt("return",new Promise((function(t){return t(n)})));case 7:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}var d={computed:{status:function(){return this.$store.getters["Ros/status"]["power"]?this.$store.getters["Ros/status"]:this.temp_status},navDrawerExpansionArrow:function(){return this.navDrawerMini?"mdi-arrow-right":"mdi-arrow-left"},isDark:function(){return this.$store.getters["Theme/isDark"]},auth:function(){return this.$store.getters["User/auth"]},alert:function(){return this.$store.getters["Notify/alert"]},notifyMessage:function(){return this.$store.getters["Notify/message"]},loading:function(){return this.$store.getters["Loading/get"]},mode:function(){return this.$store.getters["Ros/mode"]},restrictions:function(){return this.$store.getters["Router/get_restrictions"]},breakpoint:function(){var t=this,e="md";switch(console.log(this.$vuetify.breakpoint.name),e){case"xs":switch(t.$vuetify.breakpoint.name){case"xs":return!0;case"sm":return!0;case"md":return!0;case"lg":return!0;case"xl":return!0;default:return!1}case"sm":switch(t.$vuetify.breakpoint.name){case"xs":return!1;case"sm":return!0;case"md":return!0;case"lg":return!0;case"xl":return!0;default:return!1}case"md":switch(t.$vuetify.breakpoint.name){case"xs":return!1;case"sm":return!1;case"md":return!0;case"lg":return!0;case"xl":return!0;default:return!1}case"lg":switch(t.$vuetify.breakpoint.name){case"xs":return!1;case"sm":return!1;case"md":return!1;case"lg":return!0;case"xl":return!0;default:return!1}case"xl":switch(t.$vuetify.breakpoint.name){case"xs":return!1;case"sm":return!1;case"md":return!1;case"lg":return!1;case"xl":return!0;default:return!1}default:return!1}},paused:function(){return this.story_status.pause_list&&this.story_status.pause_list[0]?this.story_status.pause_list.some((function(t){return"story_ended"==t}))?"story ended":this.story_status.pause_list.some((function(t){return"user"==t}))?"user paused":this.story_status.pause_list[0]:""}},data:function(){return{navDrawer:!0,navDrawerMini:!1,navigation_detached:!1,story_status:{},temp_status:{power:{battery:"Unknown",charging_status:"Unknown",cord:"Unknown"},sensors:{temp:["Unknown"]}}}},watch:{alert:function(){if(this.alert){var t=this.notifyMessage;t.duration?this.$notify({title:t.title,text:t.text,type:t.type,duration:t.duration,groupt:"main"}):this.$notify({title:t.title,text:t.text,type:t.type,group:"main"}),this.$store.dispatch("Notify/clear",null,{root:!0})}}},methods:{toggle_mode:function(){var t=this;""!=this.mode&&("mnl"==this.mode?this.$store.dispatch("Ros/take_action","operation/main_switch/mnlcancel",{root:!0}).then((function(e){console.log(e),"no_default_story"==e&&t.$store.dispatch("Notify/notify",{group:"main",text:"There is no default story selected",title:"No default story",type:"warning"},{root:!0})})).catch((function(t){console.log("error while cancelling mnl mode",t)})):"ato"==this.mode&&this.$store.dispatch("Ros/take_action","operation/main_switch/mnl",{root:!0}).then((function(t){console.log(t)})).catch((function(t){console.log("error while switching to mnl mode",t)})))},toggle_navigation_detach:function(){this.$store.dispatch("Ros/take_action","navigation/toggle_detach",{root:!0}).then((function(t){console.log(t)}))},setIsDark:function(){console.log("App: changing theme"),this.$store.dispatch("Theme/setDark",null,{root:!0})},logout:function(){var t=this;this.$store.dispatch("Loading/set",null,{root:!0}),console.log("Logging out"),this.$store.dispatch("User/logout",null,{root:!0}).then((function(){t.$router.push("login").then((function(){})).catch((function(t){console.log(t)})),t.$store.dispatch("Loading/clear",null,{root:!0})}))},toggle_pause_ato:function(){var t=this;this.story_status.pause_list&&(this.story_status.pause_list.some((function(t){return"user"==t}))?this.$store.dispatch("Ros/take_action","operation/continue/user",{root:!0}).then((function(e){"done"==e?t.$store.dispatch("Notify/notify",{group:"main",text:"Story Continued Successfully.",title:"Story Continued",type:"success"},{root:!0}):"reason_not_found"==e&&t.$store.dispatch("Notify/notify",{group:"main",text:"Story is already running.",title:"Story is running",type:"warning"},{root:!0})})).catch((function(e){console.log("error occured while trying to continue the story",e),t.$store.dispatch("Notify/notify",{group:"main",text:"Error occured while trying to continue story ".concat(e,"."),title:"Error",type:"error"},{root:!0})})):this.$store.dispatch("Ros/take_action","operation/pause/user",{root:!0}).then((function(e){console.log(e),"paused"==e?t.$store.dispatch("Notify/notify",{group:"main",text:"Story Paused Successfully.",title:"Story Paused",type:"success"},{root:!0}):"reason_exists"==e&&t.$store.dispatch("Notify/notify",{group:"main",text:"Story is already Paused.",title:"Story is paused",type:"warning"},{root:!0})})).catch((function(e){console.log("error occured while trying to pause the story",e),t.$store.dispatch("Notify/notify",{group:"main",text:"Error occured while trying to pause story ".concat(e,"."),title:"Error",type:"error"},{root:!0})})))},restart_ato:function(){var t=this;"ato"==this.mode&&this.$store.dispatch("Ros/take_action","operation/restart",{root:!0}).then((function(){t.$store.dispatch("Notify/notify",{group:"main",text:"story is restarting",title:"story restarted",type:"success"},{root:!0})})).catch((function(e){t.$store.dispatch("Notify/notify",{group:"main",text:"Error occured while trying to restart story ".concat(e,"."),title:"Error",type:"error"},{root:!0})}))}},created:function(){var t=this,e=this;m().then((function(t){var n=new u.a.Topic({ros:t,name:"/story_controller/get_status_json",messageType:"std_msgs/String"});n.subscribe((function(t){e.story_status=JSON.parse(t.data)}));var o=new u.a.Topic({ros:t,throttle_rate:100,name:"/status",messageType:"status_msgs/status"});o.subscribe((function(t){e.$store.commit("Ros/setStatus",t)}));var r=new u.a.Topic({ros:t,name:"/mode",throttle_rate:100,messageType:"std_msgs/String"});r.subscribe((function(t){e.$store.dispatch("Ros/setMode",t.data).then((function(){e.$store.dispatch("Router/update_restrictions",null,{root:!0}).then((function(){e.$route.matched.some((function(t){return!!e.restrictions[t.name]}))&&e.$router.push({name:e.$store.getters["Router/get_unrestricted_route"]})}))}))}))})),setInterval((function(){t.$store.dispatch("Ros/take_action","navigation/is_detached",{root:!0}).then((function(e){t.navigation_detached="1"!=e}))}),500),this.$store.dispatch("User/checkToken",null,{root:!0})}},_=d,f=(n("e7ba"),n("2877")),h=n("6544"),g=n.n(h),v=n("7496"),y=n("40dc"),b=n("5bc1"),k=n("8336"),w=n("b0af"),S=n("99d9"),x=n("a523"),C=n("ce7e"),P=n("553a"),$=n("132d"),D=n("8860"),A=n("56b0"),q=n("da13"),V=n("5d23"),T=n("1baa"),N=n("34c3"),E=n("f6c4"),L=n("e449"),R=n("f774"),M=n("490a"),U=n("2fa4"),F=Object(f["a"])(_,r,a,!1,null,"4bed00ae",null),O=F.exports;g()(F,{VApp:v["a"],VAppBar:y["a"],VAppBarNavIcon:b["a"],VBtn:k["a"],VCard:w["a"],VCardText:S["b"],VContainer:x["a"],VDivider:C["a"],VFooter:P["a"],VIcon:$["a"],VList:D["a"],VListGroup:A["a"],VListItem:q["a"],VListItemContent:V["a"],VListItemGroup:T["a"],VListItemIcon:N["a"],VListItemTitle:V["b"],VMain:E["a"],VMenu:L["a"],VNavigationDrawer:R["a"],VProgressCircular:M["a"],VSpacer:U["a"]});n("3ca3"),n("ddb0"),n("99af");var j=n("8c4f"),I=n("2f62"),B=n("bc3a"),z=n.n(B),G=z.a.create({baseURL:"http://".concat(s["a"].server_addr,":").concat(s["a"].api_port,"/api/")});console.log("Api/Api Axios Api handler has been created"),G.interceptors.request.use((function(t){return rt.getters["User/auth"]&&(t.headers.Authorization=rt.getters["User/token"]),t})),window.api=G;var J=G,H={login:function(t){return new Promise((function(e,n){J.post("auth/login",t).then((function(t){console.log("Api/login: logging in succeed,",t),e(t)})).catch((function(t){console.log("Api/login: loggin in failed, ",t),n(t)}))}))}},Y={namespaced:!0,state:{token:""},getters:{auth:function(t){return console.log("Store/User: getters, gettigng auth state",t.token),!!t.token},token:function(t){return console.log("Store/User: getters, gettigng token",t.token),t.token}},mutations:{setToken:function(t,e){t.token=e},clearToken:function(t){t.token=""}},actions:{checkToken:function(t){t.commit("setToken",localStorage.getItem("token"))},setToken:function(t,e){return console.log("Store/User: setting token Dispatch, ",e),new Promise((function(n){e&&(localStorage.setItem("token",e),t.commit("setToken",e)),n()}))},clearToken:function(t){console.log("Store/User: clearing token Dispatch, ",localStorage.getItem("token")),localStorage.removeItem("token"),t.commit("clearToken")},login:function(t,e){return new Promise((function(n,o){H.login(e).then((function(e){console.log("Store/User: logging in Dispatch succeed, ",e),t.dispatch("setToken",e.data.token),n(e)})).catch((function(e){console.log("Store/User: logging in Dispatch failed, ",e),t.dispatch("clearToken"),o(e)}))}))},logout:function(t){return new Promise((function(e){t.dispatch("clearToken"),e()}))}}},K={connectionFlag:function(){return new Promise((function(t,e){J.get("ros/connection").then((function(e){console.log("Api/ros: connection flag brought successfully",e),t(e)})).catch((function(t){e(t)}))}))},status:function(){return new Promise((function(t,e){J.get("ros/status").then((function(e){t(e)})).catch((function(t){e(t)}))}))},postVouchers:function(t){return new Promise((function(e,n){console.log(t),J.post("seed/load_vouchers",{vouchers:t}).then((function(t){console.log("Api/ros: vouchers uploaded",t),e(t)})).catch((function(t){n(t)}))}))},getcurrentlocation:function(){return new Promise((function(t,e){J.get("ros/currentlocation",{}).then((function(e){t(e)})).catch((function(t){e(t)}))}))},action:function(t){return new Promise((function(e,n){J.post("ros/action",{action:t}).then((function(t){e(t.data.message)})).catch((function(t){console.log("taking action failed",t),n(t)}))}))}},Q={namespaced:!0,state:{connection_flag:!1,status:{},mode:"",pass:""},actions:{fetchConnectionFlag:function(t){var e=t.dispatch,n=t.commit;return new Promise((function(t,o){K.connectionFlag().then((function(e){n("setConnectionFlag",e.data.connection),e.data.connection?t(e):o(e)})).catch((function(t){e("ApiError/check",t,{root:!0}),o(t)}))}))},setMode:function(t,e){return new Promise((function(n){t.commit("setMode",e),n()}))},fetchMode:function(t){return new Promise((function(e,n){t.dispatch("Ros/take_action","global_actions/get_current_mode",{root:!0}).then((function(n){t.commit("setMode",n),e(n)})).catch((function(e){t.dispatch("ApiError/check",e,{root:!0}),n(e)}))}))},getcurrentlocation:function(t){return t.commit("pass"),new Promise((function(t,e){K.getcurrentlocation().then((function(e){t(e)})).catch((function(t){e(t)}))}))},postVouchers:function(t,e){return t.commit("pass"),new Promise((function(t,n){K.postVouchers(e).then((function(e){t(e)})).catch((function(t){console.log("error while posting  vouchers ",t),n(t)}))}))},take_action:function(t,e){return t.commit("pass"),new Promise((function(t,n){K.action(e).then((function(e){t(e)})).catch((function(t){n(t)}))}))}},mutations:{setConnectionFlag:function(t,e){t.connection_flag=e},setStatus:function(t,e){t.status=e},setMode:function(t,e){t.mode=e},pass:function(){}},getters:{connectionFlag:function(t){return t.connection_flag},status:function(t){return t.status},batteryPercentage:function(t){return t.status.power?t.status.power.battery+"%":"Undefined"},isCharging:function(t){return t.status.power?(console.log("Charging_status",t.status.power["charging_status"]),t.status.power["charging_status"]?"yes":"no"):"Undefined"},mode:function(t){return t.mode}}},W={namespaced:!0,state:{isDark:!1},getters:{isDark:function(t){return t.isDark}},actions:{setDark:function(t){t.commit("setDark")}},mutations:{setDark:function(t){t.isDark=!t.isDark}}},X={namespaced:!0,state:{loading:!0},actions:{set:function(t){t.commit("set")},clear:function(t){t.commit("clear")}},mutations:{set:function(t){t.loading=!0},clear:function(t){t.loading=!1}},getters:{get:function(t){return t.loading}}},Z={namespaced:!0,state:{alert:!1,message:{test:"",title:"",duration:"",type:""}},mutations:{notify:function(t,e){t.message=e,t.alert=!0},clear:function(t){t.alert=!1}},actions:{notify:function(t,e){t.commit("notify",e)},clear:function(t){t.commit("clear")}},getters:{message:function(t){return t.message},alert:function(t){return t.alert}}},tt=(n("bf19"),{namespaced:!0,actions:{check:function(t,e){var n=t.dispatch,o=e.toJSON();console.log("checking error");var r={err:o};return"Network Error"==o.message?(n("Notify/notify",{group:"main",text:"please check the connection with the Robot.",title:"Network Error",type:"error"},{root:!0}),r.to="noNetwork"):"Request failed with status code 404"==o.message?(n("Notify/notify",{group:"main",text:"this page does not exist.",title:"Page Not Found",type:"error"},{root:!0}),r.to="notFound"):(n("Notify/notify",{group:"main",text:"please contact the robot maintainers.",title:"Robot Server Error",type:"error"},{root:!0}),r.to="RobotServerError"),r}}}),et={fetch_sounds:function(){return new Promise((function(t,e){J.post("ros/action",{action:"interactive/sounds_list"}).then((function(e){console.log("response for fetching sounds",e.data),t(e)})).catch((function(t){console.error("Error whiel trying to fetch available file sounds",t),e(t)}))}))},play_temp:function(t){return console.log("playing content",t),new Promise((function(e,n){J.post("ros/action",{action:"interactive/play_temp/".concat(t.lang,"/").concat(t.content)}).then((function(t){e(t)})).catch((function(t){n(t)}))}))},play_save_file:function(t){return console.log("playing saved file",t),new Promise((function(e,n){J.post("ros/action",{action:"interactive/play_saved_file/".concat(t)}).then((function(t){e(t)})).catch((function(t){n(t)}))}))},save_sound:function(t){return console.log("saving sentacne",t.name,t.content,t.content),new Promise((function(e,n){J.post("ros/action",{action:"interactive/save_sound/".concat(t.lang,"/").concat(t.content,"/").concat(t.name)}).then((function(t){console.log("finished request and responce is ",t.data),e(t)})).catch((function(t){console.error("error occured while trying to save soudn file",t),n(t)}))}))},del_sound:function(t){return console.log("attempting to delete sound file at ",t),new Promise((function(e,n){J.post("ros/action",{action:"interactive/del_sound/".concat(t)}).then((function(t){console.log("deleting sound file resulted",t.data),e(t)})).catch((function(t){console.error("Error deleting sound file",t),n(t)}))}))}},nt={namespaced:!0,state:{counter:0},actions:{fetch_sounds:function(t){var e=t.commit;return e("add_counter"),new Promise((function(t,e){et.fetch_sounds().then((function(e){console.log("resolving sounds list",e.data),t(e.data)})).catch((function(t){console.error("error whiel fetching sound list",t),e(t)}))}))},del_file:function(t,e){var n=t.commit;return n("add_counter"),new Promise((function(t,n){et.del_sound(e).then((function(e){console.log("resolving deleting sound",e.data),t(e.data)})).catch((function(t){console.error("error whiel deleting sound file",t),n(t)}))}))},play_saved_file:function(t,e){var n=t.commit;return n("add_counter"),new Promise((function(t,n){et.play_save_file(e).then((function(e){console.log("resolving playing saved sound",e.data),t(e.data)})).catch((function(t){console.error("error whiel playing saved sound",t),n(t)}))}))},play_temp:function(t,e){var n=t.commit;return n("add_counter"),new Promise((function(t,n){et.play_temp(e).then((function(e){console.log("resolving play temp sound",e.data),t(e.data)})).catch((function(t){console.error("error whiel playing temp sound",t),n(t)}))}))},save_file:function(t,e){var n=t.commit;return n("add_counter"),new Promise((function(t,n){et.save_sound(e).then((function(e){console.log("resolving save sound",e.data),t(e.data)})).catch((function(t){console.error("error whiel saving sound",t),n(t)}))}))}},getters:{},mutations:{add_counter:function(t){t.counter+=1}}},ot={namespaced:!0,state:{restrictions:{startup:!0},restriction_dictionary:{default:{startup:!0,unrestricted_route:"summary"},str:{unrestricted_route:"summary",map:!0},ato:{unrestricted_route:"summary",act_manager:!0,startup:!0,story_manager:!0,points_manager:!0}}},actions:{update_restrictions:function(t){var e=t.rootState.Ros.mode;t.state.restriction_dictionary[e]?t.commit("set_restrictions",t.state.restriction_dictionary[e]):t.commit("set_restrictions",t.state.restriction_dictionary.default)}},mutations:{set_restrictions:function(t,e){t.restrictions=e}},getters:{get_restrictions:function(t){return t.restrictions},get_unrestricted_route:function(t){return t.restrictions.unrestricted_route}}};o["default"].use(I["a"]);var rt=new I["a"].Store({state:{},mutations:{},actions:{},modules:{User:Y,Ros:Q,Theme:W,Loading:X,Notify:Z,ApiError:tt,Voice:nt,Router:ot}}),at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"rooot"}},[n("v-container",[n("div",{staticClass:"text-h4"},[t._v("Summary")]),n("v-divider",{staticClass:"py-2"}),n("v-card",{attrs:{elevation:"6",dark:t.isDark}},[n("v-card-text",[n("v-data-table",{staticClass:"pa-4",attrs:{headers:t.remoteControleHeaders,items:t.items,loading:t.loading,"hide-default-footer":"",dense:""},scopedSlots:t._u([{key:"item.actions",fn:function(e){var o=e.item;return[o.action?n("v-switch",{staticClass:"mr-2",attrs:{small:"",disabled:t.loading,label:o.actionName},on:{change:function(e){return t.set(o)}},model:{value:o.model,callback:function(e){t.$set(o,"model",e)},expression:"item.model"}}):t._e()]}}])})],1)],1)],1)],1)},it=[],st=n("5530"),ct={data:function(){return{loading:!1,remoteControleHeaders:[{text:"Name",value:"name"},{text:"Value",value:"value"},{text:"Actions",value:"actions",sortable:!1}],items:[{name:"Mode",value:this.mode,actions:!1},{name:"Battery percentage",value:"Undefined",actions:!1},{name:"Charging",value:"",actions:!1}]}},computed:Object(st["a"])(Object(st["a"])({},Object(I["b"])("Theme",["isDark"])),Object(I["b"])("Ros",["status"])),watch:{status:function(t){var e=[];e[0]={name:"Mode",value:t["mode"],actions:!1},e[1]={name:"Battery Percentage",value:t["power"]["battery"],actions:!1},e[2]={name:"Is Charging",value:t["power"]["charging_status"],actions:!1},this.items=e}},methods:{},created:function(){}},ut=ct,lt=n("8fea"),mt=n("b73d"),pt=Object(f["a"])(ut,at,it,!1,null,null,null),dt=pt.exports;g()(pt,{VCard:w["a"],VCardText:S["b"],VContainer:x["a"],VDataTable:lt["a"],VDivider:C["a"],VSwitch:mt["a"]}),o["default"].use(j["a"]);var _t=new j["a"]({routes:[{path:"/",name:"summary",component:dt,props:!0,meta:{requiresAuth:!0,requiresConnectoin:!0}},{path:"/login",name:"login",component:function(){return n.e("Login").then(n.bind(null,"bd01"))},meta:{requiresVisitor:!0,requiresConnectoin:!0}},{path:"/live",name:"live",component:function(){return Promise.all([n.e("chunk-41a6c350"),n.e("chunk-38056793"),n.e("chunk-8c1a930a")]).then(n.bind(null,"97ec"))},meta:{requiresAuth:!0,requiresConnectoin:!0}},{path:"/act_manager",name:"act_manager",component:function(){return Promise.all([n.e("chunk-38056793"),n.e("chunk-68b759ad")]).then(n.bind(null,"e848"))},meta:{requiresAuth:!0,requiresConnectoin:!0}},{path:"/story_manager",name:"story_manager",component:function(){return n.e("chunk-5ebbf51a").then(n.bind(null,"deb7"))},meta:{requiresAuth:!0,requiresConnectoin:!0}},{path:"/map",name:"map",component:function(){return Promise.all([n.e("chunk-41a6c350"),n.e("chunk-294d326e")]).then(n.bind(null,"ef3e"))},meta:{requiresAuth:!0,requiresConnectoin:!0}},{path:"/startup",name:"startup",component:function(){return n.e("startup").then(n.bind(null,"b0b9"))},meta:{requiresAuth:!0,requiresConnectoin:!0},children:[{path:"",component:function(){return n.e("Startup_choices").then(n.bind(null,"3acc"))},name:"startup_choices"},{path:"loading",component:function(){return n.e("startup_loading").then(n.bind(null,"8963"))},name:"startup_loading"},{path:"remove_dc_cord",component:function(){return n.e("Startup_remove_dc_cord").then(n.bind(null,"bc85"))},name:"startup_remove_dc_cord"},{path:"confirm_initial_position",component:function(){return n.e("Startup_confirm_initial_position").then(n.bind(null,"c64b"))},name:"startup_confirm_initial_position"},{path:"is_the_robot_charging",component:function(){return n.e("is_the_robot_charging").then(n.bind(null,"1f27"))},name:"startup_is_the_robot_charging"},{path:"loading_existing_map",component:function(){return n.e("Startup_loading_existing_map").then(n.bind(null,"3015"))},name:"startup_loading_existing_map"},{path:"confirm_position",component:function(){return Promise.all([n.e("chunk-41a6c350"),n.e("confirm_position")]).then(n.bind(null,"b8fd"))},name:"startup_confirm_position"},{path:"slam/scan",component:function(){return n.e("startup_slam_scan").then(n.bind(null,"30ae"))},name:"startup_slam_finish_scanning"},{path:"slam/start_scanning",component:function(){return n.e("startup_slam_start_scanning").then(n.bind(null,"5a28"))},name:"startup_slam_start_scanning"},{path:"slam/save_map",component:function(){return n.e("startup_slam_save").then(n.bind(null,"625b"))},name:"startup_slam_save_scanned_map"},{path:"slam/wants_to_go_home",component:function(){return n.e("startup_wants_to_go_home").then(n.bind(null,"58c8"))},name:"startup_slam_wants_to_go_home"}]},{path:"/startup_map",component:function(){return Promise.all([n.e("chunk-41a6c350"),n.e("startup_map")]).then(n.bind(null,"aa6b"))},name:"startup_map",meta:{requiresAuth:!0,requiresConnectoin:!0}},{path:"/points_manager",component:function(){return n.e("points_manager").then(n.bind(null,"7487"))},name:"points_manager",meta:{requiresAuth:!0,requiresConnectoin:!0}},{path:"/voice",name:"voice",component:function(){return n.e("noConnection").then(n.bind(null,"0058"))},meta:{requiresAuth:!0,requiresConnectoin:!0}},{path:"/voucher_loader",name:"voucher_loader",component:function(){return n.e("noConnection").then(n.bind(null,"c52c"))},meta:{requiresAuth:!0,requiresConnectoin:!0}},{path:"/bluetooth",name:"bluetooth",component:function(){return n.e("noConnection").then(n.bind(null,"270d"))},meta:{requiresAuth:!0,requiresConnectoin:!0}},{path:"/noConnection",name:"noConnection",component:function(){return n.e("noConnection").then(n.bind(null,"0254"))},meta:{requiresVisitor:!1,requiresNoConnectoin:!1}},{alias:"/*",path:"/404",name:"notFound",component:function(){return n.e("notFound").then(n.bind(null,"18ca"))},meta:{requiresVisitor:!1,requiresConnectoin:!0}}]});_t.beforeEach((function(t,e,n){console.log("routing from ".concat(e.name," to ").concat(t.name)),t.matched.some((function(t){return console.log(t),t.meta.requiresConnectoin}))?rt.getters["Ros/connectionFlag"]?t.matched.some((function(t){return t.meta.requiresAuth}))?rt.getters["User/auth"]?n():(console.log("redirecting to login due to lack of authinticity"),n({name:"login",query:{redirect:t.fullPath}})):t.matched.some((function(t){return t.meta.requiresVisitor}))&&rt.getters["User/auth"]?n({name:"remote"}):n():n({name:"noConnection",query:{redirect:t.fullPath}}):(console.log("redirecting to",t.name,"whcih doesnt require connection"),rt.getters["Ros/connectionFlag"]?n({name:"remote"}):n())}));var ft=_t,ht=n("ee98"),gt=n.n(ht),vt=n("f309");o["default"].use(vt["a"]);var yt=new vt["a"]({});o["default"].config.productionTip=!1,o["default"].use(gt.a),new o["default"]({router:ft,store:rt,vuetify:yt,render:function(t){return t(O)}}).$mount("#app")},b523:function(t,e,n){},e7ba:function(t,e,n){"use strict";n("b523")}});
//# sourceMappingURL=app.6cc9c340.js.map