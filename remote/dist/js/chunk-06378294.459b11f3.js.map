{"version":3,"sources":["webpack:///./node_modules/roslib/src/util/shim/decompressPng.js","webpack:///./node_modules/roslib/src/math/Quaternion.js","webpack:///./node_modules/roslib/src/actionlib/ActionListener.js","webpack:///./node_modules/roslib/src/urdf/UrdfColor.js","webpack:///./node_modules/roslib/src/urdf/UrdfLink.js","webpack:///../../../src/components/VGrid/VRow.ts","webpack:///./node_modules/roslib/src/urdf/UrdfTypes.js","webpack:///./node_modules/roslib/src/urdf/UrdfCylinder.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./node_modules/roslib/src/core/index.js","webpack:///./node_modules/object-assign/index.js","webpack:///./node_modules/roslib/src/util/shim/xmldom.js","webpack:///./node_modules/roslib/src/math/Pose.js","webpack:///./node_modules/roslib/src/math/Vector3.js","webpack:///./node_modules/roslib/src/urdf/index.js","webpack:///./node_modules/roslib/src/urdf/UrdfBox.js","webpack:///./node_modules/roslib/src/core/Message.js","webpack:///./node_modules/roslib/src/core/SocketAdapter.js","webpack:///./node_modules/roslib/src/core/Service.js","webpack:///./node_modules/roslib/src/util/workerSocket.js","webpack:///./node_modules/roslib/src/core/Ros.js","webpack:///./node_modules/roslib/src/core/Param.js","webpack:///./node_modules/roslib/src/urdf/UrdfMesh.js","webpack:///./node_modules/roslib/src/urdf/UrdfJoint.js","webpack:///./node_modules/roslib/src/util/cborTypedArrayTags.js","webpack:///./node_modules/roslib/src/core/ServiceResponse.js","webpack:///./node_modules/eventemitter2/lib/eventemitter2.js","webpack:///./node_modules/roslib/src/core/Topic.js","webpack:///./node_modules/roslib/src/tf/index.js","webpack:///./node_modules/roslib/src/tf/TFClient.js","webpack:///./node_modules/roslib/src/mixin.js","webpack:///./node_modules/roslib/src/actionlib/SimpleActionServer.js","webpack:///./node_modules/roslib/src/core/ServiceRequest.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/roslib/src/util/workerSocketImpl.js","webpack:///./node_modules/roslib/src/actionlib/ActionClient.js","webpack:///./node_modules/roslib/src/urdf/UrdfMaterial.js","webpack:///./node_modules/roslib/src/urdf/UrdfModel.js","webpack:///./node_modules/roslib/src/urdf/UrdfVisual.js","webpack:///./node_modules/cbor-js/cbor.js","webpack:///./node_modules/roslib/src/math/index.js","webpack:///./node_modules/roslib/src/util/shim/canvas.js","webpack:///./node_modules/webworkify/index.js","webpack:///./node_modules/roslib/src/actionlib/Goal.js","webpack:///./node_modules/roslib/src/math/Transform.js","webpack:///./node_modules/roslib/src/urdf/UrdfSphere.js","webpack:///./node_modules/roslib/src/RosLib.js","webpack:///./node_modules/roslib/src/actionlib/index.js","webpack:///./node_modules/roslib/src/util/shim/WebSocket.js"],"names":["Canvas","Image","window","decompressPng","data","callback","image","onload","canvas","context","getContext","width","height","imageSmoothingEnabled","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","drawImage","imageData","getImageData","jsonData","i","length","String","fromCharCode","JSON","parse","src","module","exports","Quaternion","options","this","x","y","z","w","prototype","conjugate","norm","Math","sqrt","normalize","l","invert","multiply","q","newX","newY","newZ","newW","clone","Topic","EventEmitter2","ActionListener","that","ros","serverName","actionName","timeout","omitFeedback","omitStatus","omitResult","goalListener","name","messageType","feedbackListener","statusListener","resultListener","subscribe","goalMessage","emit","statusMessage","status_list","forEach","status","feedbackMessage","feedback","resultMessage","result","__proto__","UrdfColor","rgba","xml","getAttribute","split","r","parseFloat","g","b","a","UrdfVisual","UrdfLink","visuals","getElementsByTagName","push","breakpoints","ALIGNMENT","makeProps","props","prefix","def","alignValidator","str","alignProps","type","default","validator","justifyValidator","justifyProps","alignContentValidator","alignContentProps","propMap","align","Object","justify","alignContent","classMap","breakpointClass","className","val","breakpoint","prop","cache","functional","tag","dense","noGutters","render","children","cacheKey","classList","value","h","staticClass","class","URDF_SPHERE","URDF_BOX","URDF_CYLINDER","URDF_MESH","UrdfTypes","UrdfCylinder","radius","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","mixin","core","Ros","Message","Param","Service","ServiceRequest","ServiceResponse","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","toObject","TypeError","shouldUseNative","assign","test1","getOwnPropertyNames","test2","order2","map","n","join","test3","letter","keys","target","source","from","symbols","to","s","call","DOMImplementation","XMLSerializer","DOMParser","Vector3","Pose","position","orientation","applyTransform","tf","multiplyQuaternion","rotation","add","translation","tmp","pose","p","getInverse","inverse","v","subtract","ix","iy","iz","iw","UrdfBox","UrdfMaterial","UrdfMesh","UrdfModel","UrdfSphere","dimension","xyz","values","CBOR","typedArrayTagger","BSON","SocketAdapter","client","handleMessage","message","op","topic","msg","id","service","handlePng","decodeBSON","reader","FileReader","uint8Array","Uint8Array","deserialize","readAsArrayBuffer","onopen","event","isConnected","onclose","onerror","onmessage","Blob","ArrayBuffer","decoded","decode","bson","serviceType","isAdvertised","_serviceCallback","callService","request","failedCallback","serviceCallId","idCounter","once","callOnConnection","advertise","on","_serviceResponse","bind","unadvertise","rosbridgeRequest","response","success","work","workerSocketImpl","WorkerSocket","uri","socket_","addEventListener","handleWorkerMessage_","postMessage","ev","send","close","WebSocket","socketAdapter","socket","transportLibrary","transportOptions","groovyCompatibility","setMaxListeners","url","connect","io","constructor","createDataChannel","readyState","CLOSED","sock","binaryType","toString","authenticate","mac","dest","rand","t","level","end","auth","messageJson","stringify","emitter","setStatusLevel","levelMsg","getActionServers","action_servers","getTopics","topicsClient","getTopicsForType","topicType","topicsForTypeClient","topics","getServices","servicesClient","services","getServicesForType","servicesForTypeClient","getServiceRequestDetails","serviceTypeClient","getServiceResponseDetails","getNodes","nodesClient","nodes","getNodeDetails","node","subscribing","publishing","getParams","paramsClient","names","getTopicType","topicTypeClient","getServiceType","getMessageDetails","messageDetailClient","typedefs","decodeTypeDefs","defs","decodeTypeDefsRec","theType","hints","typeDefDict","fieldnames","arrayLen","fieldarraylen","fieldName","fieldType","fieldtypes","indexOf","sub","j","subResult","getTopicsAndRawTypes","topicsAndRawTypesClient","get","paramClient","set","delete","scale","filename","UrdfJoint","parents","parent","child","limits","minval","maxval","origins","origin","rpy","roll","pitch","yaw","phi","the","psi","sin","cos","UPPER32","pow","warnedPrecision","warnPrecision","console","warn","decodeUint64LE","bytes","byteLen","byteLength","offset","byteOffset","arrLen","buffer","slice","uint32View","Uint32Array","arr","Array","si","lo","hi","decodeInt64LE","int32View","Int32Array","decodeNativeArray","ArrayType","nativeArrayTypes","64","69","Uint16Array","70","72","Int8Array","77","Int16Array","78","85","Float32Array","86","Float64Array","conversionArrayTypes","71","79","cborTypedArrayTagger","arrayType","isArray","obj","defaultMaxListeners","init","_events","_conf","configure","conf","delimiter","_maxListeners","maxListeners","wildcard","newListener","verboseMemoryLeak","listenerTree","logPossibleMemoryLeak","count","eventName","errorMsg","process","emitWarning","e","Error","trace","EventEmitter","searchListenerTree","handlers","tree","leaf","len","branch","xTree","xxTree","isolatedBranch","endReached","listeners","typeLength","currentType","nextType","_listeners","concat","growListenerTree","listener","shift","warned","_once","prependOnceListener","prepend","_many","many","ttl","prependMany","off","_origin","_on","handler","al","_all","ns","emitAsync","promises","all","prependListener","onAny","_onAny","prependAny","addListener","unshift","leafs","iLeaf","splice","recursivelyGarbageCollect","root","Function","offAny","fns","removeListener","removeAllListeners","eventNames","listenerCount","listenersAny","compression","throttle_rate","latch","queue_size","queue_length","reconnect_on_close","callForSubscribeAndAdvertise","waitForReconnect","reconnectFunc","_messageCallback","subscribeId","unsubscribe","advertiseId","publish","TFClient","ActionClient","Goal","Transform","fixedFrame","angularThres","transThres","rate","updateDelay","seconds","topicTimeout","secs","floor","nsecs","repubServiceName","currentGoal","currentTopic","frameInfos","republisherUpdateRequested","actionClient","serviceClient","processTFArray","transforms","transform","frameID","child_frame_id","substring","cbs","cb","updateGoal","source_frames","target_frame","angular_thres","trans_thres","cancel","processResponse","topic_name","setTimeout","idx","dispose","classes","features","Class","SimpleActionServer","feedbackPublisher","statusPublisher","resultPublisher","cancelListener","header","stamp","frame_id","nextGoal","goal_id","goal","isEarlier","t1","t2","cancelMessage","setInterval","currentTime","Date","getTime","round","setSucceeded","result2","sendFeedback","feedback2","setPreempted","runtime","Op","hasOwn","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","defineProperty","enumerable","configurable","writable","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","Context","_invoke","makeInvokeMethod","tryCatch","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","method","AsyncIterator","PromiseImpl","invoke","record","__await","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","state","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","awrap","async","iter","object","reverse","pop","skipTempReset","prev","charAt","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","handleSocketMessage","handleSocketControl","goals","receivedStatus","goalTopic","cancelTopic","textureFilename","color","textures","colors","isLink","xmlDoc","string","materials","links","joints","parser","parseFromString","robotXml","documentElement","childNodes","tagName","material","link","mat","joint","geometry","geoms","geom","shape","nodeType","nodeName","global","POW_2_24","POW_2_32","POW_2_53","encode","lastLength","dataView","DataView","ensureSpace","newByteLength","requiredLength","oldDataView","uint32count","setUint32","getUint32","write","writeFloat64","setFloat64","writeUint8","setUint8","writeUint8Array","writeUint16","setUint16","writeUint32","writeUint64","low","high","writeTypeAndLength","encodeItem","utf8data","charCode","charCodeAt","ret","retView","getUint8","tagger","simpleValue","read","readArrayBuffer","readFloat16","tempArrayBuffer","tempDataView","readUint16","sign","exponent","fraction","getFloat32","readFloat32","readFloat64","getFloat64","readUint8","getUint16","readUint32","readUint64","readBreak","readLength","additionalInformation","readIndefiniteStringLength","majorType","initialByte","appendUtf16data","utf16data","decodeItem","elements","fullArrayLength","fullArray","fullArrayOffset","retArray","retObject","document","createElement","bundleFn","sources","wkey","cacheKeys","exp","random","wcache","skey","scache","workerSources","resolveSources","depPath","depKey","URL","webkitURL","mozURL","msURL","blob","bare","workerUrl","createObjectURL","worker","Worker","objectURL","isFinished","date","goalID","ROSLIB","REVISION","action"],"mappings":"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","file":"js/chunk-06378294.459b11f3.js","sourcesContent":["/**\n * @fileOverview\n * @author Graeme Yeates - github.com/megawac\n */\n\n'use strict';\n\nvar Canvas = require('canvas');\nvar Image = Canvas.Image || window.Image;\n\n/**\n * If a message was compressed as a PNG image (a compression hack since\n * gzipping over WebSockets * is not supported yet), this function places the\n * \"image\" in a canvas element then decodes the * \"image\" as a Base64 string.\n *\n * @private\n * @param data - object containing the PNG data.\n * @param callback - function with params:\n *   * data - the uncompressed data\n */\nfunction decompressPng(data, callback) {\n  // Uncompresses the data before sending it through (use image/canvas to do so).\n  var image = new Image();\n  // When the image loads, extracts the raw data (JSON message).\n  image.onload = function() {\n    // Creates a local canvas to draw on.\n    var canvas = new Canvas();\n    var context = canvas.getContext('2d');\n\n    // Sets width and height.\n    canvas.width = image.width;\n    canvas.height = image.height;\n\n    // Prevents anti-aliasing and loosing data\n    context.imageSmoothingEnabled = false;\n    context.webkitImageSmoothingEnabled = false;\n    context.mozImageSmoothingEnabled = false;\n\n    // Puts the data into the image.\n    context.drawImage(image, 0, 0);\n    // Grabs the raw, uncompressed data.\n    var imageData = context.getImageData(0, 0, image.width, image.height).data;\n\n    // Constructs the JSON.\n    var jsonData = '';\n    for (var i = 0; i < imageData.length; i += 4) {\n      // RGB\n      jsonData += String.fromCharCode(imageData[i], imageData[i + 1], imageData[i + 2]);\n    }\n    callback(JSON.parse(jsonData));\n  };\n  // Sends the image data to load.\n  image.src = 'data:image/png;base64,' + data;\n}\n\nmodule.exports = decompressPng;\n","/**\n * @fileoverview\n * @author David Gossow - dgossow@willowgarage.com\n */\n\n/**\n * A Quaternion.\n *\n *  @constructor\n *  @param options - object with following keys:\n *   * x - the x value\n *   * y - the y value\n *   * z - the z value\n *   * w - the w value\n */\nfunction Quaternion(options) {\n  options = options || {};\n  this.x = options.x || 0;\n  this.y = options.y || 0;\n  this.z = options.z || 0;\n  this.w = (typeof options.w === 'number') ? options.w : 1;\n}\n\n/**\n * Perform a conjugation on this quaternion.\n */\nQuaternion.prototype.conjugate = function() {\n  this.x *= -1;\n  this.y *= -1;\n  this.z *= -1;\n};\n\n/**\n * Return the norm of this quaternion.\n */\nQuaternion.prototype.norm = function() {\n  return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n};\n\n/**\n * Perform a normalization on this quaternion.\n */\nQuaternion.prototype.normalize = function() {\n  var l = Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n  if (l === 0) {\n    this.x = 0;\n    this.y = 0;\n    this.z = 0;\n    this.w = 1;\n  } else {\n    l = 1 / l;\n    this.x = this.x * l;\n    this.y = this.y * l;\n    this.z = this.z * l;\n    this.w = this.w * l;\n  }\n};\n\n/**\n * Convert this quaternion into its inverse.\n */\nQuaternion.prototype.invert = function() {\n  this.conjugate();\n  this.normalize();\n};\n\n/**\n * Set the values of this quaternion to the product of itself and the given quaternion.\n *\n * @param q the quaternion to multiply with\n */\nQuaternion.prototype.multiply = function(q) {\n  var newX = this.x * q.w + this.y * q.z - this.z * q.y + this.w * q.x;\n  var newY = -this.x * q.z + this.y * q.w + this.z * q.x + this.w * q.y;\n  var newZ = this.x * q.y - this.y * q.x + this.z * q.w + this.w * q.z;\n  var newW = -this.x * q.x - this.y * q.y - this.z * q.z + this.w * q.w;\n  this.x = newX;\n  this.y = newY;\n  this.z = newZ;\n  this.w = newW;\n};\n\n/**\n * Clone a copy of this quaternion.\n *\n * @returns the cloned quaternion\n */\nQuaternion.prototype.clone = function() {\n  return new Quaternion(this);\n};\n\nmodule.exports = Quaternion;\n","/**\n * @fileOverview\n * @author Justin Young - justin@oodar.com.au\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar Topic = require('../core/Topic');\nvar Message = require('../core/Message');\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\n\n/**\n * An actionlib action listener\n *\n * Emits the following events:\n *  * 'status' - the status messages received from the action server\n *  * 'feedback' -  the feedback messages received from the action server\n *  * 'result' - the result returned from the action server\n *\n *  @constructor\n *  @param options - object with following keys:\n *   * ros - the ROSLIB.Ros connection handle\n *   * serverName - the action server name, like /fibonacci\n *   * actionName - the action message name, like 'actionlib_tutorials/FibonacciAction'\n */\nfunction ActionListener(options) {\n  var that = this;\n  options = options || {};\n  this.ros = options.ros;\n  this.serverName = options.serverName;\n  this.actionName = options.actionName;\n  this.timeout = options.timeout;\n  this.omitFeedback = options.omitFeedback;\n  this.omitStatus = options.omitStatus;\n  this.omitResult = options.omitResult;\n\n\n  // create the topics associated with actionlib\n  var goalListener = new Topic({\n    ros : this.ros,\n    name : this.serverName + '/goal',\n    messageType : this.actionName + 'Goal'\n  });\n\n  var feedbackListener = new Topic({\n    ros : this.ros,\n    name : this.serverName + '/feedback',\n    messageType : this.actionName + 'Feedback'\n  });\n\n  var statusListener = new Topic({\n    ros : this.ros,\n    name : this.serverName + '/status',\n    messageType : 'actionlib_msgs/GoalStatusArray'\n  });\n\n  var resultListener = new Topic({\n    ros : this.ros,\n    name : this.serverName + '/result',\n    messageType : this.actionName + 'Result'\n  });\n\n  goalListener.subscribe(function(goalMessage) {\n      that.emit('goal', goalMessage);\n  });\n\n  statusListener.subscribe(function(statusMessage) {\n      statusMessage.status_list.forEach(function(status) {\n          that.emit('status', status);\n      });\n  });\n\n  feedbackListener.subscribe(function(feedbackMessage) {\n      that.emit('status', feedbackMessage.status);\n      that.emit('feedback', feedbackMessage.feedback);\n  });\n\n  // subscribe to the result topic\n  resultListener.subscribe(function(resultMessage) {\n      that.emit('status', resultMessage.status);\n      that.emit('result', resultMessage.result);\n  });\n\n}\n\nActionListener.prototype.__proto__ = EventEmitter2.prototype;\n\nmodule.exports = ActionListener;\n","/**\n * @fileOverview \n * @author Benjamin Pitzer - ben.pitzer@gmail.com\n * @author Russell Toris - rctoris@wpi.edu\n */\n\n/**\n * A Color element in a URDF.\n *\n * @constructor\n * @param options - object with following keys:\n *  * xml - the XML element to parse\n */\nfunction UrdfColor(options) {\n  // Parse the xml string\n  var rgba = options.xml.getAttribute('rgba').split(' ');\n  this.r = parseFloat(rgba[0]);\n  this.g = parseFloat(rgba[1]);\n  this.b = parseFloat(rgba[2]);\n  this.a = parseFloat(rgba[3]);\n}\n\nmodule.exports = UrdfColor;","/**\n * @fileOverview \n * @author Benjamin Pitzer - ben.pitzer@gmail.com\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar UrdfVisual = require('./UrdfVisual');\n\n/**\n * A Link element in a URDF.\n *\n * @constructor\n * @param options - object with following keys:\n *  * xml - the XML element to parse\n */\nfunction UrdfLink(options) {\n  this.name = options.xml.getAttribute('name');\n  this.visuals = [];\n  var visuals = options.xml.getElementsByTagName('visual');\n\n  for( var i=0; i<visuals.length; i++ ) {\n    this.visuals.push( new UrdfVisual({\n      xml : visuals[i]\n    }) );\n  }\n}\n\nmodule.exports = UrdfLink;","import './VGrid.sass'\n\nimport Vue, { PropOptions } from 'vue'\nimport mergeData from '../../util/mergeData'\nimport { upperFirst } from '../../util/helpers'\n\n// no xs\nconst breakpoints = ['sm', 'md', 'lg', 'xl']\n\nconst ALIGNMENT = ['start', 'end', 'center']\n\nfunction makeProps (prefix: string, def: () => PropOptions) {\n  return breakpoints.reduce((props, val) => {\n    props[prefix + upperFirst(val)] = def()\n    return props\n  }, {} as Dictionary<PropOptions>)\n}\n\nconst alignValidator = (str: any) => [...ALIGNMENT, 'baseline', 'stretch'].includes(str)\nconst alignProps = makeProps('align', () => ({\n  type: String,\n  default: null,\n  validator: alignValidator,\n}))\n\nconst justifyValidator = (str: any) => [...ALIGNMENT, 'space-between', 'space-around'].includes(str)\nconst justifyProps = makeProps('justify', () => ({\n  type: String,\n  default: null,\n  validator: justifyValidator,\n}))\n\nconst alignContentValidator = (str: any) => [...ALIGNMENT, 'space-between', 'space-around', 'stretch'].includes(str)\nconst alignContentProps = makeProps('alignContent', () => ({\n  type: String,\n  default: null,\n  validator: alignContentValidator,\n}))\n\nconst propMap = {\n  align: Object.keys(alignProps),\n  justify: Object.keys(justifyProps),\n  alignContent: Object.keys(alignContentProps),\n}\n\nconst classMap = {\n  align: 'align',\n  justify: 'justify',\n  alignContent: 'align-content',\n}\n\nfunction breakpointClass (type: keyof typeof propMap, prop: string, val: string) {\n  let className = classMap[type]\n  if (val == null) {\n    return undefined\n  }\n  if (prop) {\n    // alignSm -> Sm\n    const breakpoint = prop.replace(type, '')\n    className += `-${breakpoint}`\n  }\n  // .align-items-sm-center\n  className += `-${val}`\n  return className.toLowerCase()\n}\n\nconst cache = new Map<string, any[]>()\n\nexport default Vue.extend({\n  name: 'v-row',\n  functional: true,\n  props: {\n    tag: {\n      type: String,\n      default: 'div',\n    },\n    dense: Boolean,\n    noGutters: Boolean,\n    align: {\n      type: String,\n      default: null,\n      validator: alignValidator,\n    },\n    ...alignProps,\n    justify: {\n      type: String,\n      default: null,\n      validator: justifyValidator,\n    },\n    ...justifyProps,\n    alignContent: {\n      type: String,\n      default: null,\n      validator: alignContentValidator,\n    },\n    ...alignContentProps,\n  },\n  render (h, { props, data, children }) {\n    // Super-fast memoization based on props, 5x faster than JSON.stringify\n    let cacheKey = ''\n    for (const prop in props) {\n      cacheKey += String((props as any)[prop])\n    }\n    let classList = cache.get(cacheKey)\n\n    if (!classList) {\n      classList = []\n      // Loop through `align`, `justify`, `alignContent` breakpoint props\n      let type: keyof typeof propMap\n      for (type in propMap) {\n        propMap[type].forEach(prop => {\n          const value: string = (props as any)[prop]\n          const className = breakpointClass(type, prop, value)\n          if (className) classList!.push(className)\n        })\n      }\n\n      classList.push({\n        'no-gutters': props.noGutters,\n        'row--dense': props.dense,\n        [`align-${props.align}`]: props.align,\n        [`justify-${props.justify}`]: props.justify,\n        [`align-content-${props.alignContent}`]: props.alignContent,\n      })\n\n      cache.set(cacheKey, classList)\n    }\n\n    return h(\n      props.tag,\n      mergeData(data, {\n        staticClass: 'row',\n        class: classList,\n      }),\n      children\n    )\n  },\n})\n","module.exports = {\n\tURDF_SPHERE : 0,\n\tURDF_BOX : 1,\n\tURDF_CYLINDER : 2,\n\tURDF_MESH : 3\n};\n","/**\n * @fileOverview \n * @author Benjamin Pitzer - ben.pitzer@gmail.com\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar UrdfTypes = require('./UrdfTypes');\n\n/**\n * A Cylinder element in a URDF.\n *\n * @constructor\n * @param options - object with following keys:\n *  * xml - the XML element to parse\n */\nfunction UrdfCylinder(options) {\n  this.type = UrdfTypes.URDF_CYLINDER;\n  this.length = parseFloat(options.xml.getAttribute('length'));\n  this.radius = parseFloat(options.xml.getAttribute('radius'));\n}\n\nmodule.exports = UrdfCylinder;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","var mixin = require('../mixin');\n\nvar core = module.exports = {\n    Ros: require('./Ros'),\n    Topic: require('./Topic'),\n    Message: require('./Message'),\n    Param: require('./Param'),\n    Service: require('./Service'),\n    ServiceRequest: require('./ServiceRequest'),\n    ServiceResponse: require('./ServiceResponse')\n};\n\nmixin(core.Ros, ['Param', 'Service', 'Topic'], core);\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","exports.DOMImplementation = window.DOMImplementation;\nexports.XMLSerializer = window.XMLSerializer;\nexports.DOMParser = window.DOMParser;\n","/**\n * @fileoverview\n * @author David Gossow - dgossow@willowgarage.com\n */\n\nvar Vector3 = require('./Vector3');\nvar Quaternion = require('./Quaternion');\n\n/**\n * A Pose in 3D space. Values are copied into this object.\n *\n *  @constructor\n *  @param options - object with following keys:\n *   * position - the Vector3 describing the position\n *   * orientation - the ROSLIB.Quaternion describing the orientation\n */\nfunction Pose(options) {\n  options = options || {};\n  // copy the values into this object if they exist\n  this.position = new Vector3(options.position);\n  this.orientation = new Quaternion(options.orientation);\n}\n\n/**\n * Apply a transform against this pose.\n *\n * @param tf the transform\n */\nPose.prototype.applyTransform = function(tf) {\n  this.position.multiplyQuaternion(tf.rotation);\n  this.position.add(tf.translation);\n  var tmp = tf.rotation.clone();\n  tmp.multiply(this.orientation);\n  this.orientation = tmp;\n};\n\n/**\n * Clone a copy of this pose.\n *\n * @returns the cloned pose\n */\nPose.prototype.clone = function() {\n  return new Pose(this);\n};\n\n/**\n * Multiplies this pose with another pose without altering this pose.\n *\n * @returns Result of multiplication.\n */\nPose.prototype.multiply = function(pose) {\n  var p = pose.clone();\n  p.applyTransform({ rotation: this.orientation, translation: this.position });\n  return p;\n};\n\n/**\n * Computes the inverse of this pose.\n *\n * @returns Inverse of pose.\n */\nPose.prototype.getInverse = function() {\n  var inverse = this.clone();\n  inverse.orientation.invert();\n  inverse.position.multiplyQuaternion(inverse.orientation);\n  inverse.position.x *= -1;\n  inverse.position.y *= -1;\n  inverse.position.z *= -1;\n  return inverse;\n};\n\nmodule.exports = Pose;","/**\n * @fileoverview\n * @author David Gossow - dgossow@willowgarage.com\n */\n\n/**\n * A 3D vector.\n *\n *  @constructor\n *  @param options - object with following keys:\n *   * x - the x value\n *   * y - the y value\n *   * z - the z value\n */\nfunction Vector3(options) {\n  options = options || {};\n  this.x = options.x || 0;\n  this.y = options.y || 0;\n  this.z = options.z || 0;\n}\n\n/**\n * Set the values of this vector to the sum of itself and the given vector.\n *\n * @param v the vector to add with\n */\nVector3.prototype.add = function(v) {\n  this.x += v.x;\n  this.y += v.y;\n  this.z += v.z;\n};\n\n/**\n * Set the values of this vector to the difference of itself and the given vector.\n *\n * @param v the vector to subtract with\n */\nVector3.prototype.subtract = function(v) {\n  this.x -= v.x;\n  this.y -= v.y;\n  this.z -= v.z;\n};\n\n/**\n * Multiply the given Quaternion with this vector.\n *\n * @param q - the quaternion to multiply with\n */\nVector3.prototype.multiplyQuaternion = function(q) {\n  var ix = q.w * this.x + q.y * this.z - q.z * this.y;\n  var iy = q.w * this.y + q.z * this.x - q.x * this.z;\n  var iz = q.w * this.z + q.x * this.y - q.y * this.x;\n  var iw = -q.x * this.x - q.y * this.y - q.z * this.z;\n  this.x = ix * q.w + iw * -q.x + iy * -q.z - iz * -q.y;\n  this.y = iy * q.w + iw * -q.y + iz * -q.x - ix * -q.z;\n  this.z = iz * q.w + iw * -q.z + ix * -q.y - iy * -q.x;\n};\n\n/**\n * Clone a copy of this vector.\n *\n * @returns the cloned vector\n */\nVector3.prototype.clone = function() {\n  return new Vector3(this);\n};\n\nmodule.exports = Vector3;","module.exports = require('object-assign')({\n    UrdfBox: require('./UrdfBox'),\n    UrdfColor: require('./UrdfColor'),\n    UrdfCylinder: require('./UrdfCylinder'),\n    UrdfLink: require('./UrdfLink'),\n    UrdfMaterial: require('./UrdfMaterial'),\n    UrdfMesh: require('./UrdfMesh'),\n    UrdfModel: require('./UrdfModel'),\n    UrdfSphere: require('./UrdfSphere'),\n    UrdfVisual: require('./UrdfVisual')\n}, require('./UrdfTypes'));\n","/**\n * @fileOverview \n * @author Benjamin Pitzer - ben.pitzer@gmail.com\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar Vector3 = require('../math/Vector3');\nvar UrdfTypes = require('./UrdfTypes');\n\n/**\n * A Box element in a URDF.\n *\n * @constructor\n * @param options - object with following keys:\n *  * xml - the XML element to parse\n */\nfunction UrdfBox(options) {\n  this.dimension = null;\n  this.type = UrdfTypes.URDF_BOX;\n\n  // Parse the xml string\n  var xyz = options.xml.getAttribute('size').split(' ');\n  this.dimension = new Vector3({\n    x : parseFloat(xyz[0]),\n    y : parseFloat(xyz[1]),\n    z : parseFloat(xyz[2])\n  });\n}\n\nmodule.exports = UrdfBox;","/**\n * @fileoverview\n * @author Brandon Alexander - baalexander@gmail.com\n */\n\nvar assign = require('object-assign');\n\n/**\n * Message objects are used for publishing and subscribing to and from topics.\n *\n * @constructor\n * @param values - object matching the fields defined in the .msg definition file\n */\nfunction Message(values) {\n  assign(this, values);\n}\n\nmodule.exports = Message;","/**\n * Socket event handling utilities for handling events on either\n * WebSocket and TCP sockets\n *\n * Note to anyone reviewing this code: these functions are called\n * in the context of their parent object, unless bound\n * @fileOverview\n */\n'use strict';\n\nvar decompressPng = require('../util/decompressPng');\nvar CBOR = require('cbor-js');\nvar typedArrayTagger = require('../util/cborTypedArrayTags');\nvar BSON = null;\nif(typeof bson !== 'undefined'){\n    BSON = bson().BSON;\n}\n\n/**\n * Events listeners for a WebSocket or TCP socket to a JavaScript\n * ROS Client. Sets up Messages for a given topic to trigger an\n * event on the ROS client.\n *\n * @namespace SocketAdapter\n * @private\n */\nfunction SocketAdapter(client) {\n  function handleMessage(message) {\n    if (message.op === 'publish') {\n      client.emit(message.topic, message.msg);\n    } else if (message.op === 'service_response') {\n      client.emit(message.id, message);\n    } else if (message.op === 'call_service') {\n      client.emit(message.service, message);\n    } else if(message.op === 'status'){\n      if(message.id){\n        client.emit('status:'+message.id, message);\n      } else {\n        client.emit('status', message);\n      }\n    }\n  }\n\n  function handlePng(message, callback) {\n    if (message.op === 'png') {\n      decompressPng(message.data, callback);\n    } else {\n      callback(message);\n    }\n  }\n\n  function decodeBSON(data, callback) {\n    if (!BSON) {\n      throw 'Cannot process BSON encoded message without BSON header.';\n    }\n    var reader = new FileReader();\n    reader.onload  = function() {\n      var uint8Array = new Uint8Array(this.result);\n      var msg = BSON.deserialize(uint8Array);\n      callback(msg);\n    };\n    reader.readAsArrayBuffer(data);\n  }\n\n  return {\n    /**\n     * Emits a 'connection' event on WebSocket connection.\n     *\n     * @param event - the argument to emit with the event.\n     * @memberof SocketAdapter\n     */\n    onopen: function onOpen(event) {\n      client.isConnected = true;\n      client.emit('connection', event);\n    },\n\n    /**\n     * Emits a 'close' event on WebSocket disconnection.\n     *\n     * @param event - the argument to emit with the event.\n     * @memberof SocketAdapter\n     */\n    onclose: function onClose(event) {\n      client.isConnected = false;\n      client.emit('close', event);\n    },\n\n    /**\n     * Emits an 'error' event whenever there was an error.\n     *\n     * @param event - the argument to emit with the event.\n     * @memberof SocketAdapter\n     */\n    onerror: function onError(event) {\n      client.emit('error', event);\n    },\n\n    /**\n     * Parses message responses from rosbridge and sends to the appropriate\n     * topic, service, or param.\n     *\n     * @param message - the raw JSON message from rosbridge.\n     * @memberof SocketAdapter\n     */\n    onmessage: function onMessage(data) {\n      if (typeof Blob !== 'undefined' && data.data instanceof Blob) {\n        decodeBSON(data.data, function (message) {\n          handlePng(message, handleMessage);\n        });\n      } else if (data.data instanceof ArrayBuffer) {\n        var decoded = CBOR.decode(data.data, typedArrayTagger);\n        handleMessage(decoded);\n      } else {\n        var message = JSON.parse(typeof data === 'string' ? data : data.data);\n        handlePng(message, handleMessage);\n      }\n    }\n  };\n}\n\nmodule.exports = SocketAdapter;\n","/**\n * @fileoverview\n * @author Brandon Alexander - baalexander@gmail.com\n */\n\nvar ServiceResponse = require('./ServiceResponse');\nvar ServiceRequest = require('./ServiceRequest');\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\n\n/**\n * A ROS service client.\n *\n * @constructor\n * @params options - possible keys include:\n *   * ros - the ROSLIB.Ros connection handle\n *   * name - the service name, like /add_two_ints\n *   * serviceType - the service type, like 'rospy_tutorials/AddTwoInts'\n */\nfunction Service(options) {\n  options = options || {};\n  this.ros = options.ros;\n  this.name = options.name;\n  this.serviceType = options.serviceType;\n  this.isAdvertised = false;\n\n  this._serviceCallback = null;\n}\nService.prototype.__proto__ = EventEmitter2.prototype;\n/**\n * Calls the service. Returns the service response in the\n * callback. Does nothing if this service is currently advertised.\n *\n * @param request - the ROSLIB.ServiceRequest to send\n * @param callback - function with params:\n *   * response - the response from the service request\n * @param failedCallback - the callback function when the service call failed (optional). Params:\n *   * error - the error message reported by ROS\n */\nService.prototype.callService = function(request, callback, failedCallback) {\n  if (this.isAdvertised) {\n    return;\n  }\n\n  var serviceCallId = 'call_service:' + this.name + ':' + (++this.ros.idCounter);\n\n  if (callback || failedCallback) {\n    this.ros.once(serviceCallId, function(message) {\n      if (message.result !== undefined && message.result === false) {\n        if (typeof failedCallback === 'function') {\n          failedCallback(message.values);\n        }\n      } else if (typeof callback === 'function') {\n        callback(new ServiceResponse(message.values));\n      }\n    });\n  }\n\n  var call = {\n    op : 'call_service',\n    id : serviceCallId,\n    service : this.name,\n    type: this.serviceType,\n    args : request\n  };\n  this.ros.callOnConnection(call);\n};\n\n/**\n * Advertise the service. This turns the Service object from a client\n * into a server. The callback will be called with every request\n * that's made on this service.\n *\n * @param callback - This works similarly to the callback for a C++ service and should take the following params:\n *   * request - the service request\n *   * response - an empty dictionary. Take care not to overwrite this. Instead, only modify the values within.\n *   It should return true if the service has finished successfully,\n *   i.e. without any fatal errors.\n */\nService.prototype.advertise = function(callback) {\n  if (this.isAdvertised || typeof callback !== 'function') {\n    return;\n  }\n\n  this._serviceCallback = callback;\n  this.ros.on(this.name, this._serviceResponse.bind(this));\n  this.ros.callOnConnection({\n    op: 'advertise_service',\n    type: this.serviceType,\n    service: this.name\n  });\n  this.isAdvertised = true;\n};\n\nService.prototype.unadvertise = function() {\n  if (!this.isAdvertised) {\n    return;\n  }\n  this.ros.callOnConnection({\n    op: 'unadvertise_service',\n    service: this.name\n  });\n  this.isAdvertised = false;\n};\n\nService.prototype._serviceResponse = function(rosbridgeRequest) {\n  var response = {};\n  var success = this._serviceCallback(rosbridgeRequest.args, response);\n\n  var call = {\n    op: 'service_response',\n    service: this.name,\n    values: new ServiceResponse(response),\n    result: success\n  };\n\n  if (rosbridgeRequest.id) {\n    call.id = rosbridgeRequest.id;\n  }\n\n  this.ros.callOnConnection(call);\n};\n\nmodule.exports = Service;\n","var work = require('webworkify');\nvar workerSocketImpl = require('./workerSocketImpl');\n\nfunction WorkerSocket(uri) {\n  this.socket_ = work(workerSocketImpl);\n\n  this.socket_.addEventListener('message', this.handleWorkerMessage_.bind(this));\n\n  this.socket_.postMessage({\n    uri: uri,\n  });\n}\n\nWorkerSocket.prototype.handleWorkerMessage_ = function(ev) {\n  var data = ev.data;\n  if (data instanceof ArrayBuffer || typeof data === 'string') {\n    // binary or JSON message from rosbridge\n    this.onmessage(ev);\n  } else {\n    // control message from the wrapped WebSocket\n    var type = data.type;\n    if (type === 'close') {\n      this.onclose(null);\n    } else if (type === 'open') {\n      this.onopen(null);\n    } else if (type === 'error') {\n      this.onerror(null);\n    } else {\n      throw 'Unknown message from workersocket';\n    }\n  }\n};\n\nWorkerSocket.prototype.send = function(data) {\n  this.socket_.postMessage(data);\n};\n\nWorkerSocket.prototype.close = function() {\n  this.socket_.postMessage({\n    close: true\n  });\n};\n\nmodule.exports = WorkerSocket;\n","/**\n * @fileoverview\n * @author Brandon Alexander - baalexander@gmail.com\n */\n\nvar WebSocket = require('ws');\nvar WorkerSocket = require('../util/workerSocket');\nvar socketAdapter = require('./SocketAdapter.js');\n\nvar Service = require('./Service');\nvar ServiceRequest = require('./ServiceRequest');\n\nvar assign = require('object-assign');\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\n\n/**\n * Manages connection to the server and all interactions with ROS.\n *\n * Emits the following events:\n *  * 'error' - there was an error with ROS\n *  * 'connection' - connected to the WebSocket server\n *  * 'close' - disconnected to the WebSocket server\n *  * <topicName> - a message came from rosbridge with the given topic name\n *  * <serviceID> - a service response came from rosbridge with the given ID\n *\n * @constructor\n * @param options - possible keys include: <br>\n *   * url (optional) - (can be specified later with `connect`) the WebSocket URL for rosbridge or the node server url to connect using socket.io (if socket.io exists in the page) <br>\n *   * groovyCompatibility - don't use interfaces that changed after the last groovy release or rosbridge_suite and related tools (defaults to true)\n *   * transportLibrary (optional) - one of 'websocket', 'workersocket' (default), 'socket.io' or RTCPeerConnection instance controlling how the connection is created in `connect`.\n *   * transportOptions (optional) - the options to use use when creating a connection. Currently only used if `transportLibrary` is RTCPeerConnection.\n */\nfunction Ros(options) {\n  options = options || {};\n  this.socket = null;\n  this.idCounter = 0;\n  this.isConnected = false;\n  this.transportLibrary = options.transportLibrary || 'websocket';\n  this.transportOptions = options.transportOptions || {};\n\n  if (typeof options.groovyCompatibility === 'undefined') {\n    this.groovyCompatibility = true;\n  }\n  else {\n    this.groovyCompatibility = options.groovyCompatibility;\n  }\n\n  // Sets unlimited event listeners.\n  this.setMaxListeners(0);\n\n  // begin by checking if a URL was given\n  if (options.url) {\n    this.connect(options.url);\n  }\n}\n\nRos.prototype.__proto__ = EventEmitter2.prototype;\n\n/**\n * Connect to the specified WebSocket.\n *\n * @param url - WebSocket URL or RTCDataChannel label for Rosbridge\n */\nRos.prototype.connect = function(url) {\n  if (this.transportLibrary === 'socket.io') {\n    this.socket = assign(io(url, {'force new connection': true}), socketAdapter(this));\n    this.socket.on('connect', this.socket.onopen);\n    this.socket.on('data', this.socket.onmessage);\n    this.socket.on('close', this.socket.onclose);\n    this.socket.on('error', this.socket.onerror);\n  } else if (this.transportLibrary.constructor.name === 'RTCPeerConnection') {\n    this.socket = assign(this.transportLibrary.createDataChannel(url, this.transportOptions), socketAdapter(this));\n  } else if (this.transportLibrary === 'websocket') {\n    if (!this.socket || this.socket.readyState === WebSocket.CLOSED) {\n      var sock = new WebSocket(url);\n      sock.binaryType = 'arraybuffer';\n      this.socket = assign(sock, socketAdapter(this));\n    }\n  } else if (this.transportLibrary === 'workersocket') {\n    this.socket = assign(new WorkerSocket(url), socketAdapter(this));\n  } else {\n    throw 'Unknown transportLibrary: ' + this.transportLibrary.toString();\n  }\n\n};\n\n/**\n * Disconnect from the WebSocket server.\n */\nRos.prototype.close = function() {\n  if (this.socket) {\n    this.socket.close();\n  }\n};\n\n/**\n * Sends an authorization request to the server.\n *\n * @param mac - MAC (hash) string given by the trusted source.\n * @param client - IP of the client.\n * @param dest - IP of the destination.\n * @param rand - Random string given by the trusted source.\n * @param t - Time of the authorization request.\n * @param level - User level as a string given by the client.\n * @param end - End time of the client's session.\n */\nRos.prototype.authenticate = function(mac, client, dest, rand, t, level, end) {\n  // create the request\n  var auth = {\n    op : 'auth',\n    mac : mac,\n    client : client,\n    dest : dest,\n    rand : rand,\n    t : t,\n    level : level,\n    end : end\n  };\n  // send the request\n  this.callOnConnection(auth);\n};\n\n/**\n * Sends the message over the WebSocket, but queues the message up if not yet\n * connected.\n */\nRos.prototype.callOnConnection = function(message) {\n  var that = this;\n  var messageJson = JSON.stringify(message);\n  var emitter = null;\n  if (this.transportLibrary === 'socket.io') {\n    emitter = function(msg){that.socket.emit('operation', msg);};\n  } else {\n    emitter = function(msg){that.socket.send(msg);};\n  }\n\n  if (!this.isConnected) {\n    that.once('connection', function() {\n      emitter(messageJson);\n    });\n  } else {\n    emitter(messageJson);\n  }\n};\n\n/**\n * Sends a set_level request to the server\n *\n * @param level - Status level (none, error, warning, info)\n * @param id - Optional: Operation ID to change status level on\n */\nRos.prototype.setStatusLevel = function(level, id){\n  var levelMsg = {\n    op: 'set_level',\n    level: level,\n    id: id\n  };\n\n  this.callOnConnection(levelMsg);\n};\n\n/**\n * Retrieves Action Servers in ROS as an array of string\n *\n * @param callback function with params:\n *   * actionservers - Array of action server names\n * @param failedCallback - the callback function when the service call failed (optional). Params:\n *   * error - the error message reported by ROS\n */\nRos.prototype.getActionServers = function(callback, failedCallback) {\n  var getActionServers = new Service({\n    ros : this,\n    name : '/rosapi/action_servers',\n    serviceType : 'rosapi/GetActionServers'\n  });\n\n  var request = new ServiceRequest({});\n  if (typeof failedCallback === 'function'){\n    getActionServers.callService(request,\n      function(result) {\n        callback(result.action_servers);\n      },\n      function(message){\n        failedCallback(message);\n      }\n    );\n  }else{\n    getActionServers.callService(request, function(result) {\n      callback(result.action_servers);\n    });\n  }\n};\n\n/**\n * Retrieves list of topics in ROS as an array.\n *\n * @param callback function with params:\n *   * topics - Array of topic names\n *   * types - Array of message type names\n * @param failedCallback - the callback function when the service call failed (optional). Params:\n *   * error - the error message reported by ROS\n */\nRos.prototype.getTopics = function(callback, failedCallback) {\n  var topicsClient = new Service({\n    ros : this,\n    name : '/rosapi/topics',\n    serviceType : 'rosapi/Topics'\n  });\n\n  var request = new ServiceRequest();\n  if (typeof failedCallback === 'function'){\n    topicsClient.callService(request,\n      function(result) {\n        callback(result);\n      },\n      function(message){\n        failedCallback(message);\n      }\n    );\n  }else{\n    topicsClient.callService(request, function(result) {\n      callback(result);\n    });\n  }\n};\n\n/**\n * Retrieves Topics in ROS as an array as specific type\n *\n * @param topicType topic type to find\n * @param callback function with params:\n *   * topics - Array of topic names\n * @param failedCallback - the callback function when the service call failed (optional). Params:\n *   * error - the error message reported by ROS\n */\nRos.prototype.getTopicsForType = function(topicType, callback, failedCallback) {\n  var topicsForTypeClient = new Service({\n    ros : this,\n    name : '/rosapi/topics_for_type',\n    serviceType : 'rosapi/TopicsForType'\n  });\n\n  var request = new ServiceRequest({\n    type: topicType\n  });\n  if (typeof failedCallback === 'function'){\n    topicsForTypeClient.callService(request,\n      function(result) {\n        callback(result.topics);\n      },\n      function(message){\n        failedCallback(message);\n      }\n    );\n  }else{\n    topicsForTypeClient.callService(request, function(result) {\n      callback(result.topics);\n    });\n  }\n};\n\n/**\n * Retrieves list of active service names in ROS.\n *\n * @param callback - function with the following params:\n *   * services - array of service names\n * @param failedCallback - the callback function when the service call failed (optional). Params:\n *   * error - the error message reported by ROS\n */\nRos.prototype.getServices = function(callback, failedCallback) {\n  var servicesClient = new Service({\n    ros : this,\n    name : '/rosapi/services',\n    serviceType : 'rosapi/Services'\n  });\n\n  var request = new ServiceRequest();\n  if (typeof failedCallback === 'function'){\n    servicesClient.callService(request,\n      function(result) {\n        callback(result.services);\n      },\n      function(message) {\n        failedCallback(message);\n      }\n    );\n  }else{\n    servicesClient.callService(request, function(result) {\n      callback(result.services);\n    });\n  }\n};\n\n/**\n * Retrieves list of services in ROS as an array as specific type\n *\n * @param serviceType service type to find\n * @param callback function with params:\n *   * topics - Array of service names\n * @param failedCallback - the callback function when the service call failed (optional). Params:\n *   * error - the error message reported by ROS\n */\nRos.prototype.getServicesForType = function(serviceType, callback, failedCallback) {\n  var servicesForTypeClient = new Service({\n    ros : this,\n    name : '/rosapi/services_for_type',\n    serviceType : 'rosapi/ServicesForType'\n  });\n\n  var request = new ServiceRequest({\n    type: serviceType\n  });\n  if (typeof failedCallback === 'function'){\n    servicesForTypeClient.callService(request,\n      function(result) {\n        callback(result.services);\n      },\n      function(message) {\n        failedCallback(message);\n      }\n    );\n  }else{\n    servicesForTypeClient.callService(request, function(result) {\n      callback(result.services);\n    });\n  }\n};\n\n/**\n * Retrieves a detail of ROS service request.\n *\n * @param service name of service:\n * @param callback - function with params:\n *   * type - String of the service type\n * @param failedCallback - the callback function when the service call failed (optional). Params:\n *   * error - the error message reported by ROS\n */\nRos.prototype.getServiceRequestDetails = function(type, callback, failedCallback) {\n  var serviceTypeClient = new Service({\n    ros : this,\n    name : '/rosapi/service_request_details',\n    serviceType : 'rosapi/ServiceRequestDetails'\n  });\n  var request = new ServiceRequest({\n    type: type\n  });\n\n  if (typeof failedCallback === 'function'){\n    serviceTypeClient.callService(request,\n      function(result) {\n        callback(result);\n      },\n      function(message){\n        failedCallback(message);\n      }\n    );\n  }else{\n    serviceTypeClient.callService(request, function(result) {\n      callback(result);\n    });\n  }\n};\n\n/**\n * Retrieves a detail of ROS service request.\n *\n * @param service name of service\n * @param callback - function with params:\n *   * type - String of the service type\n * @param failedCallback - the callback function when the service call failed (optional). Params:\n *   * error - the error message reported by ROS\n */\nRos.prototype.getServiceResponseDetails = function(type, callback, failedCallback) {\n  var serviceTypeClient = new Service({\n    ros : this,\n    name : '/rosapi/service_response_details',\n    serviceType : 'rosapi/ServiceResponseDetails'\n  });\n  var request = new ServiceRequest({\n    type: type\n  });\n\n  if (typeof failedCallback === 'function'){\n    serviceTypeClient.callService(request,\n      function(result) {\n        callback(result);\n      },\n      function(message){\n        failedCallback(message);\n      }\n    );\n  }else{\n    serviceTypeClient.callService(request, function(result) {\n      callback(result);\n    });\n  }\n};\n\n/**\n * Retrieves list of active node names in ROS.\n *\n * @param callback - function with the following params:\n *   * nodes - array of node names\n * @param failedCallback - the callback function when the service call failed (optional). Params:\n *   * error - the error message reported by ROS\n */\nRos.prototype.getNodes = function(callback, failedCallback) {\n  var nodesClient = new Service({\n    ros : this,\n    name : '/rosapi/nodes',\n    serviceType : 'rosapi/Nodes'\n  });\n\n  var request = new ServiceRequest();\n  if (typeof failedCallback === 'function'){\n    nodesClient.callService(request,\n      function(result) {\n        callback(result.nodes);\n      },\n      function(message) {\n        failedCallback(message);\n      }\n    );\n  }else{\n    nodesClient.callService(request, function(result) {\n      callback(result.nodes);\n    });\n  }\n};\n\n/**\n  * Retrieves list subscribed topics, publishing topics and services of a specific node\n  *\n  * @param node name of the node:\n  * @param callback - function with params:\n  *   * publications - array of published topic names\n  *   * subscriptions - array of subscribed topic names\n  *   * services - array of service names hosted\n  * @param failedCallback - the callback function when the service call failed (optional). Params:\n *   * error - the error message reported by ROS\n  */\nRos.prototype.getNodeDetails = function(node, callback, failedCallback) {\n  var nodesClient = new Service({\n    ros : this,\n    name : '/rosapi/node_details',\n    serviceType : 'rosapi/NodeDetails'\n  });\n\n  var request = new ServiceRequest({\n    node: node\n  });\n  if (typeof failedCallback === 'function'){\n    nodesClient.callService(request,\n      function(result) {\n        callback(result.subscribing, result.publishing, result.services);\n      },\n      function(message) {\n        failedCallback(message);\n      }\n    );\n  } else {\n    nodesClient.callService(request, function(result) {\n      callback(result);\n    });\n  }\n};\n\n/**\n * Retrieves list of param names from the ROS Parameter Server.\n *\n * @param callback function with params:\n *  * params - array of param names.\n * @param failedCallback - the callback function when the service call failed (optional). Params:\n *   * error - the error message reported by ROS\n */\nRos.prototype.getParams = function(callback, failedCallback) {\n  var paramsClient = new Service({\n    ros : this,\n    name : '/rosapi/get_param_names',\n    serviceType : 'rosapi/GetParamNames'\n  });\n  var request = new ServiceRequest();\n  if (typeof failedCallback === 'function'){\n    paramsClient.callService(request,\n      function(result) {\n        callback(result.names);\n      },\n      function(message){\n        failedCallback(message);\n      }\n    );\n  }else{\n    paramsClient.callService(request, function(result) {\n      callback(result.names);\n    });\n  }\n};\n\n/**\n * Retrieves a type of ROS topic.\n *\n * @param topic name of the topic:\n * @param callback - function with params:\n *   * type - String of the topic type\n * @param failedCallback - the callback function when the service call failed (optional). Params:\n *   * error - the error message reported by ROS\n */\nRos.prototype.getTopicType = function(topic, callback, failedCallback) {\n  var topicTypeClient = new Service({\n    ros : this,\n    name : '/rosapi/topic_type',\n    serviceType : 'rosapi/TopicType'\n  });\n  var request = new ServiceRequest({\n    topic: topic\n  });\n\n  if (typeof failedCallback === 'function'){\n    topicTypeClient.callService(request,\n      function(result) {\n        callback(result.type);\n      },\n      function(message){\n        failedCallback(message);\n      }\n    );\n  }else{\n    topicTypeClient.callService(request, function(result) {\n      callback(result.type);\n    });\n  }\n};\n\n/**\n * Retrieves a type of ROS service.\n *\n * @param service name of service:\n * @param callback - function with params:\n *   * type - String of the service type\n * @param failedCallback - the callback function when the service call failed (optional). Params:\n *   * error - the error message reported by ROS\n */\nRos.prototype.getServiceType = function(service, callback, failedCallback) {\n  var serviceTypeClient = new Service({\n    ros : this,\n    name : '/rosapi/service_type',\n    serviceType : 'rosapi/ServiceType'\n  });\n  var request = new ServiceRequest({\n    service: service\n  });\n\n  if (typeof failedCallback === 'function'){\n    serviceTypeClient.callService(request,\n      function(result) {\n        callback(result.type);\n      },\n      function(message){\n        failedCallback(message);\n      }\n    );\n  }else{\n    serviceTypeClient.callService(request, function(result) {\n      callback(result.type);\n    });\n  }\n};\n\n/**\n * Retrieves a detail of ROS message.\n *\n * @param message - String of a topic type\n * @param callback - function with params:\n *   * details - Array of the message detail\n * @param failedCallback - the callback function when the service call failed (optional). Params:\n *   * error - the error message reported by ROS\n */\nRos.prototype.getMessageDetails = function(message, callback, failedCallback) {\n  var messageDetailClient = new Service({\n    ros : this,\n    name : '/rosapi/message_details',\n    serviceType : 'rosapi/MessageDetails'\n  });\n  var request = new ServiceRequest({\n    type: message\n  });\n\n  if (typeof failedCallback === 'function'){\n    messageDetailClient.callService(request,\n      function(result) {\n        callback(result.typedefs);\n      },\n      function(message){\n        failedCallback(message);\n      }\n    );\n  }else{\n    messageDetailClient.callService(request, function(result) {\n      callback(result.typedefs);\n    });\n  }\n};\n\n/**\n * Decode a typedefs into a dictionary like `rosmsg show foo/bar`\n *\n * @param defs - array of type_def dictionary\n */\nRos.prototype.decodeTypeDefs = function(defs) {\n  var that = this;\n\n  // calls itself recursively to resolve type definition using hints.\n  var decodeTypeDefsRec = function(theType, hints) {\n    var typeDefDict = {};\n    for (var i = 0; i < theType.fieldnames.length; i++) {\n      var arrayLen = theType.fieldarraylen[i];\n      var fieldName = theType.fieldnames[i];\n      var fieldType = theType.fieldtypes[i];\n      if (fieldType.indexOf('/') === -1) { // check the fieldType includes '/' or not\n        if (arrayLen === -1) {\n          typeDefDict[fieldName] = fieldType;\n        }\n        else {\n          typeDefDict[fieldName] = [fieldType];\n        }\n      }\n      else {\n        // lookup the name\n        var sub = false;\n        for (var j = 0; j < hints.length; j++) {\n          if (hints[j].type.toString() === fieldType.toString()) {\n            sub = hints[j];\n            break;\n          }\n        }\n        if (sub) {\n          var subResult = decodeTypeDefsRec(sub, hints);\n          if (arrayLen === -1) {\n          }\n          else {\n            typeDefDict[fieldName] = [subResult];\n          }\n        }\n        else {\n          that.emit('error', 'Cannot find ' + fieldType + ' in decodeTypeDefs');\n        }\n      }\n    }\n    return typeDefDict;\n  };\n\n  return decodeTypeDefsRec(defs[0], defs);\n};\n\n/**\n * Retrieves list of topics and their associated type definitions.\n *\n * @param callback function with params:\n *   * topics - Array of topic names\n *   * types - Array of message type names\n *   * typedefs_full_text - Array of full definitions of message types, similar to `gendeps --cat`\n * @param failedCallback - the callback function when the service call failed (optional). Params:\n *   * error - the error message reported by ROS\n *\n */\nRos.prototype.getTopicsAndRawTypes = function(callback, failedCallback) {\n  var topicsAndRawTypesClient = new Service({\n    ros : this,\n    name : '/rosapi/topics_and_raw_types',\n    serviceType : 'rosapi/TopicsAndRawTypes'\n  });\n\n  var request = new ServiceRequest();\n  if (typeof failedCallback === 'function'){\n    topicsAndRawTypesClient.callService(request,\n      function(result) {\n        callback(result);\n      },\n      function(message){\n        failedCallback(message);\n      }\n    );\n  }else{\n    topicsAndRawTypesClient.callService(request, function(result) {\n      callback(result);\n    });\n  }\n};\n\n\nmodule.exports = Ros;\n","/**\n * @fileoverview\n * @author Brandon Alexander - baalexander@gmail.com\n */\n\nvar Service = require('./Service');\nvar ServiceRequest = require('./ServiceRequest');\n\n/**\n * A ROS parameter.\n *\n * @constructor\n * @param options - possible keys include:\n *   * ros - the ROSLIB.Ros connection handle\n *   * name - the param name, like max_vel_x\n */\nfunction Param(options) {\n  options = options || {};\n  this.ros = options.ros;\n  this.name = options.name;\n}\n\n/**\n * Fetches the value of the param.\n *\n * @param callback - function with the following params:\n *  * value - the value of the param from ROS.\n */\nParam.prototype.get = function(callback) {\n  var paramClient = new Service({\n    ros : this.ros,\n    name : '/rosapi/get_param',\n    serviceType : 'rosapi/GetParam'\n  });\n\n  var request = new ServiceRequest({\n    name : this.name\n  });\n\n  paramClient.callService(request, function(result) {\n    var value = JSON.parse(result.value);\n    callback(value);\n  });\n};\n\n/**\n * Sets the value of the param in ROS.\n *\n * @param value - value to set param to.\n */\nParam.prototype.set = function(value, callback) {\n  var paramClient = new Service({\n    ros : this.ros,\n    name : '/rosapi/set_param',\n    serviceType : 'rosapi/SetParam'\n  });\n\n  var request = new ServiceRequest({\n    name : this.name,\n    value : JSON.stringify(value)\n  });\n\n  paramClient.callService(request, callback);\n};\n\n/**\n * Delete this parameter on the ROS server.\n */\nParam.prototype.delete = function(callback) {\n  var paramClient = new Service({\n    ros : this.ros,\n    name : '/rosapi/delete_param',\n    serviceType : 'rosapi/DeleteParam'\n  });\n\n  var request = new ServiceRequest({\n    name : this.name\n  });\n\n  paramClient.callService(request, callback);\n};\n\nmodule.exports = Param;","/**\n * @fileOverview \n * @author Benjamin Pitzer - ben.pitzer@gmail.com\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar Vector3 = require('../math/Vector3');\nvar UrdfTypes = require('./UrdfTypes');\n\n/**\n * A Mesh element in a URDF.\n *\n * @constructor\n * @param options - object with following keys:\n *  * xml - the XML element to parse\n */\nfunction UrdfMesh(options) {\n  this.scale = null;\n\n  this.type = UrdfTypes.URDF_MESH;\n  this.filename = options.xml.getAttribute('filename');\n\n  // Check for a scale\n  var scale = options.xml.getAttribute('scale');\n  if (scale) {\n    // Get the XYZ\n    var xyz = scale.split(' ');\n    this.scale = new Vector3({\n      x : parseFloat(xyz[0]),\n      y : parseFloat(xyz[1]),\n      z : parseFloat(xyz[2])\n    });\n  }\n}\n\nmodule.exports = UrdfMesh;","/**\n * @fileOverview\n * @author David V. Lu!!  davidvlu@gmail.com\n */\n\nvar Pose = require('../math/Pose');\nvar Vector3 = require('../math/Vector3');\nvar Quaternion = require('../math/Quaternion');\n\n/**\n * A Joint element in a URDF.\n *\n * @constructor\n * @param options - object with following keys:\n *  * xml - the XML element to parse\n */\nfunction UrdfJoint(options) {\n  this.name = options.xml.getAttribute('name');\n  this.type = options.xml.getAttribute('type');\n\n  var parents = options.xml.getElementsByTagName('parent');\n  if(parents.length > 0) {\n    this.parent = parents[0].getAttribute('link');\n  }\n\n  var children = options.xml.getElementsByTagName('child');\n  if(children.length > 0) {\n    this.child = children[0].getAttribute('link');\n  }\n\n  var limits = options.xml.getElementsByTagName('limit');\n  if (limits.length > 0) {\n    this.minval = parseFloat( limits[0].getAttribute('lower') );\n    this.maxval = parseFloat( limits[0].getAttribute('upper') );\n  }\n\n  // Origin\n  var origins = options.xml.getElementsByTagName('origin');\n  if (origins.length === 0) {\n    // use the identity as the default\n    this.origin = new Pose();\n  } else {\n    // Check the XYZ\n    var xyz = origins[0].getAttribute('xyz');\n    var position = new Vector3();\n    if (xyz) {\n      xyz = xyz.split(' ');\n      position = new Vector3({\n        x : parseFloat(xyz[0]),\n        y : parseFloat(xyz[1]),\n        z : parseFloat(xyz[2])\n      });\n    }\n\n    // Check the RPY\n    var rpy = origins[0].getAttribute('rpy');\n    var orientation = new Quaternion();\n    if (rpy) {\n      rpy = rpy.split(' ');\n      // Convert from RPY\n      var roll = parseFloat(rpy[0]);\n      var pitch = parseFloat(rpy[1]);\n      var yaw = parseFloat(rpy[2]);\n      var phi = roll / 2.0;\n      var the = pitch / 2.0;\n      var psi = yaw / 2.0;\n      var x = Math.sin(phi) * Math.cos(the) * Math.cos(psi) - Math.cos(phi) * Math.sin(the)\n          * Math.sin(psi);\n      var y = Math.cos(phi) * Math.sin(the) * Math.cos(psi) + Math.sin(phi) * Math.cos(the)\n          * Math.sin(psi);\n      var z = Math.cos(phi) * Math.cos(the) * Math.sin(psi) - Math.sin(phi) * Math.sin(the)\n          * Math.cos(psi);\n      var w = Math.cos(phi) * Math.cos(the) * Math.cos(psi) + Math.sin(phi) * Math.sin(the)\n          * Math.sin(psi);\n\n      orientation = new Quaternion({\n        x : x,\n        y : y,\n        z : z,\n        w : w\n      });\n      orientation.normalize();\n    }\n    this.origin = new Pose({\n      position : position,\n      orientation : orientation\n    });\n  }\n}\n\nmodule.exports = UrdfJoint;\n","'use strict';\n\nvar UPPER32 = Math.pow(2, 32);\n\nvar warnedPrecision = false;\nfunction warnPrecision() {\n  if (!warnedPrecision) {\n    warnedPrecision = true;\n    console.warn('CBOR 64-bit integer array values may lose precision. No further warnings.');\n  }\n}\n\n/**\n * Unpacks 64-bit unsigned integer from byte array.\n * @param {Uint8Array} bytes\n*/\nfunction decodeUint64LE(bytes) {\n  warnPrecision();\n\n  var byteLen = bytes.byteLength;\n  var offset = bytes.byteOffset;\n  var arrLen = byteLen / 8;\n\n  var buffer = bytes.buffer.slice(offset, offset + byteLen);\n  var uint32View = new Uint32Array(buffer);\n\n  var arr = new Array(arrLen);\n  for (var i = 0; i < arrLen; i++) {\n    var si = i * 2;\n    var lo = uint32View[si];\n    var hi = uint32View[si+1];\n    arr[i] = lo + UPPER32 * hi;\n  }\n\n  return arr;\n}\n\n/**\n * Unpacks 64-bit signed integer from byte array.\n * @param {Uint8Array} bytes\n*/\nfunction decodeInt64LE(bytes) {\n  warnPrecision();\n\n  var byteLen = bytes.byteLength;\n  var offset = bytes.byteOffset;\n  var arrLen = byteLen / 8;\n\n  var buffer = bytes.buffer.slice(offset, offset + byteLen);\n  var uint32View = new Uint32Array(buffer);\n  var int32View = new Int32Array(buffer);\n\n  var arr = new Array(arrLen);\n  for (var i = 0; i < arrLen; i++) {\n    var si = i * 2;\n    var lo = uint32View[si];\n    var hi = int32View[si+1];\n    arr[i] = lo + UPPER32 * hi;\n  }\n\n  return arr;\n}\n\n/**\n * Unpacks typed array from byte array.\n * @param {Uint8Array} bytes\n * @param {type} ArrayType - desired output array type\n*/\nfunction decodeNativeArray(bytes, ArrayType) {\n  var byteLen = bytes.byteLength;\n  var offset = bytes.byteOffset;\n  var buffer = bytes.buffer.slice(offset, offset + byteLen);\n  return new ArrayType(buffer);\n}\n\n/**\n * Support a subset of draft CBOR typed array tags:\n *   <https://tools.ietf.org/html/draft-ietf-cbor-array-tags-00>\n * Only support little-endian tags for now.\n */\nvar nativeArrayTypes = {\n  64: Uint8Array,\n  69: Uint16Array,\n  70: Uint32Array,\n  72: Int8Array,\n  77: Int16Array,\n  78: Int32Array,\n  85: Float32Array,\n  86: Float64Array\n};\n\n/**\n * We can also decode 64-bit integer arrays, since ROS has these types.\n */\nvar conversionArrayTypes = {\n  71: decodeUint64LE,\n  79: decodeInt64LE\n};\n\n/**\n * Handles CBOR typed array tags during decoding.\n * @param {Uint8Array} data\n * @param {Number} tag\n */\nfunction cborTypedArrayTagger(data, tag) {\n  if (tag in nativeArrayTypes) {\n    var arrayType = nativeArrayTypes[tag];\n    return decodeNativeArray(data, arrayType);\n  }\n  if (tag in conversionArrayTypes) {\n    return conversionArrayTypes[tag](data);\n  }\n  return data;\n}\n\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = cborTypedArrayTagger;\n}\n","/**\n * @fileoverview\n * @author Brandon Alexander - balexander@willowgarage.com\n */\n\nvar assign = require('object-assign');\n\n/**\n * A ServiceResponse is returned from the service call.\n *\n * @constructor\n * @param values - object matching the fields defined in the .srv definition file\n */\nfunction ServiceResponse(values) {\n  assign(this, values);\n}\n\nmodule.exports = ServiceResponse;","/*!\r\n * EventEmitter2\r\n * https://github.com/hij1nx/EventEmitter2\r\n *\r\n * Copyright (c) 2013 hij1nx\r\n * Licensed under the MIT license.\r\n */\r\n;!function(undefined) {\r\n\r\n  var isArray = Array.isArray ? Array.isArray : function _isArray(obj) {\r\n    return Object.prototype.toString.call(obj) === \"[object Array]\";\r\n  };\r\n  var defaultMaxListeners = 10;\r\n\r\n  function init() {\r\n    this._events = {};\r\n    if (this._conf) {\r\n      configure.call(this, this._conf);\r\n    }\r\n  }\r\n\r\n  function configure(conf) {\r\n    if (conf) {\r\n      this._conf = conf;\r\n\r\n      conf.delimiter && (this.delimiter = conf.delimiter);\r\n      this._maxListeners = conf.maxListeners !== undefined ? conf.maxListeners : defaultMaxListeners;\r\n\r\n      conf.wildcard && (this.wildcard = conf.wildcard);\r\n      conf.newListener && (this.newListener = conf.newListener);\r\n      conf.verboseMemoryLeak && (this.verboseMemoryLeak = conf.verboseMemoryLeak);\r\n\r\n      if (this.wildcard) {\r\n        this.listenerTree = {};\r\n      }\r\n    } else {\r\n      this._maxListeners = defaultMaxListeners;\r\n    }\r\n  }\r\n\r\n  function logPossibleMemoryLeak(count, eventName) {\r\n    var errorMsg = '(node) warning: possible EventEmitter memory ' +\r\n        'leak detected. ' + count + ' listeners added. ' +\r\n        'Use emitter.setMaxListeners() to increase limit.';\r\n\r\n    if(this.verboseMemoryLeak){\r\n      errorMsg += ' Event name: ' + eventName + '.';\r\n    }\r\n\r\n    if(typeof process !== 'undefined' && process.emitWarning){\r\n      var e = new Error(errorMsg);\r\n      e.name = 'MaxListenersExceededWarning';\r\n      e.emitter = this;\r\n      e.count = count;\r\n      process.emitWarning(e);\r\n    } else {\r\n      console.error(errorMsg);\r\n\r\n      if (console.trace){\r\n        console.trace();\r\n      }\r\n    }\r\n  }\r\n\r\n  function EventEmitter(conf) {\r\n    this._events = {};\r\n    this.newListener = false;\r\n    this.verboseMemoryLeak = false;\r\n    configure.call(this, conf);\r\n  }\r\n  EventEmitter.EventEmitter2 = EventEmitter; // backwards compatibility for exporting EventEmitter property\r\n\r\n  //\r\n  // Attention, function return type now is array, always !\r\n  // It has zero elements if no any matches found and one or more\r\n  // elements (leafs) if there are matches\r\n  //\r\n  function searchListenerTree(handlers, type, tree, i) {\r\n    if (!tree) {\r\n      return [];\r\n    }\r\n    var listeners=[], leaf, len, branch, xTree, xxTree, isolatedBranch, endReached,\r\n        typeLength = type.length, currentType = type[i], nextType = type[i+1];\r\n    if (i === typeLength && tree._listeners) {\r\n      //\r\n      // If at the end of the event(s) list and the tree has listeners\r\n      // invoke those listeners.\r\n      //\r\n      if (typeof tree._listeners === 'function') {\r\n        handlers && handlers.push(tree._listeners);\r\n        return [tree];\r\n      } else {\r\n        for (leaf = 0, len = tree._listeners.length; leaf < len; leaf++) {\r\n          handlers && handlers.push(tree._listeners[leaf]);\r\n        }\r\n        return [tree];\r\n      }\r\n    }\r\n\r\n    if ((currentType === '*' || currentType === '**') || tree[currentType]) {\r\n      //\r\n      // If the event emitted is '*' at this part\r\n      // or there is a concrete match at this patch\r\n      //\r\n      if (currentType === '*') {\r\n        for (branch in tree) {\r\n          if (branch !== '_listeners' && tree.hasOwnProperty(branch)) {\r\n            listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i+1));\r\n          }\r\n        }\r\n        return listeners;\r\n      } else if(currentType === '**') {\r\n        endReached = (i+1 === typeLength || (i+2 === typeLength && nextType === '*'));\r\n        if(endReached && tree._listeners) {\r\n          // The next element has a _listeners, add it to the handlers.\r\n          listeners = listeners.concat(searchListenerTree(handlers, type, tree, typeLength));\r\n        }\r\n\r\n        for (branch in tree) {\r\n          if (branch !== '_listeners' && tree.hasOwnProperty(branch)) {\r\n            if(branch === '*' || branch === '**') {\r\n              if(tree[branch]._listeners && !endReached) {\r\n                listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], typeLength));\r\n              }\r\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i));\r\n            } else if(branch === nextType) {\r\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i+2));\r\n            } else {\r\n              // No match on this one, shift into the tree but not in the type array.\r\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i));\r\n            }\r\n          }\r\n        }\r\n        return listeners;\r\n      }\r\n\r\n      listeners = listeners.concat(searchListenerTree(handlers, type, tree[currentType], i+1));\r\n    }\r\n\r\n    xTree = tree['*'];\r\n    if (xTree) {\r\n      //\r\n      // If the listener tree will allow any match for this part,\r\n      // then recursively explore all branches of the tree\r\n      //\r\n      searchListenerTree(handlers, type, xTree, i+1);\r\n    }\r\n\r\n    xxTree = tree['**'];\r\n    if(xxTree) {\r\n      if(i < typeLength) {\r\n        if(xxTree._listeners) {\r\n          // If we have a listener on a '**', it will catch all, so add its handler.\r\n          searchListenerTree(handlers, type, xxTree, typeLength);\r\n        }\r\n\r\n        // Build arrays of matching next branches and others.\r\n        for(branch in xxTree) {\r\n          if(branch !== '_listeners' && xxTree.hasOwnProperty(branch)) {\r\n            if(branch === nextType) {\r\n              // We know the next element will match, so jump twice.\r\n              searchListenerTree(handlers, type, xxTree[branch], i+2);\r\n            } else if(branch === currentType) {\r\n              // Current node matches, move into the tree.\r\n              searchListenerTree(handlers, type, xxTree[branch], i+1);\r\n            } else {\r\n              isolatedBranch = {};\r\n              isolatedBranch[branch] = xxTree[branch];\r\n              searchListenerTree(handlers, type, { '**': isolatedBranch }, i+1);\r\n            }\r\n          }\r\n        }\r\n      } else if(xxTree._listeners) {\r\n        // We have reached the end and still on a '**'\r\n        searchListenerTree(handlers, type, xxTree, typeLength);\r\n      } else if(xxTree['*'] && xxTree['*']._listeners) {\r\n        searchListenerTree(handlers, type, xxTree['*'], typeLength);\r\n      }\r\n    }\r\n\r\n    return listeners;\r\n  }\r\n\r\n  function growListenerTree(type, listener) {\r\n\r\n    type = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n\r\n    //\r\n    // Looks for two consecutive '**', if so, don't add the event at all.\r\n    //\r\n    for(var i = 0, len = type.length; i+1 < len; i++) {\r\n      if(type[i] === '**' && type[i+1] === '**') {\r\n        return;\r\n      }\r\n    }\r\n\r\n    var tree = this.listenerTree;\r\n    var name = type.shift();\r\n\r\n    while (name !== undefined) {\r\n\r\n      if (!tree[name]) {\r\n        tree[name] = {};\r\n      }\r\n\r\n      tree = tree[name];\r\n\r\n      if (type.length === 0) {\r\n\r\n        if (!tree._listeners) {\r\n          tree._listeners = listener;\r\n        }\r\n        else {\r\n          if (typeof tree._listeners === 'function') {\r\n            tree._listeners = [tree._listeners];\r\n          }\r\n\r\n          tree._listeners.push(listener);\r\n\r\n          if (\r\n            !tree._listeners.warned &&\r\n            this._maxListeners > 0 &&\r\n            tree._listeners.length > this._maxListeners\r\n          ) {\r\n            tree._listeners.warned = true;\r\n            logPossibleMemoryLeak.call(this, tree._listeners.length, name);\r\n          }\r\n        }\r\n        return true;\r\n      }\r\n      name = type.shift();\r\n    }\r\n    return true;\r\n  }\r\n\r\n  // By default EventEmitters will print a warning if more than\r\n  // 10 listeners are added to it. This is a useful default which\r\n  // helps finding memory leaks.\r\n  //\r\n  // Obviously not all Emitters should be limited to 10. This function allows\r\n  // that to be increased. Set to zero for unlimited.\r\n\r\n  EventEmitter.prototype.delimiter = '.';\r\n\r\n  EventEmitter.prototype.setMaxListeners = function(n) {\r\n    if (n !== undefined) {\r\n      this._maxListeners = n;\r\n      if (!this._conf) this._conf = {};\r\n      this._conf.maxListeners = n;\r\n    }\r\n  };\r\n\r\n  EventEmitter.prototype.event = '';\r\n\r\n\r\n  EventEmitter.prototype.once = function(event, fn) {\r\n    return this._once(event, fn, false);\r\n  };\r\n\r\n  EventEmitter.prototype.prependOnceListener = function(event, fn) {\r\n    return this._once(event, fn, true);\r\n  };\r\n\r\n  EventEmitter.prototype._once = function(event, fn, prepend) {\r\n    this._many(event, 1, fn, prepend);\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.many = function(event, ttl, fn) {\r\n    return this._many(event, ttl, fn, false);\r\n  }\r\n\r\n  EventEmitter.prototype.prependMany = function(event, ttl, fn) {\r\n    return this._many(event, ttl, fn, true);\r\n  }\r\n\r\n  EventEmitter.prototype._many = function(event, ttl, fn, prepend) {\r\n    var self = this;\r\n\r\n    if (typeof fn !== 'function') {\r\n      throw new Error('many only accepts instances of Function');\r\n    }\r\n\r\n    function listener() {\r\n      if (--ttl === 0) {\r\n        self.off(event, listener);\r\n      }\r\n      return fn.apply(this, arguments);\r\n    }\r\n\r\n    listener._origin = fn;\r\n\r\n    this._on(event, listener, prepend);\r\n\r\n    return self;\r\n  };\r\n\r\n  EventEmitter.prototype.emit = function() {\r\n\r\n    this._events || init.call(this);\r\n\r\n    var type = arguments[0];\r\n\r\n    if (type === 'newListener' && !this.newListener) {\r\n      if (!this._events.newListener) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    var al = arguments.length;\r\n    var args,l,i,j;\r\n    var handler;\r\n\r\n    if (this._all && this._all.length) {\r\n      handler = this._all.slice();\r\n      if (al > 3) {\r\n        args = new Array(al);\r\n        for (j = 0; j < al; j++) args[j] = arguments[j];\r\n      }\r\n\r\n      for (i = 0, l = handler.length; i < l; i++) {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          handler[i].call(this, type);\r\n          break;\r\n        case 2:\r\n          handler[i].call(this, type, arguments[1]);\r\n          break;\r\n        case 3:\r\n          handler[i].call(this, type, arguments[1], arguments[2]);\r\n          break;\r\n        default:\r\n          handler[i].apply(this, args);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.wildcard) {\r\n      handler = [];\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      searchListenerTree.call(this, handler, ns, this.listenerTree, 0);\r\n    } else {\r\n      handler = this._events[type];\r\n      if (typeof handler === 'function') {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          handler.call(this);\r\n          break;\r\n        case 2:\r\n          handler.call(this, arguments[1]);\r\n          break;\r\n        case 3:\r\n          handler.call(this, arguments[1], arguments[2]);\r\n          break;\r\n        default:\r\n          args = new Array(al - 1);\r\n          for (j = 1; j < al; j++) args[j - 1] = arguments[j];\r\n          handler.apply(this, args);\r\n        }\r\n        return true;\r\n      } else if (handler) {\r\n        // need to make copy of handlers because list can change in the middle\r\n        // of emit call\r\n        handler = handler.slice();\r\n      }\r\n    }\r\n\r\n    if (handler && handler.length) {\r\n      if (al > 3) {\r\n        args = new Array(al - 1);\r\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\r\n      }\r\n      for (i = 0, l = handler.length; i < l; i++) {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          handler[i].call(this);\r\n          break;\r\n        case 2:\r\n          handler[i].call(this, arguments[1]);\r\n          break;\r\n        case 3:\r\n          handler[i].call(this, arguments[1], arguments[2]);\r\n          break;\r\n        default:\r\n          handler[i].apply(this, args);\r\n        }\r\n      }\r\n      return true;\r\n    } else if (!this._all && type === 'error') {\r\n      if (arguments[1] instanceof Error) {\r\n        throw arguments[1]; // Unhandled 'error' event\r\n      } else {\r\n        throw new Error(\"Uncaught, unspecified 'error' event.\");\r\n      }\r\n      return false;\r\n    }\r\n\r\n    return !!this._all;\r\n  };\r\n\r\n  EventEmitter.prototype.emitAsync = function() {\r\n\r\n    this._events || init.call(this);\r\n\r\n    var type = arguments[0];\r\n\r\n    if (type === 'newListener' && !this.newListener) {\r\n        if (!this._events.newListener) { return Promise.resolve([false]); }\r\n    }\r\n\r\n    var promises= [];\r\n\r\n    var al = arguments.length;\r\n    var args,l,i,j;\r\n    var handler;\r\n\r\n    if (this._all) {\r\n      if (al > 3) {\r\n        args = new Array(al);\r\n        for (j = 1; j < al; j++) args[j] = arguments[j];\r\n      }\r\n      for (i = 0, l = this._all.length; i < l; i++) {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          promises.push(this._all[i].call(this, type));\r\n          break;\r\n        case 2:\r\n          promises.push(this._all[i].call(this, type, arguments[1]));\r\n          break;\r\n        case 3:\r\n          promises.push(this._all[i].call(this, type, arguments[1], arguments[2]));\r\n          break;\r\n        default:\r\n          promises.push(this._all[i].apply(this, args));\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.wildcard) {\r\n      handler = [];\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      searchListenerTree.call(this, handler, ns, this.listenerTree, 0);\r\n    } else {\r\n      handler = this._events[type];\r\n    }\r\n\r\n    if (typeof handler === 'function') {\r\n      this.event = type;\r\n      switch (al) {\r\n      case 1:\r\n        promises.push(handler.call(this));\r\n        break;\r\n      case 2:\r\n        promises.push(handler.call(this, arguments[1]));\r\n        break;\r\n      case 3:\r\n        promises.push(handler.call(this, arguments[1], arguments[2]));\r\n        break;\r\n      default:\r\n        args = new Array(al - 1);\r\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\r\n        promises.push(handler.apply(this, args));\r\n      }\r\n    } else if (handler && handler.length) {\r\n      handler = handler.slice();\r\n      if (al > 3) {\r\n        args = new Array(al - 1);\r\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\r\n      }\r\n      for (i = 0, l = handler.length; i < l; i++) {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          promises.push(handler[i].call(this));\r\n          break;\r\n        case 2:\r\n          promises.push(handler[i].call(this, arguments[1]));\r\n          break;\r\n        case 3:\r\n          promises.push(handler[i].call(this, arguments[1], arguments[2]));\r\n          break;\r\n        default:\r\n          promises.push(handler[i].apply(this, args));\r\n        }\r\n      }\r\n    } else if (!this._all && type === 'error') {\r\n      if (arguments[1] instanceof Error) {\r\n        return Promise.reject(arguments[1]); // Unhandled 'error' event\r\n      } else {\r\n        return Promise.reject(\"Uncaught, unspecified 'error' event.\");\r\n      }\r\n    }\r\n\r\n    return Promise.all(promises);\r\n  };\r\n\r\n  EventEmitter.prototype.on = function(type, listener) {\r\n    return this._on(type, listener, false);\r\n  };\r\n\r\n  EventEmitter.prototype.prependListener = function(type, listener) {\r\n    return this._on(type, listener, true);\r\n  };\r\n\r\n  EventEmitter.prototype.onAny = function(fn) {\r\n    return this._onAny(fn, false);\r\n  };\r\n\r\n  EventEmitter.prototype.prependAny = function(fn) {\r\n    return this._onAny(fn, true);\r\n  };\r\n\r\n  EventEmitter.prototype.addListener = EventEmitter.prototype.on;\r\n\r\n  EventEmitter.prototype._onAny = function(fn, prepend){\r\n    if (typeof fn !== 'function') {\r\n      throw new Error('onAny only accepts instances of Function');\r\n    }\r\n\r\n    if (!this._all) {\r\n      this._all = [];\r\n    }\r\n\r\n    // Add the function to the event listener collection.\r\n    if(prepend){\r\n      this._all.unshift(fn);\r\n    }else{\r\n      this._all.push(fn);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  EventEmitter.prototype._on = function(type, listener, prepend) {\r\n    if (typeof type === 'function') {\r\n      this._onAny(type, listener);\r\n      return this;\r\n    }\r\n\r\n    if (typeof listener !== 'function') {\r\n      throw new Error('on only accepts instances of Function');\r\n    }\r\n    this._events || init.call(this);\r\n\r\n    // To avoid recursion in the case that type == \"newListeners\"! Before\r\n    // adding it to the listeners, first emit \"newListeners\".\r\n    this.emit('newListener', type, listener);\r\n\r\n    if (this.wildcard) {\r\n      growListenerTree.call(this, type, listener);\r\n      return this;\r\n    }\r\n\r\n    if (!this._events[type]) {\r\n      // Optimize the case of one listener. Don't need the extra array object.\r\n      this._events[type] = listener;\r\n    }\r\n    else {\r\n      if (typeof this._events[type] === 'function') {\r\n        // Change to array.\r\n        this._events[type] = [this._events[type]];\r\n      }\r\n\r\n      // If we've already got an array, just add\r\n      if(prepend){\r\n        this._events[type].unshift(listener);\r\n      }else{\r\n        this._events[type].push(listener);\r\n      }\r\n\r\n      // Check for listener leak\r\n      if (\r\n        !this._events[type].warned &&\r\n        this._maxListeners > 0 &&\r\n        this._events[type].length > this._maxListeners\r\n      ) {\r\n        this._events[type].warned = true;\r\n        logPossibleMemoryLeak.call(this, this._events[type].length, type);\r\n      }\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  EventEmitter.prototype.off = function(type, listener) {\r\n    if (typeof listener !== 'function') {\r\n      throw new Error('removeListener only takes instances of Function');\r\n    }\r\n\r\n    var handlers,leafs=[];\r\n\r\n    if(this.wildcard) {\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      leafs = searchListenerTree.call(this, null, ns, this.listenerTree, 0);\r\n    }\r\n    else {\r\n      // does not use listeners(), so no side effect of creating _events[type]\r\n      if (!this._events[type]) return this;\r\n      handlers = this._events[type];\r\n      leafs.push({_listeners:handlers});\r\n    }\r\n\r\n    for (var iLeaf=0; iLeaf<leafs.length; iLeaf++) {\r\n      var leaf = leafs[iLeaf];\r\n      handlers = leaf._listeners;\r\n      if (isArray(handlers)) {\r\n\r\n        var position = -1;\r\n\r\n        for (var i = 0, length = handlers.length; i < length; i++) {\r\n          if (handlers[i] === listener ||\r\n            (handlers[i].listener && handlers[i].listener === listener) ||\r\n            (handlers[i]._origin && handlers[i]._origin === listener)) {\r\n            position = i;\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (position < 0) {\r\n          continue;\r\n        }\r\n\r\n        if(this.wildcard) {\r\n          leaf._listeners.splice(position, 1);\r\n        }\r\n        else {\r\n          this._events[type].splice(position, 1);\r\n        }\r\n\r\n        if (handlers.length === 0) {\r\n          if(this.wildcard) {\r\n            delete leaf._listeners;\r\n          }\r\n          else {\r\n            delete this._events[type];\r\n          }\r\n        }\r\n\r\n        this.emit(\"removeListener\", type, listener);\r\n\r\n        return this;\r\n      }\r\n      else if (handlers === listener ||\r\n        (handlers.listener && handlers.listener === listener) ||\r\n        (handlers._origin && handlers._origin === listener)) {\r\n        if(this.wildcard) {\r\n          delete leaf._listeners;\r\n        }\r\n        else {\r\n          delete this._events[type];\r\n        }\r\n\r\n        this.emit(\"removeListener\", type, listener);\r\n      }\r\n    }\r\n\r\n    function recursivelyGarbageCollect(root) {\r\n      if (root === undefined) {\r\n        return;\r\n      }\r\n      var keys = Object.keys(root);\r\n      for (var i in keys) {\r\n        var key = keys[i];\r\n        var obj = root[key];\r\n        if ((obj instanceof Function) || (typeof obj !== \"object\") || (obj === null))\r\n          continue;\r\n        if (Object.keys(obj).length > 0) {\r\n          recursivelyGarbageCollect(root[key]);\r\n        }\r\n        if (Object.keys(obj).length === 0) {\r\n          delete root[key];\r\n        }\r\n      }\r\n    }\r\n    recursivelyGarbageCollect(this.listenerTree);\r\n\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.offAny = function(fn) {\r\n    var i = 0, l = 0, fns;\r\n    if (fn && this._all && this._all.length > 0) {\r\n      fns = this._all;\r\n      for(i = 0, l = fns.length; i < l; i++) {\r\n        if(fn === fns[i]) {\r\n          fns.splice(i, 1);\r\n          this.emit(\"removeListenerAny\", fn);\r\n          return this;\r\n        }\r\n      }\r\n    } else {\r\n      fns = this._all;\r\n      for(i = 0, l = fns.length; i < l; i++)\r\n        this.emit(\"removeListenerAny\", fns[i]);\r\n      this._all = [];\r\n    }\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.removeListener = EventEmitter.prototype.off;\r\n\r\n  EventEmitter.prototype.removeAllListeners = function(type) {\r\n    if (arguments.length === 0) {\r\n      !this._events || init.call(this);\r\n      return this;\r\n    }\r\n\r\n    if (this.wildcard) {\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      var leafs = searchListenerTree.call(this, null, ns, this.listenerTree, 0);\r\n\r\n      for (var iLeaf=0; iLeaf<leafs.length; iLeaf++) {\r\n        var leaf = leafs[iLeaf];\r\n        leaf._listeners = null;\r\n      }\r\n    }\r\n    else if (this._events) {\r\n      this._events[type] = null;\r\n    }\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.listeners = function(type) {\r\n    if (this.wildcard) {\r\n      var handlers = [];\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      searchListenerTree.call(this, handlers, ns, this.listenerTree, 0);\r\n      return handlers;\r\n    }\r\n\r\n    this._events || init.call(this);\r\n\r\n    if (!this._events[type]) this._events[type] = [];\r\n    if (!isArray(this._events[type])) {\r\n      this._events[type] = [this._events[type]];\r\n    }\r\n    return this._events[type];\r\n  };\r\n\r\n  EventEmitter.prototype.eventNames = function(){\r\n    return Object.keys(this._events);\r\n  }\r\n\r\n  EventEmitter.prototype.listenerCount = function(type) {\r\n    return this.listeners(type).length;\r\n  };\r\n\r\n  EventEmitter.prototype.listenersAny = function() {\r\n\r\n    if(this._all) {\r\n      return this._all;\r\n    }\r\n    else {\r\n      return [];\r\n    }\r\n\r\n  };\r\n\r\n  if (typeof define === 'function' && define.amd) {\r\n     // AMD. Register as an anonymous module.\r\n    define(function() {\r\n      return EventEmitter;\r\n    });\r\n  } else if (typeof exports === 'object') {\r\n    // CommonJS\r\n    module.exports = EventEmitter;\r\n  }\r\n  else {\r\n    // Browser global.\r\n    window.EventEmitter2 = EventEmitter;\r\n  }\r\n}();\r\n","/**\n * @fileoverview\n * @author Brandon Alexander - baalexander@gmail.com\n */\n\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\nvar Message = require('./Message');\n\n/**\n * Publish and/or subscribe to a topic in ROS.\n *\n * Emits the following events:\n *  * 'warning' - if there are any warning during the Topic creation\n *  * 'message' - the message data from rosbridge\n *\n * @constructor\n * @param options - object with following keys:\n *   * ros - the ROSLIB.Ros connection handle\n *   * name - the topic name, like /cmd_vel\n *   * messageType - the message type, like 'std_msgs/String'\n *   * compression - the type of compression to use, like 'png', 'cbor', or 'cbor-raw'\n *   * throttle_rate - the rate (in ms in between messages) at which to throttle the topics\n *   * queue_size - the queue created at bridge side for re-publishing webtopics (defaults to 100)\n *   * latch - latch the topic when publishing\n *   * queue_length - the queue length at bridge side used when subscribing (defaults to 0, no queueing).\n *   * reconnect_on_close - the flag to enable resubscription and readvertisement on close event(defaults to true).\n */\nfunction Topic(options) {\n  options = options || {};\n  this.ros = options.ros;\n  this.name = options.name;\n  this.messageType = options.messageType;\n  this.isAdvertised = false;\n  this.compression = options.compression || 'none';\n  this.throttle_rate = options.throttle_rate || 0;\n  this.latch = options.latch || false;\n  this.queue_size = options.queue_size || 100;\n  this.queue_length = options.queue_length || 0;\n  this.reconnect_on_close = options.reconnect_on_close !== undefined ? options.reconnect_on_close : true;\n\n  // Check for valid compression types\n  if (this.compression && this.compression !== 'png' &&\n    this.compression !== 'cbor' && this.compression !== 'cbor-raw' &&\n    this.compression !== 'none') {\n    this.emit('warning', this.compression +\n      ' compression is not supported. No compression will be used.');\n    this.compression = 'none';\n  }\n\n  // Check if throttle rate is negative\n  if (this.throttle_rate < 0) {\n    this.emit('warning', this.throttle_rate + ' is not allowed. Set to 0');\n    this.throttle_rate = 0;\n  }\n\n  var that = this;\n  if (this.reconnect_on_close) {\n    this.callForSubscribeAndAdvertise = function(message) {\n      that.ros.callOnConnection(message);\n\n      that.waitForReconnect = false;\n      that.reconnectFunc = function() {\n        if(!that.waitForReconnect) {\n          that.waitForReconnect = true;\n          that.ros.callOnConnection(message);\n          that.ros.once('connection', function() {\n            that.waitForReconnect = false;\n          });\n        }\n      };\n      that.ros.on('close', that.reconnectFunc);\n    };\n  }\n  else {\n    this.callForSubscribeAndAdvertise = this.ros.callOnConnection;\n  }\n\n  this._messageCallback = function(data) {\n    that.emit('message', new Message(data));\n  };\n}\nTopic.prototype.__proto__ = EventEmitter2.prototype;\n\n/**\n * Every time a message is published for the given topic, the callback\n * will be called with the message object.\n *\n * @param callback - function with the following params:\n *   * message - the published message\n */\nTopic.prototype.subscribe = function(callback) {\n  if (typeof callback === 'function') {\n    this.on('message', callback);\n  }\n\n  if (this.subscribeId) { return; }\n  this.ros.on(this.name, this._messageCallback);\n  this.subscribeId = 'subscribe:' + this.name + ':' + (++this.ros.idCounter);\n\n  this.callForSubscribeAndAdvertise({\n    op: 'subscribe',\n    id: this.subscribeId,\n    type: this.messageType,\n    topic: this.name,\n    compression: this.compression,\n    throttle_rate: this.throttle_rate,\n    queue_length: this.queue_length\n  });\n};\n\n/**\n * Unregisters as a subscriber for the topic. Unsubscribing stop remove\n * all subscribe callbacks. To remove a call back, you must explicitly\n * pass the callback function in.\n *\n * @param callback - the optional callback to unregister, if\n *     * provided and other listeners are registered the topic won't\n *     * unsubscribe, just stop emitting to the passed listener\n */\nTopic.prototype.unsubscribe = function(callback) {\n  if (callback) {\n    this.off('message', callback);\n    // If there is any other callbacks still subscribed don't unsubscribe\n    if (this.listeners('message').length) { return; }\n  }\n  if (!this.subscribeId) { return; }\n  // Note: Don't call this.removeAllListeners, allow client to handle that themselves\n  this.ros.off(this.name, this._messageCallback);\n  if(this.reconnect_on_close) {\n    this.ros.off('close', this.reconnectFunc);\n  }\n  this.emit('unsubscribe');\n  this.ros.callOnConnection({\n    op: 'unsubscribe',\n    id: this.subscribeId,\n    topic: this.name\n  });\n  this.subscribeId = null;\n};\n\n\n/**\n * Registers as a publisher for the topic.\n */\nTopic.prototype.advertise = function() {\n  if (this.isAdvertised) {\n    return;\n  }\n  this.advertiseId = 'advertise:' + this.name + ':' + (++this.ros.idCounter);\n  this.callForSubscribeAndAdvertise({\n    op: 'advertise',\n    id: this.advertiseId,\n    type: this.messageType,\n    topic: this.name,\n    latch: this.latch,\n    queue_size: this.queue_size\n  });\n  this.isAdvertised = true;\n\n  if(!this.reconnect_on_close) {\n    var that = this;\n    this.ros.on('close', function() {\n      that.isAdvertised = false;\n    });\n  }\n};\n\n/**\n * Unregisters as a publisher for the topic.\n */\nTopic.prototype.unadvertise = function() {\n  if (!this.isAdvertised) {\n    return;\n  }\n  if(this.reconnect_on_close) {\n    this.ros.off('close', this.reconnectFunc);\n  }\n  this.emit('unadvertise');\n  this.ros.callOnConnection({\n    op: 'unadvertise',\n    id: this.advertiseId,\n    topic: this.name\n  });\n  this.isAdvertised = false;\n};\n\n/**\n * Publish the message.\n *\n * @param message - A ROSLIB.Message object.\n */\nTopic.prototype.publish = function(message) {\n  if (!this.isAdvertised) {\n    this.advertise();\n  }\n\n  this.ros.idCounter++;\n  var call = {\n    op: 'publish',\n    id: 'publish:' + this.name + ':' + this.ros.idCounter,\n    topic: this.name,\n    msg: message,\n    latch: this.latch\n  };\n  this.ros.callOnConnection(call);\n};\n\nmodule.exports = Topic;\n","var Ros = require('../core/Ros');\nvar mixin = require('../mixin');\n\nvar tf = module.exports = {\n    TFClient: require('./TFClient')\n};\n\nmixin(Ros, ['TFClient'], tf);","/**\n * @fileoverview\n * @author David Gossow - dgossow@willowgarage.com\n */\n\nvar ActionClient = require('../actionlib/ActionClient');\nvar Goal = require('../actionlib/Goal');\n\nvar Service = require('../core/Service.js');\nvar ServiceRequest = require('../core/ServiceRequest.js');\nvar Topic = require('../core/Topic.js');\n\nvar Transform = require('../math/Transform');\n\n/**\n * A TF Client that listens to TFs from tf2_web_republisher.\n *\n *  @constructor\n *  @param options - object with following keys:\n *   * ros - the ROSLIB.Ros connection handle\n *   * fixedFrame - the fixed frame, like /base_link\n *   * angularThres - the angular threshold for the TF republisher\n *   * transThres - the translation threshold for the TF republisher\n *   * rate - the rate for the TF republisher\n *   * updateDelay - the time (in ms) to wait after a new subscription\n *                   to update the TF republisher's list of TFs\n *   * topicTimeout - the timeout parameter for the TF republisher\n *   * serverName (optional) - the name of the tf2_web_republisher server\n *   * repubServiceName (optional) - the name of the republish_tfs service (non groovy compatibility mode only)\n *   \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t default: '/republish_tfs'\n */\nfunction TFClient(options) {\n  options = options || {};\n  this.ros = options.ros;\n  this.fixedFrame = options.fixedFrame || '/base_link';\n  this.angularThres = options.angularThres || 2.0;\n  this.transThres = options.transThres || 0.01;\n  this.rate = options.rate || 10.0;\n  this.updateDelay = options.updateDelay || 50;\n  var seconds = options.topicTimeout || 2.0;\n  var secs = Math.floor(seconds);\n  var nsecs = Math.floor((seconds - secs) * 1000000000);\n  this.topicTimeout = {\n    secs: secs,\n    nsecs: nsecs\n  };\n  this.serverName = options.serverName || '/tf2_web_republisher';\n  this.repubServiceName = options.repubServiceName || '/republish_tfs';\n\n  this.currentGoal = false;\n  this.currentTopic = false;\n  this.frameInfos = {};\n  this.republisherUpdateRequested = false;\n\n  // Create an Action client\n  this.actionClient = new ActionClient({\n    ros : options.ros,\n    serverName : this.serverName,\n    actionName : 'tf2_web_republisher/TFSubscriptionAction',\n    omitStatus : true,\n    omitResult : true\n  });\n\n  // Create a Service client\n  this.serviceClient = new Service({\n    ros: options.ros,\n    name: this.repubServiceName,\n    serviceType: 'tf2_web_republisher/RepublishTFs'\n  });\n}\n\n/**\n * Process the incoming TF message and send them out using the callback\n * functions.\n *\n * @param tf - the TF message from the server\n */\nTFClient.prototype.processTFArray = function(tf) {\n  var that = this;\n  tf.transforms.forEach(function(transform) {\n    var frameID = transform.child_frame_id;\n    if (frameID[0] === '/')\n    {\n      frameID = frameID.substring(1);\n    }\n    var info = this.frameInfos[frameID];\n    if (info) {\n      info.transform = new Transform({\n        translation : transform.transform.translation,\n        rotation : transform.transform.rotation\n      });\n      info.cbs.forEach(function(cb) {\n        cb(info.transform);\n      });\n    }\n  }, this);\n};\n\n/**\n * Create and send a new goal (or service request) to the tf2_web_republisher\n * based on the current list of TFs.\n */\nTFClient.prototype.updateGoal = function() {\n  var goalMessage = {\n    source_frames : Object.keys(this.frameInfos),\n    target_frame : this.fixedFrame,\n    angular_thres : this.angularThres,\n    trans_thres : this.transThres,\n    rate : this.rate\n  };\n\n  // if we're running in groovy compatibility mode (the default)\n  // then use the action interface to tf2_web_republisher\n  if(this.ros.groovyCompatibility) {\n    if (this.currentGoal) {\n      this.currentGoal.cancel();\n    }\n    this.currentGoal = new Goal({\n      actionClient : this.actionClient,\n      goalMessage : goalMessage\n    });\n\n    this.currentGoal.on('feedback', this.processTFArray.bind(this));\n    this.currentGoal.send();\n  }\n  else {\n    // otherwise, use the service interface\n    // The service interface has the same parameters as the action,\n    // plus the timeout\n    goalMessage.timeout = this.topicTimeout;\n    var request = new ServiceRequest(goalMessage);\n\n    this.serviceClient.callService(request, this.processResponse.bind(this));\n  }\n\n  this.republisherUpdateRequested = false;\n};\n\n/**\n * Process the service response and subscribe to the tf republisher\n * topic\n *\n * @param response the service response containing the topic name\n */\nTFClient.prototype.processResponse = function(response) {\n  // if we subscribed to a topic before, unsubscribe so\n  // the republisher stops publishing it\n  if (this.currentTopic) {\n    this.currentTopic.unsubscribe();\n  }\n\n  this.currentTopic = new Topic({\n    ros: this.ros,\n    name: response.topic_name,\n    messageType: 'tf2_web_republisher/TFArray'\n  });\n  this.currentTopic.subscribe(this.processTFArray.bind(this));\n};\n\n/**\n * Subscribe to the given TF frame.\n *\n * @param frameID - the TF frame to subscribe to\n * @param callback - function with params:\n *   * transform - the transform data\n */\nTFClient.prototype.subscribe = function(frameID, callback) {\n  // remove leading slash, if it's there\n  if (frameID[0] === '/')\n  {\n    frameID = frameID.substring(1);\n  }\n  // if there is no callback registered for the given frame, create emtpy callback list\n  if (!this.frameInfos[frameID]) {\n    this.frameInfos[frameID] = {\n      cbs: []\n    };\n    if (!this.republisherUpdateRequested) {\n      setTimeout(this.updateGoal.bind(this), this.updateDelay);\n      this.republisherUpdateRequested = true;\n    }\n  }\n  // if we already have a transform, call back immediately\n  else if (this.frameInfos[frameID].transform) {\n    callback(this.frameInfos[frameID].transform);\n  }\n  this.frameInfos[frameID].cbs.push(callback);\n};\n\n/**\n * Unsubscribe from the given TF frame.\n *\n * @param frameID - the TF frame to unsubscribe from\n * @param callback - the callback function to remove\n */\nTFClient.prototype.unsubscribe = function(frameID, callback) {\n  // remove leading slash, if it's there\n  if (frameID[0] === '/')\n  {\n    frameID = frameID.substring(1);\n  }\n  var info = this.frameInfos[frameID];\n  for (var cbs = info && info.cbs || [], idx = cbs.length; idx--;) {\n    if (cbs[idx] === callback) {\n      cbs.splice(idx, 1);\n    }\n  }\n  if (!callback || cbs.length === 0) {\n    delete this.frameInfos[frameID];\n  }\n};\n\n/**\n * Unsubscribe and unadvertise all topics associated with this TFClient.\n */\nTFClient.prototype.dispose = function() {\n  this.actionClient.dispose();\n  if (this.currentTopic) {\n    this.currentTopic.unsubscribe();\n  }\n};\n\nmodule.exports = TFClient;\n","/**\n * Mixin a feature to the core/Ros prototype.\n * For example, mixin(Ros, ['Topic'], {Topic: <Topic>})\n * will add a topic bound to any Ros instances so a user\n * can call `var topic = ros.Topic({name: '/foo'});`\n *\n * @author Graeme Yeates - github.com/megawac\n */\nmodule.exports = function(Ros, classes, features) {\n    classes.forEach(function(className) {\n        var Class = features[className];\n        Ros.prototype[className] = function(options) {\n            options.ros = this;\n            return new Class(options);\n        };\n    });\n};\n","/**\n * @fileOverview\n * @author Laura Lindzey - lindzey@gmail.com\n */\n\nvar Topic = require('../core/Topic');\nvar Message = require('../core/Message');\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\n\n/**\n * An actionlib action server client.\n *\n * Emits the following events:\n *  * 'goal' - goal sent by action client\n *  * 'cancel' - action client has canceled the request\n *\n *  @constructor\n *  @param options - object with following keys:\n *   * ros - the ROSLIB.Ros connection handle\n *   * serverName - the action server name, like /fibonacci\n *   * actionName - the action message name, like 'actionlib_tutorials/FibonacciAction'\n */\n\nfunction SimpleActionServer(options) {\n    var that = this;\n    options = options || {};\n    this.ros = options.ros;\n    this.serverName = options.serverName;\n    this.actionName = options.actionName;\n\n    // create and advertise publishers\n    this.feedbackPublisher = new Topic({\n        ros : this.ros,\n        name : this.serverName + '/feedback',\n        messageType : this.actionName + 'Feedback'\n    });\n    this.feedbackPublisher.advertise();\n\n    var statusPublisher = new Topic({\n        ros : this.ros,\n        name : this.serverName + '/status',\n        messageType : 'actionlib_msgs/GoalStatusArray'\n    });\n    statusPublisher.advertise();\n\n    this.resultPublisher = new Topic({\n        ros : this.ros,\n        name : this.serverName + '/result',\n        messageType : this.actionName + 'Result'\n    });\n    this.resultPublisher.advertise();\n\n    // create and subscribe to listeners\n    var goalListener = new Topic({\n        ros : this.ros,\n        name : this.serverName + '/goal',\n        messageType : this.actionName + 'Goal'\n    });\n\n    var cancelListener = new Topic({\n        ros : this.ros,\n        name : this.serverName + '/cancel',\n        messageType : 'actionlib_msgs/GoalID'\n    });\n\n    // Track the goals and their status in order to publish status...\n    this.statusMessage = new Message({\n        header : {\n            stamp : {secs : 0, nsecs : 100},\n            frame_id : ''\n        },\n        status_list : []\n    });\n\n    // needed for handling preemption prompted by a new goal being received\n    this.currentGoal = null; // currently tracked goal\n    this.nextGoal = null; // the one that'll be preempting\n\n    goalListener.subscribe(function(goalMessage) {\n        \n    if(that.currentGoal) {\n            that.nextGoal = goalMessage;\n            // needs to happen AFTER rest is set up\n            that.emit('cancel');\n    } else {\n            that.statusMessage.status_list = [{goal_id : goalMessage.goal_id, status : 1}];\n            that.currentGoal = goalMessage;\n            that.emit('goal', goalMessage.goal);\n    }\n    });\n\n    // helper function for determing ordering of timestamps\n    // returns t1 < t2\n    var isEarlier = function(t1, t2) {\n        if(t1.secs > t2.secs) {\n            return false;\n        } else if(t1.secs < t2.secs) {\n            return true;\n        } else if(t1.nsecs < t2.nsecs) {\n            return true;\n        } else {\n            return false;\n        }\n    };\n\n    // TODO: this may be more complicated than necessary, since I'm\n    // not sure if the callbacks can ever wind up with a scenario\n    // where we've been preempted by a next goal, it hasn't finished\n    // processing, and then we get a cancel message\n    cancelListener.subscribe(function(cancelMessage) {\n\n        // cancel ALL goals if both empty\n        if(cancelMessage.stamp.secs === 0 && cancelMessage.stamp.secs === 0 && cancelMessage.id === '') {\n            that.nextGoal = null;\n            if(that.currentGoal) {\n                that.emit('cancel');\n            }\n        } else { // treat id and stamp independently\n            if(that.currentGoal && cancelMessage.id === that.currentGoal.goal_id.id) {\n                that.emit('cancel');\n            } else if(that.nextGoal && cancelMessage.id === that.nextGoal.goal_id.id) {\n                that.nextGoal = null;\n            }\n\n            if(that.nextGoal && isEarlier(that.nextGoal.goal_id.stamp,\n                                          cancelMessage.stamp)) {\n                that.nextGoal = null;\n            }\n            if(that.currentGoal && isEarlier(that.currentGoal.goal_id.stamp,\n                                             cancelMessage.stamp)) {\n                \n                that.emit('cancel');\n            }\n        }\n    });\n\n    // publish status at pseudo-fixed rate; required for clients to know they've connected\n    var statusInterval = setInterval( function() {\n        var currentTime = new Date();\n        var secs = Math.floor(currentTime.getTime()/1000);\n        var nsecs = Math.round(1000000000*(currentTime.getTime()/1000-secs));\n        that.statusMessage.header.stamp.secs = secs;\n        that.statusMessage.header.stamp.nsecs = nsecs;\n        statusPublisher.publish(that.statusMessage);\n    }, 500); // publish every 500ms\n\n}\n\nSimpleActionServer.prototype.__proto__ = EventEmitter2.prototype;\n\n/**\n*  Set action state to succeeded and return to client\n*/\n\nSimpleActionServer.prototype.setSucceeded = function(result2) {\n    \n\n    var resultMessage = new Message({\n        status : {goal_id : this.currentGoal.goal_id, status : 3},\n        result : result2\n    });\n    this.resultPublisher.publish(resultMessage);\n\n    this.statusMessage.status_list = [];\n    if(this.nextGoal) {\n        this.currentGoal = this.nextGoal;\n        this.nextGoal = null;\n        this.emit('goal', this.currentGoal.goal);\n    } else {\n        this.currentGoal = null;\n    }\n};\n\n/**\n*  Function to send feedback\n*/\n\nSimpleActionServer.prototype.sendFeedback = function(feedback2) {\n\n    var feedbackMessage = new Message({\n        status : {goal_id : this.currentGoal.goal_id, status : 1},\n        feedback : feedback2\n    });\n    this.feedbackPublisher.publish(feedbackMessage);\n};\n\n/**\n*  Handle case where client requests preemption\n*/\n\nSimpleActionServer.prototype.setPreempted = function() {\n\n    this.statusMessage.status_list = [];\n    var resultMessage = new Message({\n        status : {goal_id : this.currentGoal.goal_id, status : 2},\n    });\n    this.resultPublisher.publish(resultMessage);\n\n    if(this.nextGoal) {\n        this.currentGoal = this.nextGoal;\n        this.nextGoal = null;\n        this.emit('goal', this.currentGoal.goal);\n    } else {\n        this.currentGoal = null;\n    }\n};\n\nmodule.exports = SimpleActionServer;","/**\n * @fileoverview\n * @author Brandon Alexander - balexander@willowgarage.com\n */\n\nvar assign = require('object-assign');\n\n/**\n * A ServiceRequest is passed into the service call.\n *\n * @constructor\n * @param values - object matching the fields defined in the .srv definition file\n */\nfunction ServiceRequest(values) {\n  assign(this, values);\n}\n\nmodule.exports = ServiceRequest;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","var WebSocket = WebSocket || require('ws');\n\nmodule.exports = function(self) {\n  var socket = null;\n\n  function handleSocketMessage(ev) {\n    var data = ev.data;\n\n    if (data instanceof ArrayBuffer) {\n      // binary message, transfer for speed\n      self.postMessage(data, [data]);\n    } else {\n      // JSON message, copy string\n      self.postMessage(data);\n    }\n  }\n\n  function handleSocketControl(ev) {\n    self.postMessage({type: ev.type});\n  }\n\n  self.addEventListener('message', function(ev) {\n    var data = ev.data;\n\n    if (typeof data === 'string') {\n      // JSON message from ROSLIB\n      socket.send(data);\n    } else {\n      // control message\n      if (data.hasOwnProperty('close')) {\n        socket.close();\n        socket = null;\n      } else if (data.hasOwnProperty('uri')) {\n        var uri = data.uri;\n\n        socket = new WebSocket(uri);\n        socket.binaryType = 'arraybuffer';\n\n        socket.onmessage = handleSocketMessage;\n        socket.onclose = handleSocketControl;\n        socket.onopen = handleSocketControl;\n        socket.onerror = handleSocketControl;\n      } else {\n        throw 'Unknown message to WorkerSocket';\n      }\n    }\n  });\n};\n","/**\n * @fileOverview\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar Topic = require('../core/Topic');\nvar Message = require('../core/Message');\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\n\n/**\n * An actionlib action client.\n *\n * Emits the following events:\n *  * 'timeout' - if a timeout occurred while sending a goal\n *  * 'status' - the status messages received from the action server\n *  * 'feedback' -  the feedback messages received from the action server\n *  * 'result' - the result returned from the action server\n *\n *  @constructor\n *  @param options - object with following keys:\n *   * ros - the ROSLIB.Ros connection handle\n *   * serverName - the action server name, like /fibonacci\n *   * actionName - the action message name, like 'actionlib_tutorials/FibonacciAction'\n *   * timeout - the timeout length when connecting to the action server\n */\nfunction ActionClient(options) {\n  var that = this;\n  options = options || {};\n  this.ros = options.ros;\n  this.serverName = options.serverName;\n  this.actionName = options.actionName;\n  this.timeout = options.timeout;\n  this.omitFeedback = options.omitFeedback;\n  this.omitStatus = options.omitStatus;\n  this.omitResult = options.omitResult;\n  this.goals = {};\n\n  // flag to check if a status has been received\n  var receivedStatus = false;\n\n  // create the topics associated with actionlib\n  this.feedbackListener = new Topic({\n    ros : this.ros,\n    name : this.serverName + '/feedback',\n    messageType : this.actionName + 'Feedback'\n  });\n\n  this.statusListener = new Topic({\n    ros : this.ros,\n    name : this.serverName + '/status',\n    messageType : 'actionlib_msgs/GoalStatusArray'\n  });\n\n  this.resultListener = new Topic({\n    ros : this.ros,\n    name : this.serverName + '/result',\n    messageType : this.actionName + 'Result'\n  });\n\n  this.goalTopic = new Topic({\n    ros : this.ros,\n    name : this.serverName + '/goal',\n    messageType : this.actionName + 'Goal'\n  });\n\n  this.cancelTopic = new Topic({\n    ros : this.ros,\n    name : this.serverName + '/cancel',\n    messageType : 'actionlib_msgs/GoalID'\n  });\n\n  // advertise the goal and cancel topics\n  this.goalTopic.advertise();\n  this.cancelTopic.advertise();\n\n  // subscribe to the status topic\n  if (!this.omitStatus) {\n    this.statusListener.subscribe(function(statusMessage) {\n      receivedStatus = true;\n      statusMessage.status_list.forEach(function(status) {\n        var goal = that.goals[status.goal_id.id];\n        if (goal) {\n          goal.emit('status', status);\n        }\n      });\n    });\n  }\n\n  // subscribe the the feedback topic\n  if (!this.omitFeedback) {\n    this.feedbackListener.subscribe(function(feedbackMessage) {\n      var goal = that.goals[feedbackMessage.status.goal_id.id];\n      if (goal) {\n        goal.emit('status', feedbackMessage.status);\n        goal.emit('feedback', feedbackMessage.feedback);\n      }\n    });\n  }\n\n  // subscribe to the result topic\n  if (!this.omitResult) {\n    this.resultListener.subscribe(function(resultMessage) {\n      var goal = that.goals[resultMessage.status.goal_id.id];\n\n      if (goal) {\n        goal.emit('status', resultMessage.status);\n        goal.emit('result', resultMessage.result);\n      }\n    });\n  }\n\n  // If timeout specified, emit a 'timeout' event if the action server does not respond\n  if (this.timeout) {\n    setTimeout(function() {\n      if (!receivedStatus) {\n        that.emit('timeout');\n      }\n    }, this.timeout);\n  }\n}\n\nActionClient.prototype.__proto__ = EventEmitter2.prototype;\n\n/**\n * Cancel all goals associated with this ActionClient.\n */\nActionClient.prototype.cancel = function() {\n  var cancelMessage = new Message();\n  this.cancelTopic.publish(cancelMessage);\n};\n\n/**\n * Unsubscribe and unadvertise all topics associated with this ActionClient.\n */\nActionClient.prototype.dispose = function() {\n  this.goalTopic.unadvertise();\n  this.cancelTopic.unadvertise();\n  if (!this.omitStatus) {this.statusListener.unsubscribe();}\n  if (!this.omitFeedback) {this.feedbackListener.unsubscribe();}\n  if (!this.omitResult) {this.resultListener.unsubscribe();}\n};\n\nmodule.exports = ActionClient;\n","/**\n * @fileOverview \n * @author Benjamin Pitzer - ben.pitzer@gmail.com\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar UrdfColor = require('./UrdfColor');\n\n/**\n * A Material element in a URDF.\n *\n * @constructor\n * @param options - object with following keys:\n *  * xml - the XML element to parse\n */\nfunction UrdfMaterial(options) {\n  this.textureFilename = null;\n  this.color = null;\n\n  this.name = options.xml.getAttribute('name');\n\n  // Texture\n  var textures = options.xml.getElementsByTagName('texture');\n  if (textures.length > 0) {\n    this.textureFilename = textures[0].getAttribute('filename');\n  }\n\n  // Color\n  var colors = options.xml.getElementsByTagName('color');\n  if (colors.length > 0) {\n    // Parse the RBGA string\n    this.color = new UrdfColor({\n      xml : colors[0]\n    });\n  }\n}\n\nUrdfMaterial.prototype.isLink = function() {\n  return this.color === null && this.textureFilename === null;\n};\n\nvar assign = require('object-assign');\n\nUrdfMaterial.prototype.assign = function(obj) {\n    return assign(this, obj);\n};\n\nmodule.exports = UrdfMaterial;\n","/**\n * @fileOverview \n * @author Benjamin Pitzer - ben.pitzer@gmail.com\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar UrdfMaterial = require('./UrdfMaterial');\nvar UrdfLink = require('./UrdfLink');\nvar UrdfJoint = require('./UrdfJoint');\nvar DOMParser = require('xmldom').DOMParser;\n\n// See https://developer.mozilla.org/docs/XPathResult#Constants\nvar XPATH_FIRST_ORDERED_NODE_TYPE = 9;\n\n/**\n * A URDF Model can be used to parse a given URDF into the appropriate elements.\n *\n * @constructor\n * @param options - object with following keys:\n *  * xml - the XML element to parse\n *  * string - the XML element to parse as a string\n */\nfunction UrdfModel(options) {\n  options = options || {};\n  var xmlDoc = options.xml;\n  var string = options.string;\n  this.materials = {};\n  this.links = {};\n  this.joints = {};\n\n  // Check if we are using a string or an XML element\n  if (string) {\n    // Parse the string\n    var parser = new DOMParser();\n    xmlDoc = parser.parseFromString(string, 'text/xml');\n  }\n\n  // Initialize the model with the given XML node.\n  // Get the robot tag\n  var robotXml = xmlDoc.documentElement;\n\n  // Get the robot name\n  this.name = robotXml.getAttribute('name');\n\n  // Parse all the visual elements we need\n  for (var nodes = robotXml.childNodes, i = 0; i < nodes.length; i++) {\n    var node = nodes[i];\n    if (node.tagName === 'material') {\n      var material = new UrdfMaterial({\n        xml : node\n      });\n      // Make sure this is unique\n      if (this.materials[material.name] !== void 0) {\n        if( this.materials[material.name].isLink() ) {\n          this.materials[material.name].assign( material );\n        } else {\n          console.warn('Material ' + material.name + 'is not unique.');\n        }\n      } else {\n        this.materials[material.name] = material;\n      }\n    } else if (node.tagName === 'link') {\n      var link = new UrdfLink({\n        xml : node\n      });\n      // Make sure this is unique\n      if (this.links[link.name] !== void 0) {\n        console.warn('Link ' + link.name + ' is not unique.');\n      } else {\n        // Check for a material\n        for( var j=0; j<link.visuals.length; j++ )\n        {\n          var mat = link.visuals[j].material; \n          if ( mat !== null ) {\n            if (this.materials[mat.name] !== void 0) {\n              link.visuals[j].material = this.materials[mat.name];\n            } else {\n              this.materials[mat.name] = mat;\n            }\n          }\n        }\n\n        // Add the link\n        this.links[link.name] = link;\n      }\n    } else if (node.tagName === 'joint') {\n      var joint = new UrdfJoint({\n        xml : node\n      });\n      this.joints[joint.name] = joint;\n    }\n  }\n}\n\nmodule.exports = UrdfModel;\n","/**\n * @fileOverview \n * @author Benjamin Pitzer - ben.pitzer@gmail.com\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar Pose = require('../math/Pose');\nvar Vector3 = require('../math/Vector3');\nvar Quaternion = require('../math/Quaternion');\n\nvar UrdfCylinder = require('./UrdfCylinder');\nvar UrdfBox = require('./UrdfBox');\nvar UrdfMaterial = require('./UrdfMaterial');\nvar UrdfMesh = require('./UrdfMesh');\nvar UrdfSphere = require('./UrdfSphere');\n\n/**\n * A Visual element in a URDF.\n *\n * @constructor\n * @param options - object with following keys:\n *  * xml - the XML element to parse\n */\nfunction UrdfVisual(options) {\n  var xml = options.xml;\n  this.origin = null;\n  this.geometry = null;\n  this.material = null;\n\n  this.name = options.xml.getAttribute('name');\n\n  // Origin\n  var origins = xml.getElementsByTagName('origin');\n  if (origins.length === 0) {\n    // use the identity as the default\n    this.origin = new Pose();\n  } else {\n    // Check the XYZ\n    var xyz = origins[0].getAttribute('xyz');\n    var position = new Vector3();\n    if (xyz) {\n      xyz = xyz.split(' ');\n      position = new Vector3({\n        x : parseFloat(xyz[0]),\n        y : parseFloat(xyz[1]),\n        z : parseFloat(xyz[2])\n      });\n    }\n\n    // Check the RPY\n    var rpy = origins[0].getAttribute('rpy');\n    var orientation = new Quaternion();\n    if (rpy) {\n      rpy = rpy.split(' ');\n      // Convert from RPY\n      var roll = parseFloat(rpy[0]);\n      var pitch = parseFloat(rpy[1]);\n      var yaw = parseFloat(rpy[2]);\n      var phi = roll / 2.0;\n      var the = pitch / 2.0;\n      var psi = yaw / 2.0;\n      var x = Math.sin(phi) * Math.cos(the) * Math.cos(psi) - Math.cos(phi) * Math.sin(the)\n          * Math.sin(psi);\n      var y = Math.cos(phi) * Math.sin(the) * Math.cos(psi) + Math.sin(phi) * Math.cos(the)\n          * Math.sin(psi);\n      var z = Math.cos(phi) * Math.cos(the) * Math.sin(psi) - Math.sin(phi) * Math.sin(the)\n          * Math.cos(psi);\n      var w = Math.cos(phi) * Math.cos(the) * Math.cos(psi) + Math.sin(phi) * Math.sin(the)\n          * Math.sin(psi);\n\n      orientation = new Quaternion({\n        x : x,\n        y : y,\n        z : z,\n        w : w\n      });\n      orientation.normalize();\n    }\n    this.origin = new Pose({\n      position : position,\n      orientation : orientation\n    });\n  }\n\n  // Geometry\n  var geoms = xml.getElementsByTagName('geometry');\n  if (geoms.length > 0) {\n    var geom = geoms[0];\n    var shape = null;\n    // Check for the shape\n    for (var i = 0; i < geom.childNodes.length; i++) {\n      var node = geom.childNodes[i];\n      if (node.nodeType === 1) {\n        shape = node;\n        break;\n      }\n    }\n    // Check the type\n    var type = shape.nodeName;\n    if (type === 'sphere') {\n      this.geometry = new UrdfSphere({\n        xml : shape\n      });\n    } else if (type === 'box') {\n      this.geometry = new UrdfBox({\n        xml : shape\n      });\n    } else if (type === 'cylinder') {\n      this.geometry = new UrdfCylinder({\n        xml : shape\n      });\n    } else if (type === 'mesh') {\n      this.geometry = new UrdfMesh({\n        xml : shape\n      });\n    } else {\n      console.warn('Unknown geometry type ' + type);\n    }\n  }\n\n  // Material\n  var materials = xml.getElementsByTagName('material');\n  if (materials.length > 0) {\n    this.material = new UrdfMaterial({\n      xml : materials[0]\n    });\n  }\n}\n\nmodule.exports = UrdfVisual;","/*\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2014 Patrick Gansterer <paroga@paroga.com>\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n * SOFTWARE.\r\n */\r\n\r\n(function(global, undefined) { \"use strict\";\r\nvar POW_2_24 = Math.pow(2, -24),\r\n    POW_2_32 = Math.pow(2, 32),\r\n    POW_2_53 = Math.pow(2, 53);\r\n\r\nfunction encode(value) {\r\n  var data = new ArrayBuffer(256);\r\n  var dataView = new DataView(data);\r\n  var lastLength;\r\n  var offset = 0;\r\n\r\n  function ensureSpace(length) {\r\n    var newByteLength = data.byteLength;\r\n    var requiredLength = offset + length;\r\n    while (newByteLength < requiredLength)\r\n      newByteLength *= 2;\r\n    if (newByteLength !== data.byteLength) {\r\n      var oldDataView = dataView;\r\n      data = new ArrayBuffer(newByteLength);\r\n      dataView = new DataView(data);\r\n      var uint32count = (offset + 3) >> 2;\r\n      for (var i = 0; i < uint32count; ++i)\r\n        dataView.setUint32(i * 4, oldDataView.getUint32(i * 4));\r\n    }\r\n\r\n    lastLength = length;\r\n    return dataView;\r\n  }\r\n  function write() {\r\n    offset += lastLength;\r\n  }\r\n  function writeFloat64(value) {\r\n    write(ensureSpace(8).setFloat64(offset, value));\r\n  }\r\n  function writeUint8(value) {\r\n    write(ensureSpace(1).setUint8(offset, value));\r\n  }\r\n  function writeUint8Array(value) {\r\n    var dataView = ensureSpace(value.length);\r\n    for (var i = 0; i < value.length; ++i)\r\n      dataView.setUint8(offset + i, value[i]);\r\n    write();\r\n  }\r\n  function writeUint16(value) {\r\n    write(ensureSpace(2).setUint16(offset, value));\r\n  }\r\n  function writeUint32(value) {\r\n    write(ensureSpace(4).setUint32(offset, value));\r\n  }\r\n  function writeUint64(value) {\r\n    var low = value % POW_2_32;\r\n    var high = (value - low) / POW_2_32;\r\n    var dataView = ensureSpace(8);\r\n    dataView.setUint32(offset, high);\r\n    dataView.setUint32(offset + 4, low);\r\n    write();\r\n  }\r\n  function writeTypeAndLength(type, length) {\r\n    if (length < 24) {\r\n      writeUint8(type << 5 | length);\r\n    } else if (length < 0x100) {\r\n      writeUint8(type << 5 | 24);\r\n      writeUint8(length);\r\n    } else if (length < 0x10000) {\r\n      writeUint8(type << 5 | 25);\r\n      writeUint16(length);\r\n    } else if (length < 0x100000000) {\r\n      writeUint8(type << 5 | 26);\r\n      writeUint32(length);\r\n    } else {\r\n      writeUint8(type << 5 | 27);\r\n      writeUint64(length);\r\n    }\r\n  }\r\n  \r\n  function encodeItem(value) {\r\n    var i;\r\n\r\n    if (value === false)\r\n      return writeUint8(0xf4);\r\n    if (value === true)\r\n      return writeUint8(0xf5);\r\n    if (value === null)\r\n      return writeUint8(0xf6);\r\n    if (value === undefined)\r\n      return writeUint8(0xf7);\r\n  \r\n    switch (typeof value) {\r\n      case \"number\":\r\n        if (Math.floor(value) === value) {\r\n          if (0 <= value && value <= POW_2_53)\r\n            return writeTypeAndLength(0, value);\r\n          if (-POW_2_53 <= value && value < 0)\r\n            return writeTypeAndLength(1, -(value + 1));\r\n        }\r\n        writeUint8(0xfb);\r\n        return writeFloat64(value);\r\n\r\n      case \"string\":\r\n        var utf8data = [];\r\n        for (i = 0; i < value.length; ++i) {\r\n          var charCode = value.charCodeAt(i);\r\n          if (charCode < 0x80) {\r\n            utf8data.push(charCode);\r\n          } else if (charCode < 0x800) {\r\n            utf8data.push(0xc0 | charCode >> 6);\r\n            utf8data.push(0x80 | charCode & 0x3f);\r\n          } else if (charCode < 0xd800) {\r\n            utf8data.push(0xe0 | charCode >> 12);\r\n            utf8data.push(0x80 | (charCode >> 6)  & 0x3f);\r\n            utf8data.push(0x80 | charCode & 0x3f);\r\n          } else {\r\n            charCode = (charCode & 0x3ff) << 10;\r\n            charCode |= value.charCodeAt(++i) & 0x3ff;\r\n            charCode += 0x10000;\r\n\r\n            utf8data.push(0xf0 | charCode >> 18);\r\n            utf8data.push(0x80 | (charCode >> 12)  & 0x3f);\r\n            utf8data.push(0x80 | (charCode >> 6)  & 0x3f);\r\n            utf8data.push(0x80 | charCode & 0x3f);\r\n          }\r\n        }\r\n\r\n        writeTypeAndLength(3, utf8data.length);\r\n        return writeUint8Array(utf8data);\r\n\r\n      default:\r\n        var length;\r\n        if (Array.isArray(value)) {\r\n          length = value.length;\r\n          writeTypeAndLength(4, length);\r\n          for (i = 0; i < length; ++i)\r\n            encodeItem(value[i]);\r\n        } else if (value instanceof Uint8Array) {\r\n          writeTypeAndLength(2, value.length);\r\n          writeUint8Array(value);\r\n        } else {\r\n          var keys = Object.keys(value);\r\n          length = keys.length;\r\n          writeTypeAndLength(5, length);\r\n          for (i = 0; i < length; ++i) {\r\n            var key = keys[i];\r\n            encodeItem(key);\r\n            encodeItem(value[key]);\r\n          }\r\n        }\r\n    }\r\n  }\r\n  \r\n  encodeItem(value);\r\n\r\n  if (\"slice\" in data)\r\n    return data.slice(0, offset);\r\n  \r\n  var ret = new ArrayBuffer(offset);\r\n  var retView = new DataView(ret);\r\n  for (var i = 0; i < offset; ++i)\r\n    retView.setUint8(i, dataView.getUint8(i));\r\n  return ret;\r\n}\r\n\r\nfunction decode(data, tagger, simpleValue) {\r\n  var dataView = new DataView(data);\r\n  var offset = 0;\r\n  \r\n  if (typeof tagger !== \"function\")\r\n    tagger = function(value) { return value; };\r\n  if (typeof simpleValue !== \"function\")\r\n    simpleValue = function() { return undefined; };\r\n\r\n  function read(value, length) {\r\n    offset += length;\r\n    return value;\r\n  }\r\n  function readArrayBuffer(length) {\r\n    return read(new Uint8Array(data, offset, length), length);\r\n  }\r\n  function readFloat16() {\r\n    var tempArrayBuffer = new ArrayBuffer(4);\r\n    var tempDataView = new DataView(tempArrayBuffer);\r\n    var value = readUint16();\r\n\r\n    var sign = value & 0x8000;\r\n    var exponent = value & 0x7c00;\r\n    var fraction = value & 0x03ff;\r\n    \r\n    if (exponent === 0x7c00)\r\n      exponent = 0xff << 10;\r\n    else if (exponent !== 0)\r\n      exponent += (127 - 15) << 10;\r\n    else if (fraction !== 0)\r\n      return fraction * POW_2_24;\r\n    \r\n    tempDataView.setUint32(0, sign << 16 | exponent << 13 | fraction << 13);\r\n    return tempDataView.getFloat32(0);\r\n  }\r\n  function readFloat32() {\r\n    return read(dataView.getFloat32(offset), 4);\r\n  }\r\n  function readFloat64() {\r\n    return read(dataView.getFloat64(offset), 8);\r\n  }\r\n  function readUint8() {\r\n    return read(dataView.getUint8(offset), 1);\r\n  }\r\n  function readUint16() {\r\n    return read(dataView.getUint16(offset), 2);\r\n  }\r\n  function readUint32() {\r\n    return read(dataView.getUint32(offset), 4);\r\n  }\r\n  function readUint64() {\r\n    return readUint32() * POW_2_32 + readUint32();\r\n  }\r\n  function readBreak() {\r\n    if (dataView.getUint8(offset) !== 0xff)\r\n      return false;\r\n    offset += 1;\r\n    return true;\r\n  }\r\n  function readLength(additionalInformation) {\r\n    if (additionalInformation < 24)\r\n      return additionalInformation;\r\n    if (additionalInformation === 24)\r\n      return readUint8();\r\n    if (additionalInformation === 25)\r\n      return readUint16();\r\n    if (additionalInformation === 26)\r\n      return readUint32();\r\n    if (additionalInformation === 27)\r\n      return readUint64();\r\n    if (additionalInformation === 31)\r\n      return -1;\r\n    throw \"Invalid length encoding\";\r\n  }\r\n  function readIndefiniteStringLength(majorType) {\r\n    var initialByte = readUint8();\r\n    if (initialByte === 0xff)\r\n      return -1;\r\n    var length = readLength(initialByte & 0x1f);\r\n    if (length < 0 || (initialByte >> 5) !== majorType)\r\n      throw \"Invalid indefinite length element\";\r\n    return length;\r\n  }\r\n\r\n  function appendUtf16data(utf16data, length) {\r\n    for (var i = 0; i < length; ++i) {\r\n      var value = readUint8();\r\n      if (value & 0x80) {\r\n        if (value < 0xe0) {\r\n          value = (value & 0x1f) <<  6\r\n                | (readUint8() & 0x3f);\r\n          length -= 1;\r\n        } else if (value < 0xf0) {\r\n          value = (value & 0x0f) << 12\r\n                | (readUint8() & 0x3f) << 6\r\n                | (readUint8() & 0x3f);\r\n          length -= 2;\r\n        } else {\r\n          value = (value & 0x0f) << 18\r\n                | (readUint8() & 0x3f) << 12\r\n                | (readUint8() & 0x3f) << 6\r\n                | (readUint8() & 0x3f);\r\n          length -= 3;\r\n        }\r\n      }\r\n\r\n      if (value < 0x10000) {\r\n        utf16data.push(value);\r\n      } else {\r\n        value -= 0x10000;\r\n        utf16data.push(0xd800 | (value >> 10));\r\n        utf16data.push(0xdc00 | (value & 0x3ff));\r\n      }\r\n    }\r\n  }\r\n\r\n  function decodeItem() {\r\n    var initialByte = readUint8();\r\n    var majorType = initialByte >> 5;\r\n    var additionalInformation = initialByte & 0x1f;\r\n    var i;\r\n    var length;\r\n\r\n    if (majorType === 7) {\r\n      switch (additionalInformation) {\r\n        case 25:\r\n          return readFloat16();\r\n        case 26:\r\n          return readFloat32();\r\n        case 27:\r\n          return readFloat64();\r\n      }\r\n    }\r\n\r\n    length = readLength(additionalInformation);\r\n    if (length < 0 && (majorType < 2 || 6 < majorType))\r\n      throw \"Invalid length\";\r\n\r\n    switch (majorType) {\r\n      case 0:\r\n        return length;\r\n      case 1:\r\n        return -1 - length;\r\n      case 2:\r\n        if (length < 0) {\r\n          var elements = [];\r\n          var fullArrayLength = 0;\r\n          while ((length = readIndefiniteStringLength(majorType)) >= 0) {\r\n            fullArrayLength += length;\r\n            elements.push(readArrayBuffer(length));\r\n          }\r\n          var fullArray = new Uint8Array(fullArrayLength);\r\n          var fullArrayOffset = 0;\r\n          for (i = 0; i < elements.length; ++i) {\r\n            fullArray.set(elements[i], fullArrayOffset);\r\n            fullArrayOffset += elements[i].length;\r\n          }\r\n          return fullArray;\r\n        }\r\n        return readArrayBuffer(length);\r\n      case 3:\r\n        var utf16data = [];\r\n        if (length < 0) {\r\n          while ((length = readIndefiniteStringLength(majorType)) >= 0)\r\n            appendUtf16data(utf16data, length);\r\n        } else\r\n          appendUtf16data(utf16data, length);\r\n        return String.fromCharCode.apply(null, utf16data);\r\n      case 4:\r\n        var retArray;\r\n        if (length < 0) {\r\n          retArray = [];\r\n          while (!readBreak())\r\n            retArray.push(decodeItem());\r\n        } else {\r\n          retArray = new Array(length);\r\n          for (i = 0; i < length; ++i)\r\n            retArray[i] = decodeItem();\r\n        }\r\n        return retArray;\r\n      case 5:\r\n        var retObject = {};\r\n        for (i = 0; i < length || length < 0 && !readBreak(); ++i) {\r\n          var key = decodeItem();\r\n          retObject[key] = decodeItem();\r\n        }\r\n        return retObject;\r\n      case 6:\r\n        return tagger(decodeItem(), length);\r\n      case 7:\r\n        switch (length) {\r\n          case 20:\r\n            return false;\r\n          case 21:\r\n            return true;\r\n          case 22:\r\n            return null;\r\n          case 23:\r\n            return undefined;\r\n          default:\r\n            return simpleValue(length);\r\n        }\r\n    }\r\n  }\r\n\r\n  var ret = decodeItem();\r\n  if (offset !== data.byteLength)\r\n    throw \"Remaining bytes\";\r\n  return ret;\r\n}\r\n\r\nvar obj = { encode: encode, decode: decode };\r\n\r\nif (typeof define === \"function\" && define.amd)\r\n  define(\"cbor/cbor\", obj);\r\nelse if (typeof module !== 'undefined' && module.exports)\r\n  module.exports = obj;\r\nelse if (!global.CBOR)\r\n  global.CBOR = obj;\r\n\r\n})(this);\r\n","module.exports = {\n    Pose: require('./Pose'),\n    Quaternion: require('./Quaternion'),\n    Transform: require('./Transform'),\n    Vector3: require('./Vector3')\n};\n","/* global document */\nmodule.exports = function Canvas() {\n\treturn document.createElement('canvas');\n};","var bundleFn = arguments[3];\nvar sources = arguments[4];\nvar cache = arguments[5];\n\nvar stringify = JSON.stringify;\n\nmodule.exports = function (fn, options) {\n    var wkey;\n    var cacheKeys = Object.keys(cache);\n\n    for (var i = 0, l = cacheKeys.length; i < l; i++) {\n        var key = cacheKeys[i];\n        var exp = cache[key].exports;\n        // Using babel as a transpiler to use esmodule, the export will always\n        // be an object with the default export as a property of it. To ensure\n        // the existing api and babel esmodule exports are both supported we\n        // check for both\n        if (exp === fn || exp && exp.default === fn) {\n            wkey = key;\n            break;\n        }\n    }\n\n    if (!wkey) {\n        wkey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n        var wcache = {};\n        for (var i = 0, l = cacheKeys.length; i < l; i++) {\n            var key = cacheKeys[i];\n            wcache[key] = key;\n        }\n        sources[wkey] = [\n            'function(require,module,exports){' + fn + '(self); }',\n            wcache\n        ];\n    }\n    var skey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n\n    var scache = {}; scache[wkey] = wkey;\n    sources[skey] = [\n        'function(require,module,exports){' +\n            // try to call default if defined to also support babel esmodule exports\n            'var f = require(' + stringify(wkey) + ');' +\n            '(f.default ? f.default : f)(self);' +\n        '}',\n        scache\n    ];\n\n    var workerSources = {};\n    resolveSources(skey);\n\n    function resolveSources(key) {\n        workerSources[key] = true;\n\n        for (var depPath in sources[key][1]) {\n            var depKey = sources[key][1][depPath];\n            if (!workerSources[depKey]) {\n                resolveSources(depKey);\n            }\n        }\n    }\n\n    var src = '(' + bundleFn + ')({'\n        + Object.keys(workerSources).map(function (key) {\n            return stringify(key) + ':['\n                + sources[key][0]\n                + ',' + stringify(sources[key][1]) + ']'\n            ;\n        }).join(',')\n        + '},{},[' + stringify(skey) + '])'\n    ;\n\n    var URL = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n    var blob = new Blob([src], { type: 'text/javascript' });\n    if (options && options.bare) { return blob; }\n    var workerUrl = URL.createObjectURL(blob);\n    var worker = new Worker(workerUrl);\n    worker.objectURL = workerUrl;\n    return worker;\n};\n","/**\n * @fileOverview\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar Message = require('../core/Message');\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\n\n/**\n * An actionlib goal goal is associated with an action server.\n *\n * Emits the following events:\n *  * 'timeout' - if a timeout occurred while sending a goal\n *\n *  @constructor\n *  @param object with following keys:\n *   * actionClient - the ROSLIB.ActionClient to use with this goal\n *   * goalMessage - The JSON object containing the goal for the action server\n */\nfunction Goal(options) {\n  var that = this;\n  this.actionClient = options.actionClient;\n  this.goalMessage = options.goalMessage;\n  this.isFinished = false;\n\n  // Used to create random IDs\n  var date = new Date();\n\n  // Create a random ID\n  this.goalID = 'goal_' + Math.random() + '_' + date.getTime();\n  // Fill in the goal message\n  this.goalMessage = new Message({\n    goal_id : {\n      stamp : {\n        secs : 0,\n        nsecs : 0\n      },\n      id : this.goalID\n    },\n    goal : this.goalMessage\n  });\n\n  this.on('status', function(status) {\n    that.status = status;\n  });\n\n  this.on('result', function(result) {\n    that.isFinished = true;\n    that.result = result;\n  });\n\n  this.on('feedback', function(feedback) {\n    that.feedback = feedback;\n  });\n\n  // Add the goal\n  this.actionClient.goals[this.goalID] = this;\n}\n\nGoal.prototype.__proto__ = EventEmitter2.prototype;\n\n/**\n * Send the goal to the action server.\n *\n * @param timeout (optional) - a timeout length for the goal's result\n */\nGoal.prototype.send = function(timeout) {\n  var that = this;\n  that.actionClient.goalTopic.publish(that.goalMessage);\n  if (timeout) {\n    setTimeout(function() {\n      if (!that.isFinished) {\n        that.emit('timeout');\n      }\n    }, timeout);\n  }\n};\n\n/**\n * Cancel the current goal.\n */\nGoal.prototype.cancel = function() {\n  var cancelMessage = new Message({\n    id : this.goalID\n  });\n  this.actionClient.cancelTopic.publish(cancelMessage);\n};\n\nmodule.exports = Goal;","/**\n * @fileoverview\n * @author David Gossow - dgossow@willowgarage.com\n */\n\nvar Vector3 = require('./Vector3');\nvar Quaternion = require('./Quaternion');\n\n/**\n * A Transform in 3-space. Values are copied into this object.\n *\n *  @constructor\n *  @param options - object with following keys:\n *   * translation - the Vector3 describing the translation\n *   * rotation - the ROSLIB.Quaternion describing the rotation\n */\nfunction Transform(options) {\n  options = options || {};\n  // Copy the values into this object if they exist\n  this.translation = new Vector3(options.translation);\n  this.rotation = new Quaternion(options.rotation);\n}\n\n/**\n * Clone a copy of this transform.\n *\n * @returns the cloned transform\n */\nTransform.prototype.clone = function() {\n  return new Transform(this);\n};\n\nmodule.exports = Transform;","/**\n * @fileOverview \n * @author Benjamin Pitzer - ben.pitzer@gmail.com\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar UrdfTypes = require('./UrdfTypes');\n\n/**\n * A Sphere element in a URDF.\n *\n * @constructor\n * @param options - object with following keys:\n *  * xml - the XML element to parse\n */\nfunction UrdfSphere(options) {\n  this.type = UrdfTypes.URDF_SPHERE;\n  this.radius = parseFloat(options.xml.getAttribute('radius'));\n}\n\nmodule.exports = UrdfSphere;","/**\n * @fileOverview\n * @author Russell Toris - rctoris@wpi.edu\n */\n\n/**\n * If you use roslib in a browser, all the classes will be exported to a global variable called ROSLIB.\n *\n * If you use nodejs, this is the variable you get when you require('roslib')\n */\nvar ROSLIB = this.ROSLIB || {\n  REVISION : '1.1.0'\n};\n\nvar assign = require('object-assign');\n\n// Add core components\nassign(ROSLIB, require('./core'));\n\nassign(ROSLIB, require('./actionlib'));\n\nassign(ROSLIB, require('./math'));\n\nassign(ROSLIB, require('./tf'));\n\nassign(ROSLIB, require('./urdf'));\n\nmodule.exports = ROSLIB;\n","var Ros = require('../core/Ros');\nvar mixin = require('../mixin');\n\nvar action = module.exports = {\n    ActionClient: require('./ActionClient'),\n    ActionListener: require('./ActionListener'),\n    Goal: require('./Goal'),\n    SimpleActionServer: require('./SimpleActionServer')\n};\n\nmixin(Ros, ['ActionClient', 'SimpleActionServer'], action);\n","module.exports = typeof window !== 'undefined' ? window.WebSocket : WebSocket;\n"],"sourceRoot":""}