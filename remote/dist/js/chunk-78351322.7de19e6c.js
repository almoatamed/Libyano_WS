(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78351322"],{"0b7b":function(t,n,o){},"15d0":function(t,n,o){"use strict";o("0b7b")},6176:function(t,n,o){var e,i;
/**
 * @license Quaternion.js v1.2.1 27/07/2021
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Licensed under the MIT license.
 **/(function(o){"use strict";function a(t,n){var o=Math.abs(t),e=Math.abs(n);return 0===t?Math.log(e):0===n?Math.log(o):o<3e3&&e<3e3?.5*Math.log(t*t+n*n):Math.log(t/Math.cos(Math.atan2(n,t)))}var r={w:1,x:0,y:0,z:0};function s(t,n,o,e,i){if(void 0!==i)return t["w"]=n,t["x"]=o,t["y"]=e,void(t["z"]=i);if("object"===typeof n&&void 0===e){if("w"in n||"x"in n||"y"in n||"z"in n)return t["w"]=n["w"]||0,t["x"]=n["x"]||0,t["y"]=n["y"]||0,void(t["z"]=n["z"]||0);if("re"in n&&"im"in n)return t["w"]=n["re"],t["x"]=n["im"],t["y"]=0,void(t["z"]=0);if(4===n.length)return t["w"]=n[0],t["x"]=n[1],t["y"]=n[2],void(t["z"]=n[3]);if(3===n.length)return t["w"]=0,t["x"]=n[0],t["y"]=n[1],void(t["z"]=n[2]);throw new Error("Invalid object")}if("string"!==typeof n||void 0!==e)void 0===n&&t!==r?(t["w"]=1,t["x"]=t["y"]=t["z"]=0):(t["w"]=n||0,o&&3===o.length?(t["x"]=o[0],t["y"]=o[1],t["z"]=o[2]):(t["x"]=o||0,t["y"]=e||0,t["z"]=i||0));else{var a=n.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),s=1,c=0,l={i:"x",j:"y",k:"z"};if(null===a)throw new Error("Parse error");t["w"]=t["x"]=t["y"]=t["z"]=0;for(var u=0;u<a.length;u++){var h=a[u],d=a[u+1];if(" "===h||"\t"===h||"\n"===h);else if("+"===h)s++;else if("-"===h)c++;else{if(s+c===0)throw new Error("Parse error"+h);var f=l[h];if(void 0!==f)" "===d||isNaN(d)?h="1":(h=d,u++);else{if(isNaN(h))throw new Error("Parser error");f=l[d],void 0!==f&&u++}t[f||"w"]+=parseFloat((c%2?"-":"")+h),s=c=0}}if(s+c>0)throw new Error("Parser error")}}function c(t,n,o){var e="";return 0!==t&&(""!==o?e+=t<0?" - ":" + ":t<0&&(e+="-"),t=Math.abs(t),1===t&&""!==n||(e+=t),e+=n),e}function l(t,n,o,e){if(!(this instanceof l))return new l(t,n,o,e);s(this,t,n,o,e)}l.prototype={w:1,x:0,y:0,z:0,add:function(t,n,o,e){return s(r,t,n,o,e),new l(this["w"]+r["w"],this["x"]+r["x"],this["y"]+r["y"],this["z"]+r["z"])},sub:function(t,n,o,e){return s(r,t,n,o,e),new l(this["w"]-r["w"],this["x"]-r["x"],this["y"]-r["y"],this["z"]-r["z"])},neg:function(){return new l(-this["w"],-this["x"],-this["y"],-this["z"])},norm:function(){var t=this["w"],n=this["x"],o=this["y"],e=this["z"];return Math.sqrt(t*t+n*n+o*o+e*e)},normSq:function(){var t=this["w"],n=this["x"],o=this["y"],e=this["z"];return t*t+n*n+o*o+e*e},normalize:function(){var t=this["w"],n=this["x"],o=this["y"],e=this["z"],i=Math.sqrt(t*t+n*n+o*o+e*e);return i<l["EPSILON"]?l["ZERO"]:(i=1/i,new l(t*i,n*i,o*i,e*i))},mul:function(t,n,o,e){s(r,t,n,o,e);var i=this["w"],a=this["x"],c=this["y"],u=this["z"],h=r["w"],d=r["x"],f=r["y"],m=r["z"];return new l(i*h-a*d-c*f-u*m,i*d+a*h+c*m-u*f,i*f+c*h+u*d-a*m,i*m+u*h+a*f-c*d)},scale:function(t){return new l(this["w"]*t,this["x"]*t,this["y"]*t,this["z"]*t)},dot:function(t,n,o,e){return s(r,t,n,o,e),this["w"]*r["w"]+this["x"]*r["x"]+this["y"]*r["y"]+this["z"]*r["z"]},inverse:function(){var t=this["w"],n=this["x"],o=this["y"],e=this["z"],i=t*t+n*n+o*o+e*e;return 0===i?l["ZERO"]:(i=1/i,new l(t*i,-n*i,-o*i,-e*i))},div:function(t,n,o,e){s(r,t,n,o,e);var i=this["w"],a=this["x"],c=this["y"],u=this["z"],h=r["w"],d=r["x"],f=r["y"],m=r["z"],_=h*h+d*d+f*f+m*m;return 0===_?l["ZERO"]:(_=1/_,new l((i*h+a*d+c*f+u*m)*_,(a*h-i*d-c*m+u*f)*_,(c*h-i*f-u*d+a*m)*_,(u*h-i*m-a*f+c*d)*_))},conjugate:function(){return new l(this["w"],-this["x"],-this["y"],-this["z"])},exp:function(){var t=this["w"],n=this["x"],o=this["y"],e=this["z"],i=Math.sqrt(n*n+o*o+e*e),a=Math.exp(t),r=a/i*Math.sin(i);return 0===i?new l(a,0,0,0):new l(a*Math.cos(i),n*r,o*r,e*r)},log:function(){var t=this["w"],n=this["x"],o=this["y"],e=this["z"];if(0===o&&0===e)return new l(a(t,n),Math.atan2(n,t),0,0);var i=n*n+o*o+e*e+t*t,r=Math.sqrt(n*n+o*o+e*e),s=Math.atan2(r,t)/r;return new l(.5*Math.log(i),n*s,o*s,e*s)},pow:function(t,n,o,e){if(s(r,t,n,o,e),0===r["y"]&&0===r["z"]){if(1===r["w"]&&0===r["x"])return this;if(0===r["w"]&&0===r["x"])return l["ONE"];if(0===this["y"]&&0===this["z"]){var i=this["w"],c=this["x"];if(0===i&&0===c)return l["ZERO"];var u=Math.atan2(c,i),h=a(i,c);if(0===r["x"]){if(0===c&&i>=0)return new l(Math.pow(i,r["w"]),0,0,0);if(0===i)switch(r["w"]%4){case 0:return new l(Math.pow(c,r["w"]),0,0,0);case 1:return new l(0,Math.pow(c,r["w"]),0,0);case 2:return new l(-Math.pow(c,r["w"]),0,0,0);case 3:return new l(0,-Math.pow(c,r["w"]),0,0)}}return i=Math.exp(r["w"]*h-r["x"]*u),c=r["x"]*h+r["w"]*u,new l(i*Math.cos(c),i*Math.sin(c),0,0)}}return this["log"]()["mul"](r)["exp"]()},equals:function(t,n,o,e){s(r,t,n,o,e);var i=l["EPSILON"];return Math.abs(r["w"]-this["w"])<i&&Math.abs(r["x"]-this["x"])<i&&Math.abs(r["y"]-this["y"])<i&&Math.abs(r["z"]-this["z"])<i},isFinite:function(){return isFinite(this["w"])&&isFinite(this["x"])&&isFinite(this["y"])&&isFinite(this["z"])},isNaN:function(){return isNaN(this["w"])||isNaN(this["x"])||isNaN(this["y"])||isNaN(this["z"])},toString:function(){var t=this["w"],n=this["x"],o=this["y"],e=this["z"],i="";return isNaN(t)||isNaN(n)||isNaN(o)||isNaN(e)?"NaN":(i=c(t,"",i),i+=c(n,"i",i),i+=c(o,"j",i),i+=c(e,"k",i),""===i?"0":i)},real:function(){return this["w"]},imag:function(){return[this["x"],this["y"],this["z"]]},toVector:function(){return[this["w"],this["x"],this["y"],this["z"]]},toMatrix:function(t){var n=this["w"],o=this["x"],e=this["y"],i=this["z"],a=n*n+o*o+e*e+i*i,r=0===a?0:2/a,s=r*n*o,c=r*n*e,l=r*n*i,u=r*o*o,h=r*o*e,d=r*o*i,f=r*e*e,m=r*e*i,_=r*i*i;return t?[[1-(f+_),h-l,d+c],[h+l,1-(u+_),m-s],[d-c,m+s,1-(u+f)]]:[1-(f+_),h-l,d+c,h+l,1-(u+_),m-s,d-c,m+s,1-(u+f)]},toMatrix4:function(t){var n=this["w"],o=this["x"],e=this["y"],i=this["z"],a=n*n+o*o+e*e+i*i,r=0===a?0:2/a,s=r*n*o,c=r*n*e,l=r*n*i,u=r*o*o,h=r*o*e,d=r*o*i,f=r*e*e,m=r*e*i,_=r*i*i;return t?[[1-(f+_),h-l,d+c,0],[h+l,1-(u+_),m-s,0],[d-c,m+s,1-(u+f),0],[0,0,0,1]]:[1-(f+_),h-l,d+c,0,h+l,1-(u+_),m-s,0,d-c,m+s,1-(u+f),0,0,0,0,1]},clone:function(){return new l(this)},rotateVector:function(t){var n=this["w"],o=this["x"],e=this["y"],i=this["z"],a=t[0],r=t[1],s=t[2],c=2*(e*s-i*r),l=2*(i*a-o*s),u=2*(o*r-e*a);return[a+n*c+e*u-i*l,r+n*l+i*c-o*u,s+n*u+o*l-e*c]},slerp:function(t,n,o,e){s(r,t,n,o,e);var i=this["w"],a=this["x"],c=this["y"],u=this["z"],h=r["w"],d=r["x"],f=r["y"],m=r["z"],_=i*h+a*d+c*f+u*m;if(_<0&&(i=-i,a=-a,c=-c,u=-u,_=-_),_>.9995)return function(t){return new l(i+t*(h-i),a+t*(d-a),c+t*(f-c),u+t*(m-u))["normalize"]()};var g=Math.acos(_),w=Math.sin(g);return function(t){var n=g*t,o=Math.sin(n),e=Math.cos(n),r=e-_*o/w,s=o/w;return new l(r*i+s*h,r*a+s*d,r*c+s*f,r*u+s*m)}}},l["ZERO"]=new l(0,0,0,0),l["ONE"]=new l(1,0,0,0),l["I"]=new l(0,1,0,0),l["J"]=new l(0,0,1,0),l["K"]=new l(0,0,0,1),l["EPSILON"]=1e-16,l["fromAxisAngle"]=function(t,n){var o=.5*n,e=t[0],i=t[1],a=t[2],r=Math.sin(o),s=Math.cos(o),c=r/Math.sqrt(e*e+i*i+a*a);return new l(s,e*c,i*c,a*c)},l["fromBetweenVectors"]=function(t,n){var o=t[0],e=t[1],i=t[2],a=n[0],r=n[1],s=n[2],c=o*a+e*r+i*s,u=e*s-i*r,h=i*a-o*s,d=o*r-e*a;return new l(c+Math.sqrt(c*c+u*u+h*h+d*d),u,h,d).normalize()},l["random"]=function(){var t=Math.random(),n=Math.random(),o=Math.random(),e=Math.sqrt(1-t),i=Math.sqrt(t);return new l(i*Math.cos(2*Math.PI*o),e*Math.sin(2*Math.PI*n),e*Math.cos(2*Math.PI*n),i*Math.sin(2*Math.PI*o))},l["fromEuler"]=function(t,n,o,e){var i=.5*t,a=.5*n,r=.5*o,s=Math.cos(i),c=Math.cos(a),u=Math.cos(r),h=Math.sin(i),d=Math.sin(a),f=Math.sin(r);return void 0===e||"ZXY"===e?new l(s*c*u-h*d*f,s*u*d-c*h*f,s*c*f+u*h*d,c*u*h+s*d*f):"XYZ"===e||"RPY"===e?new l(s*c*u-h*d*f,c*u*h+s*d*f,s*u*d-c*h*f,s*c*f+u*h*d):"YXZ"===e?new l(s*c*u+h*d*f,s*u*d+c*h*f,c*u*h-s*d*f,s*c*f-u*h*d):"ZYX"===e||"YPR"===e?new l(s*c*u+h*d*f,s*c*f-u*h*d,s*u*d+c*h*f,c*u*h-s*d*f):"YZX"===e?new l(s*c*u-h*d*f,s*c*f+u*h*d,c*u*h+s*d*f,s*u*d-c*h*f):"XZY"===e?new l(s*c*u+h*d*f,c*u*h-s*d*f,s*c*f-u*h*d,s*u*d+c*h*f):null},e=[],i=function(){return l}.apply(n,e),void 0===i||(t.exports=i)})()},ef3e:function(t,n,o){"use strict";o.r(n);var e,i,a,r,s,c,l,u,h,d,f=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("v-container",{staticClass:"pa-0 ma-0",attrs:{fluid:"",id:"root","fill-height":""}},[o("canvas",{staticClass:"pa-0 ma-0",attrs:{"fill-height":"",id:"map"}}),o("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"temp"}}),o("v-card",{staticClass:"floating px-2",staticStyle:{"background-color":"rgba(20,20,30,1)"},attrs:{width:"170px",flat:"",rounded:"xl"}},[o("v-card-text",[o("v-row",{staticClass:"pa-2"},[o("v-switch",{attrs:{label:"Manual",color:"purple accent-4",disabled:t.control_loading,loading:t.control_loading,dark:""},on:{change:function(n){return t.manual(n,"love")}},model:{value:t.controllers,callback:function(n){t.controllers=n},expression:"controllers"}})],1)],1),t.controllers?o("v-card-text",[o("v-row",{staticClass:"pa-2"},[o("v-btn",{attrs:{text:"",color:"purple accent-4"},on:{click:t.go_home}},[t._v("go home")]),o("v-switch",{attrs:{label:"Angled Goal",color:"purple accent-4",disabled:t.control_loading,loading:t.control_loading,dark:""},on:{change:function(n){return t.wait_for_goal(n,"angled")}},model:{value:t.angled_goal,callback:function(n){t.angled_goal=n},expression:"angled_goal"}}),o("v-switch",{attrs:{label:"Unangled Goal",color:"purple accent-4",disabled:t.control_loading,loading:t.control_loading,dark:""},on:{change:function(n){return t.wait_for_goal(n,"unangled")}},model:{value:t.unangled_goal,callback:function(n){t.unangled_goal=n},expression:"unangled_goal"}}),o("v-btn",{attrs:{text:"",color:"purple accent-4"},on:{click:t.clear_goal}},[t._v("clear")])],1),o("v-row",{staticClass:"pa-2"},[o("v-spacer"),o("v-switch",{attrs:{label:"arrow control",color:"purple accent-4",dark:""},model:{value:t.cmd_vel,callback:function(n){t.cmd_vel=n},expression:"cmd_vel"}}),o("v-spacer")],1),o("v-row",{staticClass:"pa-2"},[o("v-btn",{attrs:{color:"purple accent-4",fab:"",small:"",icon:""},on:{mousedown:function(n){t.continue_zoomin=!0,t.zoomin(n)},mouseup:function(n){t.continue_zoomin=!1},touchstart:function(n){t.continue_zoomin=!0,t.zoomin(n.touches[0])},touchstop:function(n){t.continue_zoomin=!1}}},[o("v-icon",[t._v(" mdi-plus ")])],1),o("v-spacer"),o("v-btn",{attrs:{color:"purple accent-4",fab:"",small:"",icon:""},on:{mousedown:function(n){t.continue_zoomout=!0,t.zoomout(n)},mouseup:function(n){t.continue_zoomout=!1},touchstart:function(n){t.continue_zoomout=!0,t.zoomout(n.touches[0])},touchstop:function(n){t.continue_zoomout=!1}}},[o("v-icon",[t._v(" mdi-minus ")])],1)],1),o("v-row",{staticClass:"pa-2"},[o("v-spacer"),o("v-btn",{attrs:{color:"purple accent-4",fab:"",small:"",icon:""},on:{mousedown:function(n){t.continue_movement_up=!0,t.up(n)},mouseup:function(n){t.continue_movement_up=!1,t.stop()}}},[o("v-icon",[t._v(" mdi-chevron-up ")])],1),o("v-spacer")],1),o("v-row",{staticClass:"pa-2"},[o("v-btn",{attrs:{color:"purple accent-4",fab:"",small:"",icon:""},on:{mousedown:function(n){t.continue_movement_left=!0,t.left(n)},mouseup:function(n){t.continue_movement_left=!1,t.stop()}}},[o("v-icon",[t._v(" mdi-chevron-left ")])],1),o("v-spacer"),o("v-btn",{attrs:{color:"purple accent-4",fab:"",small:"",icon:""},on:{click:function(n){return t.stop()}}},[o("v-icon",[t._v(" mdi-close-circle-outline ")])],1),o("v-spacer"),o("v-btn",{attrs:{color:"purple accent-4",fab:"",small:"",icon:""},on:{mousedown:function(n){t.continue_movement_right=!0,t.right(n)},mouseup:function(n){t.continue_movement_right=!1,t.stop()}}},[o("v-icon",[t._v(" mdi-chevron-right ")])],1)],1),o("v-row",{staticClass:"pa-2"},[o("v-spacer"),o("v-btn",{attrs:{color:"purple accent-4",fab:"",small:"",icon:""},on:{mousedown:function(n){t.continue_movement_down=!0,t.down(n)},mouseup:function(n){t.continue_movement_down=!1,t.stop()}}},[o("v-icon",[t._v(" mdi-chevron-down ")])],1),o("v-spacer")],1)],1):t._e()],1)],1)},m=[],_=o("1da1"),g=(o("96cf"),o("d3b7"),o("cb29"),o("159b"),o("99af"),o("47e3")),w=o("e86b"),v=o.n(w),p=o("6176"),y=o.n(p),b={},x=2.5,M=0,z=0;function P(t){return new Promise((function(n){return setTimeout(n,t)}))}function I(){return E.apply(this,arguments)}function E(){return E=Object(_["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=!0;case 1:if(!n){t.next=6;break}return t.next=4,P(1500).then((function(){o=new v.a.Ros({url:"ws://".concat(g["a"].bridge_address,":9090")}),o.on("connection",(function(){n=!1})),o.on("error",(function(){console.error("error connecting to rosbridge")}))}));case 4:t.next=1;break;case 6:return t.abrupt("return",new Promise((function(t){return t(o)})));case 7:case"end":return t.stop()}}),t)}))),E.apply(this,arguments)}function k(t){var n={};Object.assign(n,t),r.width=n.info.width,r.height=n.info.height,h=a.createImageData(n.info.width,n.info.height);for(var o=n.info.height-1;o>-1;o--)for(var e=n.info.width-1;e>-1;e--){var i,s=e+o*n.info.width,c=n.data[s];i=100===c?0:0===c?255:127;var l=4*(n.info.width-e+o*n.info.width);h.data[l]=i,h.data[++l]=i,h.data[++l]=i,h.data[++l]=255}}function N(){a.moveTo(0,0),a.beginPath(),a.rect(0,0,i.width,i.height),a.fillStyle="rgb(127,127,127)",a.fill(),a.closePath()}function T(t){var n=t.w,o=t.x,e=t.y,i=t.z;return-Math.atan2(2*(n*i+o*e),1-2*(e*e+i*i))}function Y(t,n,o){var e=u.info.width-(t-u.info.origin.position.x)/u.info.resolution,i=(n-u.info.origin.position.y)/u.info.resolution,a=null;return o&&(a=T(o),a<0&&(a=2*Math.PI+a)),{x:e,y:i,theta:a}}function X(){if(d){var t=7,n=Y(d.position.x,d.position.y,d.orientation),o=n.x,e=n.y,i=n.theta+Math.PI,a=i+Math.PI/6,r=i-Math.PI/6;a=a>2*Math.PI?a-2*Math.PI:a<0?a+2*Math.PI:a,r=r>2*Math.PI?r-2*Math.PI:r<0?r+2*Math.PI:r,s.beginPath(),s.moveTo(o,e),s.arc(o,e,t,a,r),s.fillStyle="purple",s.fill(),s.closePath()}}var R={};function C(t,n,o,e){var i=Y(t,n);s.beginPath(),s.moveTo(i.x,i.y),s.arc(i.x,i.y,e,0,2*Math.PI),s.fillStyle=o,s.fill(),s.closePath()}function O(t,n,o,e){var i=Y(t,n),a=20*Math.cos(o)+i.x,r=-20*Math.sin(o)+i.y;s.beginPath(),s.moveTo(i.x,i.y),s.lineTo(a,r),s.strokeStyle=e,s.lineWidth=2,s.stroke(),s.closePath()}function S(){b.poses&&b.poses.length>0&&b.poses.forEach((function(t){C(t.pose.position.x,t.pose.position.y,"blue",1)}))}function Z(){if(R.draw&&l){var t="blue";if(!(R.robot_x-l["pose"]["x"]<.15&&R.robot_y-l["pose"]["y"]<.15))return void console.log("returning");"succeed"==l.state?t="green":"running"==l.state?(S(),t="orange"):"false"==l.state&&(t="red"),l.is_angled?O(R.robot_x,R.robot_y,R.angle,t):C(R.robot_x,R.robot_y,t,2)}}function q(){h&&(s.beginPath(),s.moveTo(0,0),s.putImageData(h,0,0),s.closePath(),X(),Z(),a.drawImage(r,M,z,i.width/x>>0,i.height/x>>0,0,0,i.width,i.height),a.closePath())}function L(){return V.apply(this,arguments)}function V(){return V=Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return N(),q(),t.next=4,P(100);case 4:requestAnimationFrame(L);case 5:case"end":return t.stop()}}),t)}))),V.apply(this,arguments)}var j={data:function(){return{cmd_vel:!1,unangled_goal_pub:null,continue_movement_left:!1,continue_movement_up:!1,continue_movement_right:!1,continue_movement_down:!1,continue_zoomout:!1,continue_zoomin:!1,canvas:null,temp_canvas:null,c:null,temp_c:null,control_loading:!1,go_home_model:!1,controllers:!1,angled_goal:!1,unangled_goal:!1}},methods:{down:function(){this.continue_movement_down&&(this.cmd_vel?this.cmd_vel_down():this.movedown(),setTimeout(this.down,60))},up:function(){this.continue_movement_up&&(this.cmd_vel?this.cmd_vel_up():this.moveup(),setTimeout(this.up,60))},right:function(){this.continue_movement_right&&(this.cmd_vel?this.cmd_vel_right():this.moveright(),setTimeout(this.right,60))},left:function(){this.continue_movement_left&&(this.cmd_vel?this.cmd_vel_left():this.moveleft(),setTimeout(this.left,60))},cmd_vel_right:function(){var t=new v.a.Message({linear:{x:0,y:0,z:0},angular:{x:0,y:0,z:-1}});this.cmd_vel_pub.publish(t)},cmd_vel_left:function(){var t=new v.a.Message({linear:{x:0,y:0,z:0},angular:{x:0,y:0,z:1}});this.cmd_vel_pub.publish(t)},cmd_vel_up:function(){var t=new v.a.Message({linear:{x:.24,y:0,z:0},angular:{x:0,y:0,z:0}});this.cmd_vel_pub.publish(t)},cmd_vel_down:function(){var t=new v.a.Message({linear:{x:-.24,y:0,z:0},angular:{x:0,y:0,z:0}});this.cmd_vel_pub.publish(t)},stop:function(){var t=new v.a.Message({linear:{x:0,y:0,z:0},angular:{x:0,y:0,z:0}});this.cmd_vel_pub.publish(t)},zoomin:function(t){console.log(t),this.continue_zoomin&&(x<2.5?x+=.1:this.continue_zoomin=!1,setTimeout(this.zoomin,60))},zoomout:function(){this.continue_zoomout&&(x>.5?x-=.1:this.continue_zoomout=!1,setTimeout(this.zoomout,60))},moveup:function(){z>-.1*i.height?z-=10:this.continue_movement_up=!1},movedown:function(){z+i.height/x<1.1*i.height?z+=10:this.continue_movement_down=!1},moveright:function(){M+i.width/x<1.1*i.width?M+=10:this.continue_movement_right=!1},moveleft:function(){M>-.1*i.width?M-=10:this.continue_movement_left=!1},wait_for_goal:function(t,n){t?"angled"==n?(this.cancel_goal(),this.wait_for_angled_goal()):(this.cancel_goal(),this.wait_for_unangled_goal()):(console.log(t),this.cancel_goal())},wait_for_angled_goal:function(){this.angled_goal=!0,i.addEventListener("mousedown",this.angled_goal_mousedown_handler),i.addEventListener("mouseup",this.angled_goal_mouseup_handler)},wait_for_unangled_goal:function(){this.unangled_goal=!0,i.addEventListener("mousedown",this.unangled_goal_mousedown_handler),i.addEventListener("mouseup",this.unangled_goal_mouseup_handler)},angled_goal_mousedown_handler:function(t){var n=a.getImageData(t.layerX,t.layerY,1,1).data;n[0],n[1],255==n[2]&&(R={},R.x=t.layerX/x+M,R.layerX=t.layerX,R.y=t.layerY/x+z,R.layerY=t.layerY,R.drop=!0,R.draw=!1)},angled_goal_mouseup_handler:function(t){if(R.drop&&u.info){R.drop=!1,R.abs_angle=Math.atan(Math.abs((t.layerY-R.layerY)/(t.layerX-R.layerX))),R.end_layerX=t.layerX,R.end_layerY=t.layerY,R.end_layerX-R.layerX>0?R.end_layerY-R.layerY>0?R.angle=2*Math.PI-R.abs_angle:R.angle=R.abs_angle:R.end_layerY-R.layerY>0?R.angle=Math.PI+R.abs_angle:R.angle=Math.PI-R.abs_angle,R.robot_angle=Math.PI+R.angle,R.robot_angle>2*Math.PI&&(R.robot_angle=-2*Math.PI+R.robot_angle),R.robot_x=(u.info.width-R.x)*u.info.resolution+u.info.origin.position.x,R.robot_y=R.y*u.info.resolution+u.info.origin.position.y;var n=y.a.fromEuler(0,0,R.robot_angle,"XYZ");this.$store.dispatch("Ros/take_action","navigation/angled_goal/".concat(R.robot_x,"&").concat(R.robot_y,"&",0,"&").concat(n.x,"&").concat(n.y,"&").concat(n.z,"&").concat(n.w)).then((function(t){console.log(t),R.draw=!0}))}},unangled_goal_mousedown_handler:function(t){var n=a.getImageData(t.layerX,t.layerY,1,1).data;n[0],n[1],255==n[2]&&(R={},R.x=t.layerX/x+M,R.layerX=t.layerX,R.y=t.layerY/x+z,R.layerY=t.layerY,R.drop=!0,R.draw=!1)},unangled_goal_mouseup_handler:function(){R.drop&&u.info&&(R.drop=!1,R.robot_x=(u.info.width-R.x)*u.info.resolution+u.info.origin.position.x,R.robot_y=R.y*u.info.resolution+u.info.origin.position.y,this.$store.dispatch("Ros/take_action","navigation/unangled_goal/".concat(R.robot_x,"&").concat(R.robot_y)).then((function(t){console.log(t),R.draw=!0})))},clear_goal:function(){R={}},cancel_goal:function(){console.log("clearing event listener"),this.angled_goal=!1,this.unangled_goal=!1,i.removeEventListener("mousedown",this.angled_goal_mousedown_handler),i.removeEventListener("mouseup",this.angled_goal_mouseup_handler),i.removeEventListener("mousedown",this.unangled_goal_mousedown_handler),i.removeEventListener("mouseup",this.unangled_goal_mouseup_handler)},go_home:function(){var t=this;this.$store.dispatch("Ros/take_action","navigation/go_home").then((function(){t.clear_goal()})).catch((function(){}))},manual:function(t,n){var o=this;console.log(t,n),this.control_loading=!0,this.controllers?(this.controllers=!1,this.$store.dispatch("Ros/take_action","global_actions/switch_mode/mnl").then((function(){o.clear_goal(),setTimeout((function(){o.control_loading=!1}),100)})).catch((function(){setTimeout((function(){o.control_loading=!1}),100)}))):(this.controllers=!0,this.$store.dispatch("Ros/take_action","global_actions/switch_mode/mnlcancel").then((function(){o.clear_goal(),setTimeout((function(){o.control_loading=!1}),100)})).catch((function(){setTimeout((function(){o.control_loading=!1}),100)})))}},watch:{mode:function(t){this.controllers=!1,"mnl"==t&&(this.controllers=!0)}},mounted:function(){"sth"==this.mode?this.go_home_model=!0:"mnl"==this.mode&&(this.controllers=!0),this.canvas=i=document.getElementById("map"),this.temp_canvas=r=document.getElementById("temp"),this.c=a=i.getContext("2d"),this.temp_c=s=r.getContext("2d"),setTimeout((function(){I().then((function(t){var n=new v.a.Topic({ros:t,name:"/current_pose",messageType:"geometry_msgs/Pose"});n.subscribe((function(t){d=t}));var o=new v.a.Topic({ros:t,name:"/slamware_ros_sdk_server_node/global_plan_path",messageType:"nav_msgs/Path"});o.subscribe((function(t){b=t}));var e=new v.a.Topic({ros:t,name:"/slamware_ros_sdk_server_node/map",messageType:"nav_msgs/OccupancyGrid",compression:"png"});e.subscribe((function(t){u=t,k(t)}));var i=new v.a.Topic({ros:t,name:"/navigation/goal_monitor",messageType:"status_msgs/goal_monitor_msg"});i.subscribe((function(t){l=t}))}))}),10),e=document.getElementById("root"),c=document.getElementById("mainbar"),i.width=e.offsetWidth,i.height=window.innerHeight-c.offsetHeight,window.onresize=function(){setTimeout((function(){i.width=e.offsetWidth,i.height=window.innerHeight-c.offsetHeight}),10)},L()},computed:{mode:function(){return this.$store.getters["Ros/mode"]}}},F=j,$=(o("15d0"),o("2877")),B=o("6544"),A=o.n(B),D=o("8336"),H=o("b0af"),G=o("99d9"),J=o("a523"),W=o("132d"),K=o("0fd9"),U=o("2fa4"),Q=o("b73d"),tt=Object($["a"])(F,f,m,!1,null,"3120fc26",null);n["default"]=tt.exports;A()(tt,{VBtn:D["a"],VCard:H["a"],VCardText:G["b"],VContainer:J["a"],VIcon:W["a"],VRow:K["a"],VSpacer:U["a"],VSwitch:Q["a"]})}}]);
//# sourceMappingURL=chunk-78351322.7de19e6c.js.map