(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["confirm_position"],{"09ba":function(t,n,e){},"169a":function(t,n,e){"use strict";var i=e("5530"),o=e("2909"),a=e("ade3"),s=(e("a9e3"),e("498a"),e("caad"),e("2532"),e("7db0"),e("368e"),e("480e")),r=e("4ad4"),c=e("b848"),u=e("75eb"),h=e("e707"),l=e("e4d3"),d=e("21be"),f=e("f2e7"),v=e("a293"),m=e("58df"),p=e("d9bd"),w=e("80d2"),g=Object(m["a"])(r["a"],c["a"],u["a"],h["a"],l["a"],d["a"],f["a"]);n["a"]=g.extend({name:"v-dialog",directives:{ClickOutside:v["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200,previousActiveElement:null}},computed:{classes:function(){var t;return t={},Object(a["a"])(t,"v-dialog ".concat(this.contentClass).trim(),!0),Object(a["a"])(t,"v-dialog--active",this.isActive),Object(a["a"])(t,"v-dialog--persistent",this.persistent),Object(a["a"])(t,"v-dialog--fullscreen",this.fullscreen),Object(a["a"])(t,"v-dialog--scrollable",this.scrollable),Object(a["a"])(t,"v-dialog--animated",this.animate),t},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(t){var n;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(n=this.previousActiveElement)||n.focus())},fullscreen:function(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(p["e"])("full-width",this)},beforeMount:function(){var t=this;this.$nextTick((function(){t.isBooted=t.isActive,t.isActive&&t.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var t=this;this.animate=!1,this.$nextTick((function(){t.animate=!0,window.clearTimeout(t.animateTimeout),t.animateTimeout=window.setTimeout((function(){return t.animate=!1}),150)}))},closeConditional:function(t){var n=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(n)||this.overlay&&n&&!this.overlay.$el.contains(n))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):h["a"].options.methods.hideScroll.call(this)},show:function(){var t=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){t.$nextTick((function(){t.previousActiveElement=document.activeElement,t.$refs.content.focus(),t.bind()}))}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(t){if(t.keyCode===w["y"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var n=this.getActivator();this.$nextTick((function(){return n&&n.focus()}))}this.$emit("keydown",t)},onFocusin:function(t){if(t&&this.retainFocus){var n=t.target;if(n&&![document,this.$refs.content].includes(n)&&!this.$refs.content.contains(n)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(t){return t.contains(n)}))){var e=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),i=Object(o["a"])(e).find((function(t){return!t.hasAttribute("disabled")}));i&&i.focus()}}},genContent:function(){var t=this;return this.showLazyContent((function(){return[t.$createElement(s["a"],{props:{root:!0,light:t.light,dark:t.dark}},[t.$createElement("div",{class:t.contentClasses,attrs:Object(i["a"])({role:"document",tabindex:t.isActive?0:void 0},t.getScopeIdAttrs()),on:{keydown:t.onKeydown},style:{zIndex:t.activeZIndex},ref:"content"},[t.genTransition()])])]}))},genTransition:function(){var t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent:function(){var t={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style=Object(i["a"])(Object(i["a"])({},t.style),{},{maxWidth:"none"===this.maxWidth?void 0:Object(w["g"])(this.maxWidth),width:"auto"===this.width?void 0:Object(w["g"])(this.width)})),this.$createElement("div",t,this.getContentSlot())}},render:function(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},[this.genActivator(),this.genContent()])}})},"368e":function(t,n,e){},6176:function(t,n,e){var i,o;
/**
 * @license Quaternion.js v1.2.1 27/07/2021
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Licensed under the MIT license.
 **/(function(e){"use strict";function a(t,n){var e=Math.abs(t),i=Math.abs(n);return 0===t?Math.log(i):0===n?Math.log(e):e<3e3&&i<3e3?.5*Math.log(t*t+n*n):Math.log(t/Math.cos(Math.atan2(n,t)))}var s={w:1,x:0,y:0,z:0};function r(t,n,e,i,o){if(void 0!==o)return t["w"]=n,t["x"]=e,t["y"]=i,void(t["z"]=o);if("object"===typeof n&&void 0===i){if("w"in n||"x"in n||"y"in n||"z"in n)return t["w"]=n["w"]||0,t["x"]=n["x"]||0,t["y"]=n["y"]||0,void(t["z"]=n["z"]||0);if("re"in n&&"im"in n)return t["w"]=n["re"],t["x"]=n["im"],t["y"]=0,void(t["z"]=0);if(4===n.length)return t["w"]=n[0],t["x"]=n[1],t["y"]=n[2],void(t["z"]=n[3]);if(3===n.length)return t["w"]=0,t["x"]=n[0],t["y"]=n[1],void(t["z"]=n[2]);throw new Error("Invalid object")}if("string"!==typeof n||void 0!==i)void 0===n&&t!==s?(t["w"]=1,t["x"]=t["y"]=t["z"]=0):(t["w"]=n||0,e&&3===e.length?(t["x"]=e[0],t["y"]=e[1],t["z"]=e[2]):(t["x"]=e||0,t["y"]=i||0,t["z"]=o||0));else{var a=n.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),r=1,c=0,u={i:"x",j:"y",k:"z"};if(null===a)throw new Error("Parse error");t["w"]=t["x"]=t["y"]=t["z"]=0;for(var h=0;h<a.length;h++){var l=a[h],d=a[h+1];if(" "===l||"\t"===l||"\n"===l);else if("+"===l)r++;else if("-"===l)c++;else{if(r+c===0)throw new Error("Parse error"+l);var f=u[l];if(void 0!==f)" "===d||isNaN(d)?l="1":(l=d,h++);else{if(isNaN(l))throw new Error("Parser error");f=u[d],void 0!==f&&h++}t[f||"w"]+=parseFloat((c%2?"-":"")+l),r=c=0}}if(r+c>0)throw new Error("Parser error")}}function c(t,n,e){var i="";return 0!==t&&(""!==e?i+=t<0?" - ":" + ":t<0&&(i+="-"),t=Math.abs(t),1===t&&""!==n||(i+=t),i+=n),i}function u(t,n,e,i){if(!(this instanceof u))return new u(t,n,e,i);r(this,t,n,e,i)}u.prototype={w:1,x:0,y:0,z:0,add:function(t,n,e,i){return r(s,t,n,e,i),new u(this["w"]+s["w"],this["x"]+s["x"],this["y"]+s["y"],this["z"]+s["z"])},sub:function(t,n,e,i){return r(s,t,n,e,i),new u(this["w"]-s["w"],this["x"]-s["x"],this["y"]-s["y"],this["z"]-s["z"])},neg:function(){return new u(-this["w"],-this["x"],-this["y"],-this["z"])},norm:function(){var t=this["w"],n=this["x"],e=this["y"],i=this["z"];return Math.sqrt(t*t+n*n+e*e+i*i)},normSq:function(){var t=this["w"],n=this["x"],e=this["y"],i=this["z"];return t*t+n*n+e*e+i*i},normalize:function(){var t=this["w"],n=this["x"],e=this["y"],i=this["z"],o=Math.sqrt(t*t+n*n+e*e+i*i);return o<u["EPSILON"]?u["ZERO"]:(o=1/o,new u(t*o,n*o,e*o,i*o))},mul:function(t,n,e,i){r(s,t,n,e,i);var o=this["w"],a=this["x"],c=this["y"],h=this["z"],l=s["w"],d=s["x"],f=s["y"],v=s["z"];return new u(o*l-a*d-c*f-h*v,o*d+a*l+c*v-h*f,o*f+c*l+h*d-a*v,o*v+h*l+a*f-c*d)},scale:function(t){return new u(this["w"]*t,this["x"]*t,this["y"]*t,this["z"]*t)},dot:function(t,n,e,i){return r(s,t,n,e,i),this["w"]*s["w"]+this["x"]*s["x"]+this["y"]*s["y"]+this["z"]*s["z"]},inverse:function(){var t=this["w"],n=this["x"],e=this["y"],i=this["z"],o=t*t+n*n+e*e+i*i;return 0===o?u["ZERO"]:(o=1/o,new u(t*o,-n*o,-e*o,-i*o))},div:function(t,n,e,i){r(s,t,n,e,i);var o=this["w"],a=this["x"],c=this["y"],h=this["z"],l=s["w"],d=s["x"],f=s["y"],v=s["z"],m=l*l+d*d+f*f+v*v;return 0===m?u["ZERO"]:(m=1/m,new u((o*l+a*d+c*f+h*v)*m,(a*l-o*d-c*v+h*f)*m,(c*l-o*f-h*d+a*v)*m,(h*l-o*v-a*f+c*d)*m))},conjugate:function(){return new u(this["w"],-this["x"],-this["y"],-this["z"])},exp:function(){var t=this["w"],n=this["x"],e=this["y"],i=this["z"],o=Math.sqrt(n*n+e*e+i*i),a=Math.exp(t),s=a/o*Math.sin(o);return 0===o?new u(a,0,0,0):new u(a*Math.cos(o),n*s,e*s,i*s)},log:function(){var t=this["w"],n=this["x"],e=this["y"],i=this["z"];if(0===e&&0===i)return new u(a(t,n),Math.atan2(n,t),0,0);var o=n*n+e*e+i*i+t*t,s=Math.sqrt(n*n+e*e+i*i),r=Math.atan2(s,t)/s;return new u(.5*Math.log(o),n*r,e*r,i*r)},pow:function(t,n,e,i){if(r(s,t,n,e,i),0===s["y"]&&0===s["z"]){if(1===s["w"]&&0===s["x"])return this;if(0===s["w"]&&0===s["x"])return u["ONE"];if(0===this["y"]&&0===this["z"]){var o=this["w"],c=this["x"];if(0===o&&0===c)return u["ZERO"];var h=Math.atan2(c,o),l=a(o,c);if(0===s["x"]){if(0===c&&o>=0)return new u(Math.pow(o,s["w"]),0,0,0);if(0===o)switch(s["w"]%4){case 0:return new u(Math.pow(c,s["w"]),0,0,0);case 1:return new u(0,Math.pow(c,s["w"]),0,0);case 2:return new u(-Math.pow(c,s["w"]),0,0,0);case 3:return new u(0,-Math.pow(c,s["w"]),0,0)}}return o=Math.exp(s["w"]*l-s["x"]*h),c=s["x"]*l+s["w"]*h,new u(o*Math.cos(c),o*Math.sin(c),0,0)}}return this["log"]()["mul"](s)["exp"]()},equals:function(t,n,e,i){r(s,t,n,e,i);var o=u["EPSILON"];return Math.abs(s["w"]-this["w"])<o&&Math.abs(s["x"]-this["x"])<o&&Math.abs(s["y"]-this["y"])<o&&Math.abs(s["z"]-this["z"])<o},isFinite:function(){return isFinite(this["w"])&&isFinite(this["x"])&&isFinite(this["y"])&&isFinite(this["z"])},isNaN:function(){return isNaN(this["w"])||isNaN(this["x"])||isNaN(this["y"])||isNaN(this["z"])},toString:function(){var t=this["w"],n=this["x"],e=this["y"],i=this["z"],o="";return isNaN(t)||isNaN(n)||isNaN(e)||isNaN(i)?"NaN":(o=c(t,"",o),o+=c(n,"i",o),o+=c(e,"j",o),o+=c(i,"k",o),""===o?"0":o)},real:function(){return this["w"]},imag:function(){return[this["x"],this["y"],this["z"]]},toVector:function(){return[this["w"],this["x"],this["y"],this["z"]]},toMatrix:function(t){var n=this["w"],e=this["x"],i=this["y"],o=this["z"],a=n*n+e*e+i*i+o*o,s=0===a?0:2/a,r=s*n*e,c=s*n*i,u=s*n*o,h=s*e*e,l=s*e*i,d=s*e*o,f=s*i*i,v=s*i*o,m=s*o*o;return t?[[1-(f+m),l-u,d+c],[l+u,1-(h+m),v-r],[d-c,v+r,1-(h+f)]]:[1-(f+m),l-u,d+c,l+u,1-(h+m),v-r,d-c,v+r,1-(h+f)]},toMatrix4:function(t){var n=this["w"],e=this["x"],i=this["y"],o=this["z"],a=n*n+e*e+i*i+o*o,s=0===a?0:2/a,r=s*n*e,c=s*n*i,u=s*n*o,h=s*e*e,l=s*e*i,d=s*e*o,f=s*i*i,v=s*i*o,m=s*o*o;return t?[[1-(f+m),l-u,d+c,0],[l+u,1-(h+m),v-r,0],[d-c,v+r,1-(h+f),0],[0,0,0,1]]:[1-(f+m),l-u,d+c,0,l+u,1-(h+m),v-r,0,d-c,v+r,1-(h+f),0,0,0,0,1]},clone:function(){return new u(this)},rotateVector:function(t){var n=this["w"],e=this["x"],i=this["y"],o=this["z"],a=t[0],s=t[1],r=t[2],c=2*(i*r-o*s),u=2*(o*a-e*r),h=2*(e*s-i*a);return[a+n*c+i*h-o*u,s+n*u+o*c-e*h,r+n*h+e*u-i*c]},slerp:function(t,n,e,i){r(s,t,n,e,i);var o=this["w"],a=this["x"],c=this["y"],h=this["z"],l=s["w"],d=s["x"],f=s["y"],v=s["z"],m=o*l+a*d+c*f+h*v;if(m<0&&(o=-o,a=-a,c=-c,h=-h,m=-m),m>.9995)return function(t){return new u(o+t*(l-o),a+t*(d-a),c+t*(f-c),h+t*(v-h))["normalize"]()};var p=Math.acos(m),w=Math.sin(p);return function(t){var n=p*t,e=Math.sin(n),i=Math.cos(n),s=i-m*e/w,r=e/w;return new u(s*o+r*l,s*a+r*d,s*c+r*f,s*h+r*v)}}},u["ZERO"]=new u(0,0,0,0),u["ONE"]=new u(1,0,0,0),u["I"]=new u(0,1,0,0),u["J"]=new u(0,0,1,0),u["K"]=new u(0,0,0,1),u["EPSILON"]=1e-16,u["fromAxisAngle"]=function(t,n){var e=.5*n,i=t[0],o=t[1],a=t[2],s=Math.sin(e),r=Math.cos(e),c=s/Math.sqrt(i*i+o*o+a*a);return new u(r,i*c,o*c,a*c)},u["fromBetweenVectors"]=function(t,n){var e=t[0],i=t[1],o=t[2],a=n[0],s=n[1],r=n[2],c=e*a+i*s+o*r,h=i*r-o*s,l=o*a-e*r,d=e*s-i*a;return new u(c+Math.sqrt(c*c+h*h+l*l+d*d),h,l,d).normalize()},u["random"]=function(){var t=Math.random(),n=Math.random(),e=Math.random(),i=Math.sqrt(1-t),o=Math.sqrt(t);return new u(o*Math.cos(2*Math.PI*e),i*Math.sin(2*Math.PI*n),i*Math.cos(2*Math.PI*n),o*Math.sin(2*Math.PI*e))},u["fromEuler"]=function(t,n,e,i){var o=.5*t,a=.5*n,s=.5*e,r=Math.cos(o),c=Math.cos(a),h=Math.cos(s),l=Math.sin(o),d=Math.sin(a),f=Math.sin(s);return void 0===i||"ZXY"===i?new u(r*c*h-l*d*f,r*h*d-c*l*f,r*c*f+h*l*d,c*h*l+r*d*f):"XYZ"===i||"RPY"===i?new u(r*c*h-l*d*f,c*h*l+r*d*f,r*h*d-c*l*f,r*c*f+h*l*d):"YXZ"===i?new u(r*c*h+l*d*f,r*h*d+c*l*f,c*h*l-r*d*f,r*c*f-h*l*d):"ZYX"===i||"YPR"===i?new u(r*c*h+l*d*f,r*c*f-h*l*d,r*h*d+c*l*f,c*h*l-r*d*f):"YZX"===i?new u(r*c*h-l*d*f,r*c*f+h*l*d,c*h*l+r*d*f,r*h*d-c*l*f):"XZY"===i?new u(r*c*h+l*d*f,c*h*l-r*d*f,r*c*f-h*l*d,r*h*d+c*l*f):null},i=[],o=function(){return u}.apply(n,i),void 0===o||(t.exports=o)})()},b8fd:function(t,n,e){"use strict";e.r(n);var i,o,a,s,r,c,u,h,l,d=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-container",{staticClass:"pa-0 ma-0",attrs:{fluid:"",id:"root","fill-height":""}},[e("canvas",{staticClass:"pa-0 ma-0",attrs:{"fill-height":"",id:"map"}}),e("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"temp"}}),e("v-card",{staticClass:" px-2",staticStyle:{"background-color":"rgba(20,20,30,1)",width:"150px",right:"10px",bottom:"27%",position:"absolute"},attrs:{flat:"",rounded:"xl",dark:""}},[e("v-card-text",[e("v-row",{staticClass:"pa-2"},[e("v-btn",{attrs:{color:"purple accent-4",fab:"",small:"",icon:""},on:{mousedown:function(n){t.continue_zoomin=!0,t.zoomin(n)},mouseup:function(n){t.continue_zoomin=!1}}},[e("v-icon",[t._v(" mdi-plus ")])],1),e("v-spacer"),e("v-btn",{attrs:{color:"purple accent-4",fab:"",small:"",icon:""},on:{mousedown:function(n){t.continue_zoomout=!0,t.zoomout(n)},mouseup:function(n){t.continue_zoomout=!1}}},[e("v-icon",[t._v(" mdi-minus ")])],1)],1),e("v-row",{staticClass:"pa-2"},[e("v-spacer"),e("v-btn",{attrs:{color:"purple accent-4",fab:"",small:"",icon:""},on:{mousedown:function(n){t.continue_movement_up=!0,t.up(n)},mouseup:function(n){t.continue_movement_up=!1}}},[e("v-icon",[t._v(" mdi-chevron-up ")])],1),e("v-spacer")],1),e("v-row",{staticClass:"pa-2"},[e("v-btn",{attrs:{color:"purple accent-4",fab:"",small:"",icon:""},on:{mousedown:function(n){t.continue_movement_left=!0,t.left(n)},mouseup:function(n){t.continue_movement_left=!1}}},[e("v-icon",[t._v(" mdi-chevron-left ")])],1),e("v-spacer"),e("v-btn",{attrs:{color:"purple accent-4",fab:"",small:"",icon:""},on:{mousedown:function(n){t.continue_movement_right=!0,t.right(n)},mouseup:function(n){t.continue_movement_right=!1}}},[e("v-icon",[t._v(" mdi-chevron-right ")])],1)],1),e("v-row",{staticClass:"pa-2"},[e("v-spacer"),e("v-btn",{attrs:{color:"purple accent-4",fab:"",small:"",icon:""},on:{mousedown:function(n){t.continue_movement_down=!0,t.down(n)},mouseup:function(n){t.continue_movement_down=!1}}},[e("v-icon",[t._v(" mdi-chevron-down ")])],1),e("v-spacer")],1)],1)],1),e("v-card",{staticClass:"floating px-2",staticStyle:{"background-color":"rgba(20,20,30,1)"},attrs:{flat:"",rounded:"xl",dark:""}},[e("v-divider"),e("v-card-title",{attrs:{dark:t.isDark}},[t._v(" Confirm Position ")]),e("v-card-text",{attrs:{dark:!0}},[t._v(" Is the robot placed properly? ")]),e("v-card-actions",[e("v-dialog",{attrs:{dark:t.isDark,width:"500"},scopedSlots:t._u([{key:"activator",fn:function(n){var i=n.on,o=n.attrs;return[e("v-btn",t._g(t._b({attrs:{color:"purple white--text",dark:t.isDark,text:"",loading:t.continue_loading,disabled:t.continue_loading}},"v-btn",o,!1),i),[t._v(" Cancel ")])]}}]),model:{value:t.cancel_dialog,callback:function(n){t.cancel_dialog=n},expression:"cancel_dialog"}},[e("v-card",{staticClass:"pa-4"},[e("v-card-title",{},[t._v(" Cancel Salmming ")]),e("v-card-text",[t._v(" If you cancel the slamming procedure all the work has been done will be ignored. "),e("br"),t._v(" Cancel? ")]),e("v-divider"),e("v-card-actions",[e("v-btn",{attrs:{color:"purple",text:""},on:{click:function(n){t.cancel(),t.cancel_dialog=!1}}},[t._v(" Yes ")]),e("v-spacer"),e("v-btn",{attrs:{color:"purple",text:""},on:{click:function(n){t.cancel_dialog=!1}}},[t._v(" No ")])],1)],1)],1),e("v-spacer"),e("v-btn",{attrs:{color:"purple",text:"",loading:t.continue_loading,disabled:t.continue_loading||!t.update_flag},on:{click:function(n){return t.update_position()}}},[t._v(" Update Position ")]),e("v-spacer"),e("v-btn",{attrs:{color:"purple",text:"",loading:t.continue_loading,disabled:t.continue_loading},on:{click:function(n){return t.confirm()}}},[t._v(" Confirm ")])],1)],1)],1)},f=[],v=e("1da1"),m=(e("96cf"),e("d3b7"),e("cb29"),e("99af"),e("47e3")),p=e("e86b"),w=e.n(p),g=e("6176"),_=e.n(g),y=1,b=0,x=0;function M(t){return new Promise((function(n){return setTimeout(n,t)}))}function z(){return k.apply(this,arguments)}function k(){return k=Object(v["a"])(regeneratorRuntime.mark((function t(){var n,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=!0;case 1:if(!n){t.next=6;break}return t.next=4,M(1500).then((function(){e=new w.a.Ros({url:"ws://".concat(m["a"].bridge_address,":9090")}),e.on("connection",(function(){n=!1})),e.on("error",(function(){console.error("error connecting to rosbridge")}))}));case 4:t.next=1;break;case 6:return t.abrupt("return",new Promise((function(t){return t(e)})));case 7:case"end":return t.stop()}}),t)}))),k.apply(this,arguments)}function I(t){var n={};Object.assign(n,t),s.width=n.info.width,s.height=n.info.height,h=a.createImageData(n.info.width,n.info.height);for(var e=n.info.height-1;e>-1;e--)for(var i=n.info.width-1;i>-1;i--){var o,r=i+e*n.info.width,c=n.data[r];o=100===c?0:0===c?255:127;var u=4*(n.info.width-i+e*n.info.width);h.data[u]=o,h.data[++u]=o,h.data[++u]=o,h.data[++u]=255}}function C(){a.moveTo(0,0),a.beginPath(),a.rect(0,0,o.width,o.height),a.fillStyle="rgb(127,127,127)",a.fill(),a.closePath()}function P(t){var n=t.w,e=t.x,i=t.y,o=t.z;return-Math.atan2(2*(n*o+e*i),1-2*(i*i+o*o))}function O(t,n,e){var i=u.info.width-(t-u.info.origin.position.x)/u.info.resolution,o=(n-u.info.origin.position.y)/u.info.resolution,a=null;return e&&(a=P(e),a<0&&(a=2*Math.PI+a)),{x:i,y:o,theta:a}}function E(){if(l){var t=7,n=O(l.position.x,l.position.y,l.orientation),e=n.x,i=n.y,o=n.theta+Math.PI,a=o+Math.PI/6,s=o-Math.PI/6;a=a>2*Math.PI?a-2*Math.PI:a<0?a+2*Math.PI:a,s=s>2*Math.PI?s-2*Math.PI:s<0?s+2*Math.PI:s,r.beginPath(),r.moveTo(e,i),r.arc(e,i,t,a,s),r.fillStyle="purple",r.fill(),r.closePath()}}var T={};function N(t,n,e,i){var o=O(t,n),a=20*Math.cos(e)+o.x,s=-20*Math.sin(e)+o.y;r.beginPath(),r.moveTo(o.x,o.y),r.lineTo(a,s),r.strokeStyle=i,r.lineWidth=2,r.stroke(),r.closePath()}function $(){T.draw&&N(T.robot_x,T.robot_y,T.angle,"green")}function A(){h&&(r.beginPath(),r.moveTo(0,0),r.putImageData(h,0,0),r.closePath(),E(),$(),a.drawImage(s,b,x,o.width/y>>0,o.height/y>>0,0,0,o.width,o.height),a.closePath())}function S(){return j.apply(this,arguments)}function j(){return j=Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return C(),A(),t.next=4,M(100);case 4:requestAnimationFrame(S);case 5:case"end":return t.stop()}}),t)}))),j.apply(this,arguments)}var Y={data:function(){return{cmd_vel:!1,cmd_vel_pub:null,continue_movement_left:!1,continue_movement_up:!1,continue_movement_right:!1,continue_movement_down:!1,continue_zoomout:!1,continue_zoomin:!1,canvas:null,temp_canvas:null,c:null,temp_c:null,cancel_dialog:!1,continue_loading:!1,update_flag:!1}},methods:{down:function(){this.continue_movement_down&&(this.movedown(),setTimeout(this.down,60))},up:function(){this.continue_movement_up&&(this.moveup(),setTimeout(this.up,60))},right:function(){this.continue_movement_right&&(this.moveright(),setTimeout(this.right,60))},left:function(){this.continue_movement_left&&(this.moveleft(),setTimeout(this.left,60))},zoomin:function(){this.continue_zoomin&&(y<2.5?y+=.1:this.continue_zoomin=!1,setTimeout(this.zoomin,60))},zoomout:function(){this.continue_zoomout&&(y>.5?y-=.1:this.continue_zoomout=!1,setTimeout(this.zoomout,60))},moveup:function(){x>-.1*o.height?x-=10:this.continue_movement_up=!1},movedown:function(){x+o.height/y<1.1*o.height?x+=10:this.continue_movement_down=!1},moveright:function(){b+o.width/y<1.1*o.width?b+=10:this.continue_movement_right=!1},moveleft:function(){b>-.1*o.width?b-=10:this.continue_movement_left=!1},angled_goal_mousedown_handler:function(t){var n=a.getImageData(t.layerX,t.layerY,1,1).data;n[0],n[1],255==n[2]&&(this.update_flag=!1,T={},T.x=t.layerX/y+b,T.layerX=t.layerX,T.y=t.layerY/y+x,T.layerY=t.layerY,T.drop=!0,T.draw=!1)},angled_goal_mouseup_handler:function(t){if(T.drop&&u.info){T.drop=!1,T.abs_angle=Math.atan(Math.abs((t.layerY-T.layerY)/(t.layerX-T.layerX))),T.end_layerX=t.layerX,T.end_layerY=t.layerY,T.end_layerX-T.layerX>0?T.end_layerY-T.layerY>0?T.angle=2*Math.PI-T.abs_angle:T.angle=T.abs_angle:T.end_layerY-T.layerY>0?T.angle=Math.PI+T.abs_angle:T.angle=Math.PI-T.abs_angle,T.robot_angle=Math.PI+T.angle,T.robot_angle>2*Math.PI&&(T.robot_angle=-2*Math.PI+T.robot_angle),T.robot_x=(u.info.width-T.x)*u.info.resolution+u.info.origin.position.x,T.robot_y=T.y*u.info.resolution+u.info.origin.position.y;var n=_.a.fromEuler(0,0,T.robot_angle,"XYZ");T.pose={},T.pose.position={},T.pose.position.x=T.robot_x,T.pose.position.y=T.robot_y,T.pose.position.z=0,T.pose.orientation={},T.pose.orientation.x=n.x,T.pose.orientation.y=n.y,T.pose.orientation.z=n.z,T.pose.orientation.w=n.w,T.angle&&(T.draw=!0,T.draw&&(this.update_flag=!0)),console.log(T)}},cancel:function(){var t=this;this.continue_loading=!0,console.log("Where There is Will there is Way"),this.$store.dispatch("Ros/take_action","startup/remote_interface",{root:!0}).then((function(n){"confirm_position"==n?(console.log(n),t.$store.dispatch("Ros/take_action","startup/perform/slam/confirm/end",{root:!0}).then((function(n){console.log(n),t.$router.push({name:"startup_loading"})}))):t.continue_loading=!1}))},update_position:function(){var t=this;this.continue_loading=!0,T.draw?this.$store.dispatch("Ros/take_action","startup/remote_interface",{root:!0}).then((function(n){"confirm_position"==n?(console.log(n),t.$store.dispatch("Ros/take_action","navigation/update_pose/".concat(T.pose.position.x,"&").concat(T.pose.position.y,"&").concat(T.pose.position.z,"&").concat(T.pose.orientation.x,"&").concat(T.pose.orientation.y,"&").concat(T.pose.orientation.z,"&").concat(T.pose.orientation.w),{root:!0}).then((function(n){console.log(n),t.continue_loading=!1}))):t.continue_loading=!1})):console.log("error man")},confirm:function(){var t=this;this.continue_loading=!0,this.$store.dispatch("Ros/take_action","startup/remote_interface",{root:!0}).then((function(n){"confirm_position"==n?(console.log(n),t.$store.dispatch("Ros/take_action","startup/perform/chose_existing_map/confirm/yes",{root:!0}).then((function(t){console.log(t)}))):t.continue_loading=!1}))}},mounted:function(){this.canvas=o=document.getElementById("map"),this.temp_canvas=s=document.getElementById("temp"),i=document.getElementById("root"),c=document.getElementById("mainbar"),o.width=i.offsetWidth,o.height=window.innerHeight-c.offsetHeight,this.c=a=o.getContext("2d"),this.temp_c=r=s.getContext("2d"),setTimeout((function(){z().then((function(t){var n=new w.a.Topic({ros:t,name:"/current_pose",messageType:"geometry_msgs/Pose"});n.subscribe((function(t){l=t}));var e=new w.a.Topic({ros:t,name:"/slamware_ros_sdk_server_node/map",messageType:"nav_msgs/OccupancyGrid",compression:"png"});e.subscribe((function(t){u=t,I(t)}))}))}),10),window.onresize=function(){setTimeout((function(){o.width=i.offsetWidth,o.height=window.innerHeight-c.offsetHeight}),10)},S(),o.addEventListener("mousedown",this.angled_goal_mousedown_handler),o.addEventListener("mouseup",this.angled_goal_mouseup_handler)},destroyed:function(){o.removeEventListener("mousedown",this.angled_goal_mousedown_handler),o.removeEventListener("mouseup",this.angled_goal_mouseup_handler)},computed:{nopoint:function(){return!T.draw},isDark:function(){return this.$store.getters["Theme/isDark"]}}},R=Y,B=(e("bd7d"),e("2877")),Z=e("6544"),X=e.n(Z),D=e("8336"),V=e("b0af"),q=e("99d9"),F=e("a523"),L=e("169a"),W=e("ce7e"),H=e("132d"),J=e("0fd9"),K=e("2fa4"),G=Object(B["a"])(R,d,f,!1,null,"5804fcda",null);n["default"]=G.exports;X()(G,{VBtn:D["a"],VCard:V["a"],VCardActions:q["a"],VCardText:q["b"],VCardTitle:q["c"],VContainer:F["a"],VDialog:L["a"],VDivider:W["a"],VIcon:H["a"],VRow:J["a"],VSpacer:K["a"]})},bd7d:function(t,n,e){"use strict";e("09ba")}}]);
//# sourceMappingURL=confirm_position.39d40575.js.map