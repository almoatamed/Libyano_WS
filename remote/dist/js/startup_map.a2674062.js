(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["startup_map"],{6176:function(t,n,e){var o,a;
/**
 * @license Quaternion.js v1.2.1 27/07/2021
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Licensed under the MIT license.
 **/(function(e){"use strict";function i(t,n){var e=Math.abs(t),o=Math.abs(n);return 0===t?Math.log(o):0===n?Math.log(e):e<3e3&&o<3e3?.5*Math.log(t*t+n*n):Math.log(t/Math.cos(Math.atan2(n,t)))}var r={w:1,x:0,y:0,z:0};function s(t,n,e,o,a){if(void 0!==a)return t["w"]=n,t["x"]=e,t["y"]=o,void(t["z"]=a);if("object"===typeof n&&void 0===o){if("w"in n||"x"in n||"y"in n||"z"in n)return t["w"]=n["w"]||0,t["x"]=n["x"]||0,t["y"]=n["y"]||0,void(t["z"]=n["z"]||0);if("re"in n&&"im"in n)return t["w"]=n["re"],t["x"]=n["im"],t["y"]=0,void(t["z"]=0);if(4===n.length)return t["w"]=n[0],t["x"]=n[1],t["y"]=n[2],void(t["z"]=n[3]);if(3===n.length)return t["w"]=0,t["x"]=n[0],t["y"]=n[1],void(t["z"]=n[2]);throw new Error("Invalid object")}if("string"!==typeof n||void 0!==o)void 0===n&&t!==r?(t["w"]=1,t["x"]=t["y"]=t["z"]=0):(t["w"]=n||0,e&&3===e.length?(t["x"]=e[0],t["y"]=e[1],t["z"]=e[2]):(t["x"]=e||0,t["y"]=o||0,t["z"]=a||0));else{var i=n.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),s=1,l=0,u={i:"x",j:"y",k:"z"};if(null===i)throw new Error("Parse error");t["w"]=t["x"]=t["y"]=t["z"]=0;for(var c=0;c<i.length;c++){var h=i[c],_=i[c+1];if(" "===h||"\t"===h||"\n"===h);else if("+"===h)s++;else if("-"===h)l++;else{if(s+l===0)throw new Error("Parse error"+h);var f=u[h];if(void 0!==f)" "===_||isNaN(_)?h="1":(h=_,c++);else{if(isNaN(h))throw new Error("Parser error");f=u[_],void 0!==f&&c++}t[f||"w"]+=parseFloat((l%2?"-":"")+h),s=l=0}}if(s+l>0)throw new Error("Parser error")}}function l(t,n,e){var o="";return 0!==t&&(""!==e?o+=t<0?" - ":" + ":t<0&&(o+="-"),t=Math.abs(t),1===t&&""!==n||(o+=t),o+=n),o}function u(t,n,e,o){if(!(this instanceof u))return new u(t,n,e,o);s(this,t,n,e,o)}u.prototype={w:1,x:0,y:0,z:0,add:function(t,n,e,o){return s(r,t,n,e,o),new u(this["w"]+r["w"],this["x"]+r["x"],this["y"]+r["y"],this["z"]+r["z"])},sub:function(t,n,e,o){return s(r,t,n,e,o),new u(this["w"]-r["w"],this["x"]-r["x"],this["y"]-r["y"],this["z"]-r["z"])},neg:function(){return new u(-this["w"],-this["x"],-this["y"],-this["z"])},norm:function(){var t=this["w"],n=this["x"],e=this["y"],o=this["z"];return Math.sqrt(t*t+n*n+e*e+o*o)},normSq:function(){var t=this["w"],n=this["x"],e=this["y"],o=this["z"];return t*t+n*n+e*e+o*o},normalize:function(){var t=this["w"],n=this["x"],e=this["y"],o=this["z"],a=Math.sqrt(t*t+n*n+e*e+o*o);return a<u["EPSILON"]?u["ZERO"]:(a=1/a,new u(t*a,n*a,e*a,o*a))},mul:function(t,n,e,o){s(r,t,n,e,o);var a=this["w"],i=this["x"],l=this["y"],c=this["z"],h=r["w"],_=r["x"],f=r["y"],m=r["z"];return new u(a*h-i*_-l*f-c*m,a*_+i*h+l*m-c*f,a*f+l*h+c*_-i*m,a*m+c*h+i*f-l*_)},scale:function(t){return new u(this["w"]*t,this["x"]*t,this["y"]*t,this["z"]*t)},dot:function(t,n,e,o){return s(r,t,n,e,o),this["w"]*r["w"]+this["x"]*r["x"]+this["y"]*r["y"]+this["z"]*r["z"]},inverse:function(){var t=this["w"],n=this["x"],e=this["y"],o=this["z"],a=t*t+n*n+e*e+o*o;return 0===a?u["ZERO"]:(a=1/a,new u(t*a,-n*a,-e*a,-o*a))},div:function(t,n,e,o){s(r,t,n,e,o);var a=this["w"],i=this["x"],l=this["y"],c=this["z"],h=r["w"],_=r["x"],f=r["y"],m=r["z"],d=h*h+_*_+f*f+m*m;return 0===d?u["ZERO"]:(d=1/d,new u((a*h+i*_+l*f+c*m)*d,(i*h-a*_-l*m+c*f)*d,(l*h-a*f-c*_+i*m)*d,(c*h-a*m-i*f+l*_)*d))},conjugate:function(){return new u(this["w"],-this["x"],-this["y"],-this["z"])},exp:function(){var t=this["w"],n=this["x"],e=this["y"],o=this["z"],a=Math.sqrt(n*n+e*e+o*o),i=Math.exp(t),r=i/a*Math.sin(a);return 0===a?new u(i,0,0,0):new u(i*Math.cos(a),n*r,e*r,o*r)},log:function(){var t=this["w"],n=this["x"],e=this["y"],o=this["z"];if(0===e&&0===o)return new u(i(t,n),Math.atan2(n,t),0,0);var a=n*n+e*e+o*o+t*t,r=Math.sqrt(n*n+e*e+o*o),s=Math.atan2(r,t)/r;return new u(.5*Math.log(a),n*s,e*s,o*s)},pow:function(t,n,e,o){if(s(r,t,n,e,o),0===r["y"]&&0===r["z"]){if(1===r["w"]&&0===r["x"])return this;if(0===r["w"]&&0===r["x"])return u["ONE"];if(0===this["y"]&&0===this["z"]){var a=this["w"],l=this["x"];if(0===a&&0===l)return u["ZERO"];var c=Math.atan2(l,a),h=i(a,l);if(0===r["x"]){if(0===l&&a>=0)return new u(Math.pow(a,r["w"]),0,0,0);if(0===a)switch(r["w"]%4){case 0:return new u(Math.pow(l,r["w"]),0,0,0);case 1:return new u(0,Math.pow(l,r["w"]),0,0);case 2:return new u(-Math.pow(l,r["w"]),0,0,0);case 3:return new u(0,-Math.pow(l,r["w"]),0,0)}}return a=Math.exp(r["w"]*h-r["x"]*c),l=r["x"]*h+r["w"]*c,new u(a*Math.cos(l),a*Math.sin(l),0,0)}}return this["log"]()["mul"](r)["exp"]()},equals:function(t,n,e,o){s(r,t,n,e,o);var a=u["EPSILON"];return Math.abs(r["w"]-this["w"])<a&&Math.abs(r["x"]-this["x"])<a&&Math.abs(r["y"]-this["y"])<a&&Math.abs(r["z"]-this["z"])<a},isFinite:function(){return isFinite(this["w"])&&isFinite(this["x"])&&isFinite(this["y"])&&isFinite(this["z"])},isNaN:function(){return isNaN(this["w"])||isNaN(this["x"])||isNaN(this["y"])||isNaN(this["z"])},toString:function(){var t=this["w"],n=this["x"],e=this["y"],o=this["z"],a="";return isNaN(t)||isNaN(n)||isNaN(e)||isNaN(o)?"NaN":(a=l(t,"",a),a+=l(n,"i",a),a+=l(e,"j",a),a+=l(o,"k",a),""===a?"0":a)},real:function(){return this["w"]},imag:function(){return[this["x"],this["y"],this["z"]]},toVector:function(){return[this["w"],this["x"],this["y"],this["z"]]},toMatrix:function(t){var n=this["w"],e=this["x"],o=this["y"],a=this["z"],i=n*n+e*e+o*o+a*a,r=0===i?0:2/i,s=r*n*e,l=r*n*o,u=r*n*a,c=r*e*e,h=r*e*o,_=r*e*a,f=r*o*o,m=r*o*a,d=r*a*a;return t?[[1-(f+d),h-u,_+l],[h+u,1-(c+d),m-s],[_-l,m+s,1-(c+f)]]:[1-(f+d),h-u,_+l,h+u,1-(c+d),m-s,_-l,m+s,1-(c+f)]},toMatrix4:function(t){var n=this["w"],e=this["x"],o=this["y"],a=this["z"],i=n*n+e*e+o*o+a*a,r=0===i?0:2/i,s=r*n*e,l=r*n*o,u=r*n*a,c=r*e*e,h=r*e*o,_=r*e*a,f=r*o*o,m=r*o*a,d=r*a*a;return t?[[1-(f+d),h-u,_+l,0],[h+u,1-(c+d),m-s,0],[_-l,m+s,1-(c+f),0],[0,0,0,1]]:[1-(f+d),h-u,_+l,0,h+u,1-(c+d),m-s,0,_-l,m+s,1-(c+f),0,0,0,0,1]},clone:function(){return new u(this)},rotateVector:function(t){var n=this["w"],e=this["x"],o=this["y"],a=this["z"],i=t[0],r=t[1],s=t[2],l=2*(o*s-a*r),u=2*(a*i-e*s),c=2*(e*r-o*i);return[i+n*l+o*c-a*u,r+n*u+a*l-e*c,s+n*c+e*u-o*l]},slerp:function(t,n,e,o){s(r,t,n,e,o);var a=this["w"],i=this["x"],l=this["y"],c=this["z"],h=r["w"],_=r["x"],f=r["y"],m=r["z"],d=a*h+i*_+l*f+c*m;if(d<0&&(a=-a,i=-i,l=-l,c=-c,d=-d),d>.9995)return function(t){return new u(a+t*(h-a),i+t*(_-i),l+t*(f-l),c+t*(m-c))["normalize"]()};var g=Math.acos(d),v=Math.sin(g);return function(t){var n=g*t,e=Math.sin(n),o=Math.cos(n),r=o-d*e/v,s=e/v;return new u(r*a+s*h,r*i+s*_,r*l+s*f,r*c+s*m)}}},u["ZERO"]=new u(0,0,0,0),u["ONE"]=new u(1,0,0,0),u["I"]=new u(0,1,0,0),u["J"]=new u(0,0,1,0),u["K"]=new u(0,0,0,1),u["EPSILON"]=1e-16,u["fromAxisAngle"]=function(t,n){var e=.5*n,o=t[0],a=t[1],i=t[2],r=Math.sin(e),s=Math.cos(e),l=r/Math.sqrt(o*o+a*a+i*i);return new u(s,o*l,a*l,i*l)},u["fromBetweenVectors"]=function(t,n){var e=t[0],o=t[1],a=t[2],i=n[0],r=n[1],s=n[2],l=e*i+o*r+a*s,c=o*s-a*r,h=a*i-e*s,_=e*r-o*i;return new u(l+Math.sqrt(l*l+c*c+h*h+_*_),c,h,_).normalize()},u["random"]=function(){var t=Math.random(),n=Math.random(),e=Math.random(),o=Math.sqrt(1-t),a=Math.sqrt(t);return new u(a*Math.cos(2*Math.PI*e),o*Math.sin(2*Math.PI*n),o*Math.cos(2*Math.PI*n),a*Math.sin(2*Math.PI*e))},u["fromEuler"]=function(t,n,e,o){var a=.5*t,i=.5*n,r=.5*e,s=Math.cos(a),l=Math.cos(i),c=Math.cos(r),h=Math.sin(a),_=Math.sin(i),f=Math.sin(r);return void 0===o||"ZXY"===o?new u(s*l*c-h*_*f,s*c*_-l*h*f,s*l*f+c*h*_,l*c*h+s*_*f):"XYZ"===o||"RPY"===o?new u(s*l*c-h*_*f,l*c*h+s*_*f,s*c*_-l*h*f,s*l*f+c*h*_):"YXZ"===o?new u(s*l*c+h*_*f,s*c*_+l*h*f,l*c*h-s*_*f,s*l*f-c*h*_):"ZYX"===o||"YPR"===o?new u(s*l*c+h*_*f,s*l*f-c*h*_,s*c*_+l*h*f,l*c*h-s*_*f):"YZX"===o?new u(s*l*c-h*_*f,s*l*f+c*h*_,l*c*h+s*_*f,s*c*_-l*h*f):"XZY"===o?new u(s*l*c+h*_*f,l*c*h-s*_*f,s*l*f-c*h*_,s*c*_+l*h*f):null},o=[],a=function(){return u}.apply(n,o),void 0===a||(t.exports=a)})()},aa6b:function(t,n,e){"use strict";e.r(n);var o,a,i,r,s,l,u,c,h,_,f=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-container",{staticClass:"pa-0 ma-0",attrs:{fluid:"",id:"root","fill-height":""}},[e("canvas",{staticClass:"pa-0 ma-0",attrs:{"fill-height":"",id:"map"}}),e("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"temp"}}),t.controllers?e("v-card",{staticClass:"floating px-2",staticStyle:{"background-color":"rgba(20,20,30,1)"},attrs:{width:"170px",flat:"",rounded:"xl"}},[e("v-card-text",[t.arrow_goal_flag||t.point_goal_flag?e("v-row",{staticClass:"pa-2"},[t.arrow_goal_flag?e("v-btn",{attrs:{text:"",color:"purple accent-4",disabled:t.goal_flag},on:{click:t.wait_for_angled_goal}},[t._v("Arrow Goal")]):t._e(),t.point_goal_flag?e("v-btn",{attrs:{text:"",color:"purple accent-4",disabled:t.goal_flag},on:{click:t.wait_for_unangled_goal}},[t._v("Point Goal")]):t._e(),e("v-btn",{attrs:{text:"",color:"purple accent-4",disabled:!t.goal_flag},on:{click:t.cancel_goal}},[t._v("Cancel")]),e("v-btn",{attrs:{text:"",color:"purple accent-4",disabled:t.goal_flag},on:{click:t.clear_goal}},[t._v("clear")])],1):t._e(),e("v-row",{staticClass:"pa-2"},[e("v-spacer"),t.cmd_vel_flag?e("v-switch",{attrs:{label:"arrow control",color:"purple accent-4",dark:""},model:{value:t.cmd_vel,callback:function(n){t.cmd_vel=n},expression:"cmd_vel"}}):t._e(),e("v-spacer")],1),e("v-row",{staticClass:"pa-2"},[e("v-btn",{attrs:{color:"purple accent-4",fab:"",small:"",icon:""},on:{mousedown:function(n){t.continue_zoomin=!0,t.zoomin(n)},mouseup:function(n){t.continue_zoomin=!1}}},[e("v-icon",[t._v(" mdi-plus ")])],1),e("v-spacer"),e("v-btn",{attrs:{color:"purple accent-4",fab:"",small:"",icon:""},on:{mousedown:function(n){t.continue_zoomout=!0,t.zoomout(n)},mouseup:function(n){t.continue_zoomout=!1}}},[e("v-icon",[t._v(" mdi-minus ")])],1)],1),e("v-row",{staticClass:"pa-2"},[e("v-spacer"),e("v-btn",{attrs:{color:"purple accent-4",fab:"",small:"",icon:""},on:{mousedown:function(n){t.continue_movement_up=!0,t.up(n)},mouseup:function(n){t.continue_movement_up=!1,t.cmd_vel&&t.stop()}}},[e("v-icon",[t._v(" mdi-chevron-up ")])],1),e("v-spacer")],1),e("v-row",{staticClass:"pa-2"},[e("v-btn",{attrs:{color:"purple accent-4",fab:"",small:"",icon:""},on:{mousedown:function(n){t.continue_movement_left=!0,t.left(n)},mouseup:function(n){t.continue_movement_left=!1,t.cmd_vel&&t.stop()}}},[e("v-icon",[t._v(" mdi-chevron-left ")])],1),e("v-spacer"),e("v-btn",{attrs:{color:"purple accent-4",fab:"",small:"",icon:""},on:{click:function(n){return t.stop()}}},[e("v-icon",[t._v(" mdi-close-circle-outline ")])],1),e("v-spacer"),e("v-btn",{attrs:{color:"purple accent-4",fab:"",small:"",icon:""},on:{mousedown:function(n){t.continue_movement_right=!0,t.right(n)},mouseup:function(n){t.continue_movement_right=!1,t.cmd_vel&&t.stop()}}},[e("v-icon",[t._v(" mdi-chevron-right ")])],1)],1),e("v-row",{staticClass:"pa-2"},[e("v-spacer"),e("v-btn",{attrs:{color:"purple accent-4",fab:"",small:"",icon:""},on:{mousedown:function(n){t.continue_movement_down=!0,t.down(n)},mouseup:function(n){t.continue_movement_down=!1,t.cmd_vel&&t.stop()}}},[e("v-icon",[t._v(" mdi-chevron-down ")])],1),e("v-spacer")],1)],1)],1):t._e()],1)},m=[],d=e("1da1"),g=(e("96cf"),e("d3b7"),e("cb29"),e("159b"),e("ac1f"),e("1276"),e("caad"),e("2532"),e("47e3")),v=e("e86b"),w=e.n(v),p=e("6176"),y=e.n(p),b={},x=2,M=0,z=0;function P(t){return new Promise((function(n){return setTimeout(n,t)}))}function I(){return T.apply(this,arguments)}function T(){return T=Object(d["a"])(regeneratorRuntime.mark((function t(){var n,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=!0;case 1:if(!n){t.next=6;break}return t.next=4,P(1500).then((function(){e=new w.a.Ros({url:"ws://".concat(g["a"].bridge_address,":9090")}),e.on("connection",(function(){n=!1})),e.on("error",(function(){console.error("error connecting to rosbridge")}))}));case 4:t.next=1;break;case 6:return t.abrupt("return",new Promise((function(t){return t(e)})));case 7:case"end":return t.stop()}}),t)}))),T.apply(this,arguments)}function E(t){var n={};Object.assign(n,t),r.width=n.info.width,r.height=n.info.height,h=i.createImageData(n.info.width,n.info.height);for(var e=n.info.height-1;e>-1;e--)for(var o=n.info.width-1;o>-1;o--){var a,s=o+e*n.info.width,l=n.data[s];a=100===l?0:0===l?255:127;var u=4*(n.info.width-o+e*n.info.width);h.data[u]=a,h.data[++u]=a,h.data[++u]=a,h.data[++u]=255}}function N(){i.moveTo(0,0),i.beginPath(),i.rect(0,0,a.width,a.height),i.fillStyle="rgb(127,127,127)",i.fill(),i.closePath()}function Y(t){var n=t.w,e=t.x,o=t.y,a=t.z;return-Math.atan2(2*(n*a+e*o),1-2*(o*o+a*a))}function k(t,n,e){var o=c.info.width-(t-c.info.origin.position.x)/c.info.resolution,a=(n-c.info.origin.position.y)/c.info.resolution,i=null;return e&&(i=Y(e),i<0&&(i=2*Math.PI+i)),{x:o,y:a,theta:i}}function X(){if(_){var t=7,n=k(_.position.x,_.position.y,_.orientation),e=n.x,o=n.y,a=n.theta+Math.PI,i=a+Math.PI/6,r=a-Math.PI/6;i=i>2*Math.PI?i-2*Math.PI:i<0?i+2*Math.PI:i,r=r>2*Math.PI?r-2*Math.PI:r<0?r+2*Math.PI:r,s.beginPath(),s.moveTo(e,o),s.arc(e,o,t,i,r),s.fillStyle="purple",s.fill(),s.closePath()}}var q={};function R(t,n,e,o){var a=k(t,n);s.beginPath(),s.moveTo(a.x,a.y),s.arc(a.x,a.y,o,0,2*Math.PI),s.fillStyle=e,s.fill(),s.closePath()}function C(t,n,e,o){var a=k(t,n),i=20*Math.cos(e)+a.x,r=-20*Math.sin(e)+a.y;s.beginPath(),s.moveTo(a.x,a.y),s.lineTo(i,r),s.strokeStyle=o,s.lineWidth=2,s.stroke(),s.closePath()}function O(){b.poses&&b.poses.length>0&&b.poses.forEach((function(t){R(t.pose.position.x,t.pose.position.y,"blue",1)}))}function S(){if(q.draw&&u){var t="blue";if(!(q.robot_x-u["pose"]["x"]<.15&&q.robot_y-u["pose"]["y"]<.15))return void console.log("returning");"succeed"==u.state?t="green":"running"==u.state?(O(),t="orange"):"false"==u.state&&(t="red"),u.is_angled?C(q.robot_x,q.robot_y,q.angle,t):R(q.robot_x,q.robot_y,t,2)}}function L(){h&&(s.beginPath(),s.moveTo(0,0),s.putImageData(h,0,0),s.closePath(),X(),S(),i.drawImage(r,M,z,a.width/x>>0,a.height/x>>0,0,0,a.width,a.height),i.closePath())}function Z(){return V.apply(this,arguments)}function V(){return V=Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return N(),L(),t.next=4,P(100);case 4:requestAnimationFrame(Z);case 5:case"end":return t.stop()}}),t)}))),V.apply(this,arguments)}var j={data:function(){return{cmd_vel:!1,cmd_vel_pub:null,goal_pub:null,unangled_goal_pub:null,continue_movement_left:!1,continue_movement_up:!1,continue_movement_right:!1,continue_movement_down:!1,continue_zoomout:!1,continue_zoomin:!1,goal_flag:!1,canvas:null,temp_canvas:null,c:null,temp_c:null,controllers:!0,manual_control_flags:[],cmd_vel_flag:null,point_goal_flag:null,arrow_goal_flag:null,navigation_mode_interval_holder:null}},methods:{down:function(){this.continue_movement_down&&(this.cmd_vel?this.cmd_vel_down():this.movedown(),setTimeout(this.down,60))},up:function(){this.continue_movement_up&&(this.cmd_vel?this.cmd_vel_up():this.moveup(),setTimeout(this.up,60))},right:function(){this.continue_movement_right&&(this.cmd_vel?this.cmd_vel_right():this.moveright(),setTimeout(this.right,60))},left:function(){this.continue_movement_left&&(this.cmd_vel?this.cmd_vel_left():this.moveleft(),setTimeout(this.left,60))},cmd_vel_right:function(){var t=new w.a.Message({linear:{x:0,y:0,z:0},angular:{x:0,y:0,z:-1}});this.cmd_vel_pub.publish(t)},cmd_vel_left:function(){var t=new w.a.Message({linear:{x:0,y:0,z:0},angular:{x:0,y:0,z:1}});this.cmd_vel_pub.publish(t)},cmd_vel_up:function(){var t=new w.a.Message({linear:{x:.24,y:0,z:0},angular:{x:0,y:0,z:0}});this.cmd_vel_pub.publish(t)},cmd_vel_down:function(){var t=new w.a.Message({linear:{x:-.24,y:0,z:0},angular:{x:0,y:0,z:0}});this.cmd_vel_pub.publish(t)},stop:function(){var t=new w.a.Message({linear:{x:0,y:0,z:0},angular:{x:0,y:0,z:0}});this.cmd_vel_pub.publish(t)},zoomin:function(){this.continue_zoomin&&(x<2.5?x+=.1:this.continue_zoomin=!1,setTimeout(this.zoomin,60))},zoomout:function(){this.continue_zoomout&&(x>.5?x-=.1:this.continue_zoomout=!1,setTimeout(this.zoomout,60))},moveup:function(){z>-.1*a.height?z-=10:this.continue_movement_up=!1},movedown:function(){z+a.height/x<1.1*a.height?z+=10:this.continue_movement_down=!1},moveright:function(){M+a.width/x<1.1*a.width?M+=10:this.continue_movement_right=!1},moveleft:function(){M>-.1*a.width?M-=10:this.continue_movement_left=!1},wait_for_angled_goal:function(){this.goal_flag=!0,a.addEventListener("mousedown",this.angled_goal_mousedown_handler),a.addEventListener("mouseup",this.angled_goal_mouseup_handler)},wait_for_unangled_goal:function(){this.goal_flag=!0,a.addEventListener("mousedown",this.unangled_goal_mousedown_handler),a.addEventListener("mouseup",this.unangled_goal_mouseup_handler)},angled_goal_mousedown_handler:function(t){var n=i.getImageData(t.layerX,t.layerY,1,1).data;n[0],n[1],255==n[2]&&(q={},q.x=t.layerX/x+M,q.layerX=t.layerX,q.y=t.layerY/x+z,q.layerY=t.layerY,q.drop=!0,q.draw=!1)},angled_goal_mouseup_handler:function(t){if(q.drop&&c.info){q.drop=!1,q.abs_angle=Math.atan(Math.abs((t.layerY-q.layerY)/(t.layerX-q.layerX))),q.end_layerX=t.layerX,q.end_layerY=t.layerY,q.end_layerX-q.layerX>0?q.end_layerY-q.layerY>0?q.angle=2*Math.PI-q.abs_angle:q.angle=q.abs_angle:q.end_layerY-q.layerY>0?q.angle=Math.PI+q.abs_angle:q.angle=Math.PI-q.abs_angle,q.robot_angle=Math.PI+q.angle,q.robot_angle>2*Math.PI&&(q.robot_angle=-2*Math.PI+q.robot_angle),q.robot_x=(c.info.width-q.x)*c.info.resolution+c.info.origin.position.x,q.robot_y=q.y*c.info.resolution+c.info.origin.position.y;var n=y.a.fromEuler(0,0,q.robot_angle,"XYZ");q.draw=!0;var e=new w.a.Message({header:{seq:0,stamp:0,frame_id:"slamware_map"},pose:{position:{x:q.robot_x,y:q.robot_y,z:q.robot_z},orientation:{x:n.x,y:n.y,z:n.z,w:n.w}}});this.goal_pub.publish(e)}this.cancel_goal()},unangled_goal_mousedown_handler:function(t){var n=i.getImageData(t.layerX,t.layerY,1,1).data;n[0],n[1],255==n[2]&&(q={},q.x=t.layerX/x+M,q.layerX=t.layerX,q.y=t.layerY/x+z,q.layerY=t.layerY,q.drop=!0,q.draw=!1)},unangled_goal_mouseup_handler:function(){if(q.drop&&c.info){q.drop=!1,q.robot_x=(c.info.width-q.x)*c.info.resolution+c.info.origin.position.x,q.robot_y=q.y*c.info.resolution+c.info.origin.position.y,q.draw=!0;var t=new w.a.Message({location:{x:q.robot_x,y:q.robot_y,z:0}});this.unangled_goal_pub.publish(t)}this.cancel_goal()},clear_goal:function(){q={}},cancel_goal:function(){this.goal_flag=!1,a.removeEventListener("mousedown",this.angled_goal_mousedown_handler),a.removeEventListener("mouseup",this.angled_goal_mouseup_handler),a.removeEventListener("mousedown",this.unangled_goal_mousedown_handler),a.removeEventListener("mouseup",this.unangled_goal_mouseup_handler)}},watch:{},mounted:function(){var t=this,n=this;this.canvas=a=document.getElementById("map"),this.temp_canvas=r=document.getElementById("temp"),this.$store.dispatch("Loading/clear"),o=document.getElementById("root"),l=document.getElementById("mainbar"),a.width=o.offsetWidth,a.height=window.innerHeight-l.offsetHeight,this.c=i=a.getContext("2d"),this.temp_c=s=r.getContext("2d"),setTimeout((function(){I().then((function(t){var e=new w.a.Topic({ros:t,name:"/current_pose",messageType:"geometry_msgs/Pose"});e.subscribe((function(t){_=t}));var o=new w.a.Topic({ros:t,name:"/slamware_ros_sdk_server_node/global_plan_path",messageType:"nav_msgs/Path"});o.subscribe((function(t){b=t}));var a=new w.a.Topic({ros:t,name:"/slamware_ros_sdk_server_node/map",messageType:"nav_msgs/OccupancyGrid",compression:"png"});a.subscribe((function(t){c=t,E(t)}));var i=new w.a.Topic({ros:t,name:"/navigation/goal_monitor",messageType:"status_msgs/goal_monitor_msg"});i.subscribe((function(t){u=t})),n.cmd_vel_pub=new w.a.Topic({ros:t,name:"/navigation/cmd_vel_req",messageType:"geometry_msgs/Twist"}),n.goal_pub=new w.a.Topic({ros:t,name:"/navigation/goal_req",messageType:"geometry_msgs/PoseStamped"}),n.unangled_goal_pub=new w.a.Topic({ros:t,name:"/navigation/unangled_goal_req",messageType:"slamware_ros_sdk/MoveToRequest"})}))}),10),window.onresize=function(){setTimeout((function(){a.width=o.offsetWidth,a.height=window.innerHeight-l.offsetHeight}),10)},Z(),this.navigation_mode_interval_holder=setInterval((function(){t.$store.dispatch("Ros/take_action","navigation/get_mode",{root:!0}).then((function(n){"manual"==n?t.$store.dispatch("Ros/take_action","startup/get_manual_controls",{root:!0}).then((function(n){t.controllers=!0,console.log(n.split("|")),t.manual_control_flags=n.split("|"),t.manual_control_flags.includes("cmd_vel")||(t.cmd_vel=!1),t.arrow_goal_flag=!!t.manual_control_flags.includes("arrow_goal"),t.cmd_vel_flag=!!t.manual_control_flags.includes("cmd_vel"),t.point_goal_flag=!!t.manual_control_flags.includes("point_goal")})):(t.controllers=!1,t.manual_control_flags=[])}))}),400)},beforeDestroy:function(){clearInterval(this.navigation_mode_interval_holder)},computed:{}},F=j,B=(e("d7f5"),e("2877")),D=e("6544"),A=e.n(D),H=e("8336"),$=e("b0af"),G=e("99d9"),J=e("a523"),W=e("132d"),K=e("0fd9"),Q=e("2fa4"),U=e("b73d"),tt=Object(B["a"])(F,f,m,!1,null,"59432912",null);n["default"]=tt.exports;A()(tt,{VBtn:H["a"],VCard:$["a"],VCardText:G["b"],VContainer:J["a"],VIcon:W["a"],VRow:K["a"],VSpacer:Q["a"],VSwitch:U["a"]})},d7f5:function(t,n,e){"use strict";e("f459")},f459:function(t,n,e){}}]);
//# sourceMappingURL=startup_map.a2674062.js.map